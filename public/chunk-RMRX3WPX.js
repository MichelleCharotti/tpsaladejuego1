import{a as R,b as N}from"./chunk-PKUTC4BC.js";import{h as D,z as L}from"./chunk-UCWVASYT.js";import{Aa as g,Da as z,Eb as V,Fb as I,Gb as E,Hb as U,Ka as M,Na as o,Oa as k,Qa as s,Ra as c,Sa as m,Ta as F,Ua as u,Va as _,Xa as l,Ya as w,Z as P,Za as x,cb as A,db as S,eb as y,fa as j,fb as T,ga as O,va as p,za as i}from"./chunk-Q72HHEJZ.js";var h=class{_cartas;_cartasUsadas;constructor(e=!0){this._cartasUsadas=[],this._cartas=[],e?this.generarMazoCompleto():this.generarMazoDe10(),this.mezclarMazo()}get restantes(){return this._cartas.length}mezclarMazo(){for(let e=this._cartas.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[this._cartas[e],this._cartas[a]]=[this._cartas[a],this._cartas[e]]}}obtenerCarta(){let e=this._cartas.pop();return e&&this._cartasUsadas.push(e),e}reiniciarMazo(){this._cartas.push(...this._cartasUsadas),this._cartasUsadas=[],this.mezclarMazo()}generarMazoDe10(){for(let e=1;e<=10;e++){let a={codigo:"P"+e,valor:e},t={codigo:"C"+e,valor:e},d={codigo:"T"+e,valor:e},n={codigo:"D"+e,valor:e};this._cartas.push(a,t,d,n)}}generarMazoCompleto(){let e={codigo:"P1",valor:11},a={codigo:"C1",valor:11},t={codigo:"T1",valor:11},d={codigo:"D1",valor:11};this._cartas.push(e,a,t,d);for(let n=2;n<10;n++){let f={codigo:"P"+n,valor:n},v={codigo:"C"+n,valor:n},C={codigo:"T"+n,valor:n},b={codigo:"D"+n,valor:n};this._cartas.push(f,v,C,b)}for(let n=10;n<14;n++){let f={codigo:"P"+n,valor:10},v={codigo:"C"+n,valor:10},C={codigo:"T"+n,valor:10},b={codigo:"D"+n,valor:10};this._cartas.push(f,v,C,b)}}};var B=r=>({rotar:r}),G=()=>[],J=(r,e)=>({ganado:r,perdido:e});function q(r,e){if(r&1&&(s(0,"div",14),m(1,"img",15),c()),r&2){let a=e.index;k("margin-top",-a*1.5,"px"),i(),o("src","../../../assets/cartas/flip"+(a/2==0?"0":"0bis")+".png",p)}}function H(r,e){if(r&1){let a=F();s(0,"div",16)(1,"h2"),l(2),c(),s(3,"button",17),u("click",function(){j(a);let d=_();return O(d.generarNuevaRonda())}),l(4,"\xBFJugar Otra Vez?"),c()()}if(r&2){let a=_();o("ngClass",T(2,J,a.estado==0,a.estado==1)),i(2),w(a.mensajeFinal)}}var Y=class r{constructor(e,a,t){this.user=e;this.db=a;this.preload=t;this.preCargarImagenes(this.generarListaImagenes()),this.user.datos&&(this.puntajeActual=this.user.datos.puntajeMaxMayorMenor),this.generarNuevaRonda()}mazo=new h(!1);cartaVisible;cartaAdivinar;mostrarMensajeFinal=!1;mensajeFinal="";estado=2;puntajeActual=0;get imagenCartaVisible(){let e="0";return this.cartaVisible&&(e=this.cartaVisible.codigo),"../../../assets/cartas/"+e+".png"}get imagenCartaAdivinar(){let e="0";return this.cartaAdivinar&&(e=this.cartaAdivinar.codigo),"../../../assets/cartas/"+e+".png"}generarNuevaRonda(){this.mazo.restantes<15&&this.mazo.reiniciarMazo(),this.cartaAdivinar=void 0,this.cartaVisible=void 0,setTimeout(()=>{this.cartaVisible=this.mazo.obtenerCarta()},500),this.mostrarMensajeFinal=!1,this.mensajeFinal=""}adivinar(){return this.mostrarMensajeFinal=!0,this.cartaAdivinar=this.mazo.obtenerCarta(),this.cartaAdivinar?.valor==this.cartaVisible?.valor?(this.empatar(),!1):!0}adivinarMayor(){this.adivinar()&&(this.cartaAdivinar.valor>this.cartaVisible.valor?this.ganar():this.perder())}adivinarMenor(){this.adivinar()&&(this.cartaAdivinar.valor<this.cartaVisible.valor?this.ganar():this.perder())}ganar(){this.estado=0,this.mensajeFinal="GANASTE 1 PUNTO",this.guardarPuntaje()}perder(){this.estado=1,this.mensajeFinal="PERDISTE"}empatar(){this.estado=2,this.mensajeFinal="EMPATE"}guardarPuntaje(){this.puntajeActual+=1,this.user.datos?.id&&(this.user.datos.puntajeMaxMayorMenor=this.puntajeActual,this.db.actulizarPuntaje("puntajeMaxMayorMenor",this.user.datos.id,this.user.datos.puntajeMaxMayorMenor))}preCargarImagenes(e){e.forEach(a=>{let t=new Image;t.src=a,this.preload.appendChild(document.body,t),document.body.removeChild(t)})}generarListaImagenes(){let e=[],a="../../../assets/cartas/";for(let t=1;t<11;t++)e.push(a+"P"+t+".png"),e.push(a+"D"+t+".png"),e.push(a+"C"+t+".png"),e.push(a+"T"+t+".png");return e}static \u0275fac=function(a){return new(a||r)(g(N),g(R),g(z))};static \u0275cmp=P({type:r,selectors:[["app-mayor-menor"]],standalone:!0,features:[A],decls:25,vars:15,consts:[[1,"contenedor"],[1,"contenedor-imagenes"],[1,"carta-animacion-contenedor"],[1,"carta-animacion",3,"ngClass"],["src","../../../assets/cartas/0.png",1,"carta-animacion-dorso"],[1,"carta-animacion-frente",3,"src"],[1,"mazo-cartas"],["class","carta",3,"margin-top",4,"ngFor","ngForOf"],[1,"contenedor-botones"],[1,"mayor",3,"click","disabled"],[1,"menor",3,"click","disabled"],["class","mensaje",3,"ngClass",4,"ngIf"],[1,"puntaje-mazo"],[1,"puntaje"],[1,"carta"],[3,"src"],[1,"mensaje",3,"ngClass"],[3,"click"]],template:function(a,t){a&1&&(s(0,"div",0)(1,"h3"),l(2,"La Siguiente Carta: \xBFSera Menor o Mayor?"),c(),s(3,"div",1)(4,"div",2)(5,"div",3),m(6,"img",4)(7,"img",5),c()(),s(8,"div",2)(9,"div",3),m(10,"img",4)(11,"img",5),c()(),s(12,"div",6),M(13,q,2,3,"div",7),c()(),s(14,"div",8)(15,"button",9),u("click",function(){return t.adivinarMayor()}),l(16,"Mayor >"),c(),s(17,"button",10),u("click",function(){return t.adivinarMenor()}),l(18,"Menor <"),c()(),M(19,H,5,5,"div",11),s(20,"div",12)(21,"div",13),l(22),m(23,"br"),l(24),c()()()),a&2&&(i(5),o("ngClass",y(10,B,t.cartaVisible)),i(2),o("src",t.imagenCartaVisible,p),i(2),o("ngClass",y(12,B,t.cartaAdivinar)),i(2),o("src",t.imagenCartaAdivinar,p),i(2),o("ngForOf",S(14,G).constructor(t.mazo.restantes)),i(2),o("disabled",t.mostrarMensajeFinal||!t.cartaVisible),i(2),o("disabled",t.mostrarMensajeFinal||!t.cartaVisible),i(2),o("ngIf",t.mostrarMensajeFinal),i(3),x(" Puntaje Actual: ",t.puntajeActual," "),i(2),x(" Cartas Restantes: ",t.mazo.restantes," "))},dependencies:[U,V,I,E,L,D],styles:["[_nghost-%COMP%]{height:89vh;display:grid;align-items:center;justify-content:center}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:40px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px;margin-top:10px}.contenedor-imagenes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contenedor-botones[_ngcontent-%COMP%]{display:flex;margin-bottom:4rem}.contenedor-imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0;margin:0rem 2rem 2rem 0rem;height:auto;width:200px}button[_ngcontent-%COMP%]{padding:5px 1rem;margin:0rem .5rem;color:#fff;border:none;border-radius:5px;font-size:28px;font-weight:700;cursor:pointer;transition:background-color .3s ease}.puntaje[_ngcontent-%COMP%]{text-align:center;padding:1rem;margin:0rem .5rem;border:solid 2px gainsboro;color:#fff;border-radius:10px;font-size:28px;font-weight:700;background-color:#2d789d}.mayor[_ngcontent-%COMP%]{background-color:#e77a67}.mayor[_ngcontent-%COMP%]:hover:enabled{background-color:#e44c2a}.menor[_ngcontent-%COMP%]{background-color:#6495ed}.menor[_ngcontent-%COMP%]:hover:enabled{background-color:#4169e1}p[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:300;font-family:Courier New,Courier,monospace;position:fixed;bottom:0%;right:0%;margin:2px 5px}a[_ngcontent-%COMP%]{color:#000}h3[_ngcontent-%COMP%]{text-align:center;padding:1rem;margin:0rem .5rem 2rem;color:green;border-radius:10px;font-size:35px;font-weight:700}.mensaje[_ngcontent-%COMP%]{position:fixed;background-color:#473fb6;top:80%;left:50%;transform:translate(-50%,-50%);color:#fff;padding:20px;border-radius:5px;text-align:center;box-shadow:0 2px 6px #0000004d}.mensaje.ganado[_ngcontent-%COMP%]{background-color:#4caf50}.mensaje.perdido[_ngcontent-%COMP%]{background-color:#f44336}.mensaje[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#000;border:none;padding:10px 20px;font-size:16px;text-align:center;cursor:pointer;border-radius:5px}.mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}button[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:default}.puntaje-mazo[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}.mazo-cartas[_ngcontent-%COMP%]{display:flex;height:auto;width:250px;margin-top:-50px}.carta[_ngcontent-%COMP%]{position:absolute;margin-left:0}.carta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:140px;width:190px}.carta-animacion-contenedor[_ngcontent-%COMP%]{position:relative;top:0%;padding:0;margin:0rem 2rem 2rem 0rem;height:340px;width:250px}.carta-animacion[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform-style:preserve-3d;transition:all .5s ease}.rotar[_ngcontent-%COMP%]{transform:rotateY(180deg)}.carta-animacion-dorso[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.carta-animacion-frente[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;transform:rotateY(180deg)}@media (max-width: 950px){.mazo-cartas[_ngcontent-%COMP%]{display:none}.contenedor-imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0rem .5rem 2rem}.puntaje[_ngcontent-%COMP%]{font-size:20px}}"]})};export{Y as MayorMenorComponent};
