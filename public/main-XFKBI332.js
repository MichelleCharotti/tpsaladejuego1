var cR=Object.defineProperty,uR=Object.defineProperties;var lR=Object.getOwnPropertyDescriptors;var AI=Object.getOwnPropertySymbols,dR=Object.getPrototypeOf,hR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,pR=Reflect.get;var RI=(t,e,n)=>e in t?cR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})hR.call(e,n)&&RI(t,n,e[n]);if(AI)for(var n of AI(e))fR.call(e,n)&&RI(t,n,e[n]);return t},ue=(t,e)=>uR(t,lR(e));var rr=(t,e,n)=>pR(dR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function MI(t,e){return Object.is(t,e)}var $e=null,$c=!1,Hc=1,ir=Symbol("SIGNAL");function ye(t){let e=$e;return $e=t,e}function NI(){return $e}var Bs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tf(t){if($c)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(Wc($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&js($e)){let n=$e.producerNode[e];Gc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=js($e)?kI(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function gR(){Hc++}function xI(t){if(!(js(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hc)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=Hc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hc}}function PI(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||mR(n)}finally{$c=e}}function OI(){return $e?.consumerAllowSignalWrites!==!1}function mR(t){t.dirty=!0,PI(t),t.consumerMarkedDirty?.(t)}function zc(t){return t&&(t.nextProducerIndex=0),ye(t)}function nf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(js(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xI(n),r!==n.version))return!0}return!1}function of(t){if(Wc(t),js(t))for(let e=0;e<t.producerNode.length;e++)Gc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kI(t,e,n){if(FI(t),t.liveConsumerNode.length===0&&LI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=kI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Gc(t,e){if(FI(t),t.liveConsumerNode.length===1&&LI(t))for(let r=0;r<t.producerNode.length;r++)Gc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function FI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function LI(t){return t.producerNode!==void 0}function VI(t){let e=Object.create(yR);e.computation=t;let n=()=>{if(xI(e),tf(e),e.value===qc)throw e.error;return e.value};return n[ir]=e,n}var Xh=Symbol("UNSET"),ef=Symbol("COMPUTING"),qc=Symbol("ERRORED"),yR=ue(k({},Bs),{value:Xh,dirty:!0,error:null,equal:MI,producerMustRecompute(t){return t.value===Xh||t.value===ef},producerRecomputeValue(t){if(t.value===ef)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ef;let n=zc(t),r;try{r=t.computation()}catch(i){r=qc,t.error=i}finally{nf(t,n)}if(e!==Xh&&e!==qc&&r!==qc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function vR(){throw new Error}var UI=vR;function jI(){UI()}function BI(t){UI=t}var _R=null;function $I(t){let e=Object.create(qI);e.value=t;let n=()=>(tf(e),e.value);return n[ir]=e,n}function sf(t,e){OI()||jI(),t.equal(t.value,e)||(t.value=e,IR(t))}function HI(t,e){OI()||jI(),sf(t,e(t.value))}var qI=ue(k({},Bs),{equal:MI,value:void 0});function IR(t){t.version++,gR(),PI(t),_R?.()}function te(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kc=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Kc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zI(o)}catch(s){e=e??[],s instanceof Kc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)}remove(e){let{_finalizers:n}=this;n&&Wr(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var af=Ne.EMPTY;function Qc(t){return t instanceof Ne||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function zI(t){te(t)?t():t.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(t);else throw t})}function $s(){}var GI=cf("C",void 0,void 0);function WI(t){return cf("E",void 0,t)}function KI(t){return cf("N",t,void 0)}function cf(t,e,n){return{kind:t,value:e,error:n}}var Kr=null;function Ui(t){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Kr;if(e&&(Kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else t()}function QI(t){Gt.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Qr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qc(e)&&e.add(this)):this.destination=DR}static create(e,n,r){return new ji(e,n,r)}next(e){this.isStopped?lf(KI(e),this):this._next(e)}error(e){this.isStopped?lf(WI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lf(GI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wR=Function.prototype.bind;function uf(t,e){return wR.call(t,e)}var df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zc(r)}else Zc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zc(n)}}},ji=class extends Qr{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uf(e.next,o),error:e.error&&uf(e.error,o),complete:e.complete&&uf(e.complete,o)}):i=e}this.destination=new df(i)}};function Zc(t){Gt.useDeprecatedSynchronousErrorHandling?QI(t):Yc(t)}function ER(t){throw t}function lf(t,e){let{onStoppedNotification:n}=Gt;n&&Vi.setTimeout(()=>n(t,e))}var DR={closed:!0,next:$s,error:ER,complete:$s};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function Jc(...t){return hf(t)}function hf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=bR(n)?n:new ji(n,r,i);return Ui(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=YI(r),new r((i,o)=>{let s=new ji({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bi](){return this}pipe(...n){return hf(n)(this)}toPromise(n){return n=YI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function YI(t){var e;return(e=t??Gt.Promise)!==null&&e!==void 0?e:Promise}function CR(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function bR(t){return t&&t instanceof Qr||CR(t)&&Qc(t)}function ff(t){return te(t?.lift)}function de(t){return e=>{if(ff(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new pf(t,e,n,r,i)}var pf=class extends Qr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $i(){return de((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hi=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return $i()(this)}};var ZI=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZI}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?af:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Wr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Xc(e,n),t})(),Xc=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:af}};var Ze=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var eu=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Hs={setInterval(t,e,...n){let{delegate:r}=Hs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Hs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends eu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Hs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Hs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var zi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};zi.now=gf.now;var Gi=class extends zi{constructor(e,n=zi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qs=new Gi(qi);var tu=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nu=class extends Gi{};var mf=new nu(tu);var Dt=new le(t=>t.complete());function JI(t){return t&&te(t.schedule)}function XI(t){return t[t.length-1]}function ru(t){return te(XI(t))?t.pop():void 0}function or(t){return JI(XI(t))?t.pop():void 0}function yf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function ew(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(t){return this instanceof Yr?(this.v=t,this):new Yr(t)}function nw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(M){return new Promise(function(R,F){o.push([I,M,R,F])>1||u(I,M)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(M){_(o[0][3],M)}}function l(I){I.value instanceof Yr?Promise.resolve(I.value.v).then(f,p):_(o[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function _(I,S){I(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ew=="function"?ew(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var iu=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return te(t?.then)}function su(t){return te(t[Bi])}function au(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uu=TR();function lu(t){return te(t?.[uu])}function du(t){return nw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Yr(n.read());if(i)return yield Yr(void 0);yield yield Yr(r)}}finally{n.releaseLock()}})}function hu(t){return te(t?.getReader)}function ke(t){if(t instanceof le)return t;if(t!=null){if(su(t))return SR(t);if(iu(t))return AR(t);if(ou(t))return RR(t);if(au(t))return iw(t);if(lu(t))return MR(t);if(hu(t))return NR(t)}throw cu(t)}function SR(t){return new le(e=>{let n=t[Bi]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AR(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RR(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yc)})}function MR(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iw(t){return new le(e=>{xR(t,e).catch(n=>e.error(n))})}function NR(t){return iw(du(t))}function xR(t,e){var n,r,i,o;return tw(this,void 0,void 0,function*(){try{for(n=rw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function sr(t,e=0){return de((n,r)=>{n.subscribe(se(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ow(t,e){return ke(t).pipe(ar(e),sr(e))}function sw(t,e){return ke(t).pipe(ar(e),sr(e))}function aw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cw(t,e){return new le(n=>{let r;return gt(n,e,()=>{r=t[uu](),gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uw(t,e){return fu(du(t),e)}function lw(t,e){if(t!=null){if(su(t))return ow(t,e);if(iu(t))return aw(t,e);if(ou(t))return sw(t,e);if(au(t))return fu(t,e);if(lu(t))return cw(t,e);if(hu(t))return uw(t,e)}throw cu(t)}function Te(t,e){return e?lw(t,e):ke(t)}function Y(...t){let e=or(t);return Te(t,e)}function Wi(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function vf(t){return!!t&&(t instanceof le||te(t.lift)&&te(t.subscribe))}var An=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:PR}=Array;function OR(t,e){return PR(e)?t(...e):t(e)}function pu(t){return ne(e=>OR(t,e))}var{isArray:kR}=Array,{getPrototypeOf:FR,prototype:LR,keys:VR}=Object;function gu(t){if(t.length===1){let e=t[0];if(kR(e))return{args:e,keys:null};if(UR(e)){let n=VR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function UR(t){return t&&typeof t=="object"&&FR(t)===LR}function mu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zs(...t){let e=or(t),n=ru(t),{args:r,keys:i}=gu(t);if(r.length===0)return Te([],e);let o=new le(jR(r,e,i?s=>mu(i,s):Et));return n?o.pipe(pu(n)):o}function jR(t,e,n=Et){return r=>{dw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)dw(e,()=>{let l=Te(t[u],e),f=!1;l.subscribe(se(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dw(t,e,n){t?gt(n,t,e):e()}function hw(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,_=()=>{p&&!u.length&&!l&&e.complete()},I=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;ke(n(M,f++)).subscribe(se(e,F=>{i?.(F),o?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?gt(e,s,()=>S(F)):S(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(se(e,I,()=>{p=!0,_()})),()=>{c?.()}}function Fe(t,e,n=1/0){return te(e)?Fe((r,i)=>ne((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>hw(r,i,t,n)))}function Ki(t=1/0){return Fe(Et,t)}function fw(){return Ki(1)}function Qi(...t){return fw()(Te(t,or(t)))}function yu(t){return new le(e=>{ke(t()).subscribe(e)})}function _f(...t){let e=ru(t),{args:n,keys:r}=gu(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;ke(n[f]).subscribe(se(o,_=>{p||(p=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?mu(r,c):c),o.complete())}))}});return e?i.pipe(pu(e)):i}function Ct(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function cr(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=ke(t(s,cr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(se(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Zr(t,e){return te(e)?Fe(t,e,1):Fe(t,1)}function If(t,e=qs){return de((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,f=e.now();if(f<l){i=this.schedule(void 0,l-f),r.add(i);return}c()}n.subscribe(se(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ur(t){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kt(t){return t<=0?()=>Dt:de((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wf(t){return ne(()=>t)}function vu(t=BR){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BR(){return new An}function Gs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):Et,kt(1),n?ur(e):vu(()=>new An))}function Yi(t){return t<=0?()=>Dt:de((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ef(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):Et,Yi(1),n?ur(e):vu(()=>new An))}function _u(t,e){return de(pw(t,e,arguments.length>=2,!0))}function Iu(...t){let e=or(t);return de((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function Ft(t,e){return de((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,f=o++;ke(t(u,f)).subscribe(i=se(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Df(t){return de((e,n)=>{ke(t).subscribe(se(n,()=>n.complete(),$s)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var Jw="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(Dp(e,n)),this.code=e}};function Dp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ta(t){return{toString:t}.toString()}var wu="__parameters__";function $R(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Xw(t,e,n){return ta(()=>{let r=$R(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(wu)?u[wu]:Object.defineProperty(u,wu,{value:[]})[wu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Lf=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function HR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var qR=De({__forward_ref__:De});function yo(t){return t.__forward_ref__=yo,t.toString=function(){return dt(this())},t}function lt(t){return eE(t)?t():t}function eE(t){return typeof t=="function"&&t.hasOwnProperty(qR)&&t.__forward_ref__===yo}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function el(t){return mw(t,nE)||mw(t,rE)}function tE(t){return el(t)!==null}function mw(t,e){return t.hasOwnProperty(e)?t[e]:null}function zR(t){let e=t&&(t[nE]||t[rE]);return e||null}function yw(t){return t&&(t.hasOwnProperty(vw)||t.hasOwnProperty(GR))?t[vw]:null}var nE=De({\u0275prov:De}),vw=De({\u0275inj:De}),rE=De({ngInjectableDef:De}),GR=De({ngInjectorDef:De}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iE(t){return t&&!!t.\u0275providers}var WR=De({\u0275cmp:De}),KR=De({\u0275dir:De}),QR=De({\u0275pipe:De}),YR=De({\u0275mod:De}),Nu=De({\u0275fac:De}),Ks=De({__NG_ELEMENT_ID__:De}),_w=De({__NG_ENV_ID__:De});function tl(t){return typeof t=="string"?t:t==null?"":String(t)}function ZR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():tl(t)}function JR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Cp(t,e){throw new H(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Vf;function oE(){return Vf}function Lt(t){let e=Vf;return Vf=t,e}function sE(t,e,n){let r=el(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Cp(t,"Injector")}var XR={},Qs=XR,Uf="__NG_DI_FLAG__",xu="ngTempTokenPath",eM="ngTokenPath",tM=/\n/gm,nM="\u0275",Iw="__source",to;function rM(){return to}function lr(t){let e=to;return to=t,e}function iM(t,e=oe.Default){if(to===void 0)throw new H(-203,!1);return to===null?sE(t,void 0,e):to.get(t,e&oe.Optional?null:void 0,e)}function W(t,e=oe.Default){return(oE()||iM)(lt(t),e)}function P(t,e=oe.Default){return W(t,nl(e))}function nl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jf(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){let c=r[s],u=oM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(W(i,o))}else e.push(W(r))}return e}function aE(t,e){return t[Uf]=e,t.prototype[Uf]=e,t}function oM(t){return t[Uf]}function sM(t,e,n,r){let i=t[xu];throw e[Iw]&&i.unshift(e[Iw]),t.message=aM(`
`+t.message,i,n,r),t[eM]=i,t[xu]=null,t}function aM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nM?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tM,`
  `)}`}var ft=aE(Xw("Optional"),8);var cE=aE(Xw("SkipSelf"),4);function ro(t,e){let n=t.hasOwnProperty(Nu);return n?t[Nu]:null}function bp(t,e){t.forEach(n=>Array.isArray(n)?bp(n,e):e(n))}function uE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function uM(t,e,n){let r=na(t,e);return r>=0?t[r|1]=n:(r=~r,cM(t,r,e,n)),r}function Cf(t,e){let n=na(t,e);if(n>=0)return t[n|1]}function na(t,e){return lM(t,e,1)}function lM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var io={},Vt=[],oo=new V(""),lE=new V("",-1),dE=new V(""),Ou=class{get(e,n=Qs){if(n===Qs){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}},hE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hE||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{}),fr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(fr||{});function dM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Bf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];hM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fE(t){return t===3||t===4||t===6}function hM(t){return t.charCodeAt(0)===64}function Ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ww(t,n,i,null,e[++r]):ww(t,n,i,null,null))}}return t}function ww(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var pE="ng-template";function fM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Tp(t){return t.type===4&&t.value!==pE}function pM(t,e,n){let r=t.type===4&&!n?pE:t.value;return e===r}function gM(t,e,n){let r=4,i=t.attrs,o=i!==null?vM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Wt(r)&&!Wt(u))return!1;if(s&&Wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!pM(t,u,n)||u===""&&e.length===1){if(Wt(r))return!1;s=!0}}else if(r&8){if(i===null||!fM(t,i,u,n)){if(Wt(r))return!1;s=!0}}else{let l=e[++c],f=mM(u,i,Tp(t),n);if(f===-1){if(Wt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Wt(r))return!1;s=!0}}}}return Wt(r)||s}function Wt(t){return(t&1)===0}function mM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _M(e,t)}function yM(t,e,n=!1){for(let r=0;r<e.length;r++)if(gM(t,e[r],n))return!0;return!1}function vM(t){for(let e=0;e<t.length;e++){let n=t[e];if(fE(n))return e}return t.length}function _M(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ew(t,e){return t?":not("+e.trim()+")":e}function IM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wt(s)&&(e+=Ew(o,i),i=""),r=s,o=o||!Wt(r);n++}return i!==""&&(e+=Ew(o,i)),e}function wM(t){return t.map(IM).join(",")}function EM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Wt(i))break;i=o}r++}return{attrs:e,classes:n}}function mt(t){return ta(()=>{let e=_E(t),n=ue(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});IE(n);let r=t.dependencies;return n.directiveDefs=Cw(r,!1),n.pipeDefs=Cw(r,!0),n.id=bM(n),n})}function DM(t){return pr(t)||gE(t)}function CM(t){return t!==null}function _r(t){return ta(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Dw(t,e){if(t==null)return io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=fr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==fr.None?[r,c]:r,e[o]=s):n[o]=r}return n}function yt(t){return ta(()=>{let e=_E(t);return IE(e),e})}function pr(t){return t[WR]||null}function gE(t){return t[KR]||null}function mE(t){return t[QR]||null}function yE(t){let e=pr(t)||gE(t)||mE(t);return e!==null?e.standalone:!1}function vE(t,e){let n=t[YR]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function _E(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||io,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dw(t.inputs,e),outputs:Dw(t.outputs),debugInfo:null}}function IE(t){t.features?.forEach(e=>e(t))}function Cw(t,e){if(!t)return null;let n=e?mE:DM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(CM)}function bM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ln(t){return{\u0275providers:t}}function TM(...t){return{\u0275providers:wE(!0,t),\u0275fromNgModule:!0}}function wE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return bp(e,s=>{let c=s;$f(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&EE(i,o),n}function EE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sp(i,o=>{e(o,r)})}}function $f(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,o=yw(t),s=!o&&pr(t);if(!o&&!s){let u=t.ngModule;if(o=yw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)$f(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{bp(o.imports,f=>{$f(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&EE(l,e)}if(!c){let l=ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:dE,useValue:i,multi:!0},i),e({provide:oo,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Sp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sp(t,e){for(let n of t)iE(n)&&(n=n.\u0275providers),Array.isArray(n)?Sp(n,e):e(n)}var SM=De({provide:String,useValue:De});function DE(t){return t!==null&&typeof t=="object"&&SM in t}function AM(t){return!!(t&&t.useExisting)}function RM(t){return!!(t&&t.useFactory)}function so(t){return typeof t=="function"}function MM(t){return!!t.useClass}var rl=new V(""),Tu={},NM={},bf;function Ap(){return bf===void 0&&(bf=new Ou),bf}var bt=class{},Zs=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qf(e,s=>this.processProvider(s)),this.records.set(lE,Zi(void 0,this)),i.has("environment")&&this.records.set(bt,Zi(void 0,this));let o=this.records.get(rl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dE,Vt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=lr(this),r=Lt(void 0),i;try{return e()}finally{lr(n),Lt(r)}}get(e,n=Qs,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_w))return e[_w](this);r=nl(r);let i,o=lr(this),s=Lt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=FM(e)&&el(e);l&&this.injectableDefInScope(l)?u=Zi(Hf(e),Tu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&oe.Self?Ap():this.parent;return n=r&oe.Optional&&n===Qs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[xu]=c[xu]||[]).unshift(dt(e)),o)throw c;return sM(c,e,"R3InjectorError",this.source)}else throw c}finally{Lt(s),lr(o)}}resolveInjectorInitializers(){let e=ye(null),n=lr(this),r=Lt(void 0),i;try{let o=this.get(oo,Vt,oe.Self);for(let s of o)s()}finally{lr(n),Lt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=lt(e);let n=so(e)?e:lt(e&&e.provide),r=PM(e);if(!so(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,Tu,!0),i.factory=()=>jf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Tu&&(n.value=NM,n.value=n.factory()),typeof n.value=="object"&&n.value&&kM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Hf(t){let e=el(t),n=e!==null?e.factory:ro(t);if(n!==null)return n;if(t instanceof V)throw new H(204,!1);if(t instanceof Function)return xM(t);throw new H(204,!1)}function xM(t){if(t.length>0)throw new H(204,!1);let n=zR(t);return n!==null?()=>n.factory(t):()=>new t}function PM(t){if(DE(t))return Zi(void 0,t.useValue);{let e=CE(t);return Zi(e,Tu)}}function CE(t,e,n){let r;if(so(t)){let i=lt(t);return ro(i)||Hf(i)}else if(DE(t))r=()=>lt(t.useValue);else if(RM(t))r=()=>t.useFactory(...jf(t.deps||[]));else if(AM(t))r=()=>W(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(OM(t))r=()=>new i(...jf(t.deps));else return ro(i)||Hf(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OM(t){return!!t.deps}function kM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function FM(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function qf(t,e){for(let n of t)Array.isArray(n)?qf(n,e):n&&iE(n)?qf(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof Zs&&t.assertNotDestroyed();let n,r=lr(t),i=Lt(void 0);try{return e()}finally{lr(r),Lt(i)}}function bE(){return oE()!==void 0||rM()!=null}function LM(t){if(!bE())throw new H(-203,!1)}function VM(t){return typeof t=="function"}var xn=0,he=1,Z=2,ht=3,Kt=4,Yt=5,ku=6,Fu=7,Qt=8,ao=9,an=10,Je=11,Js=12,bw=13,vo=14,cn=15,co=16,Ji=17,uo=18,il=19,TE=20,dr=21,Tf=22,Ut=23,gr=25,SE=1;var Xr=7,Lu=8,Vu=9,jt=10,Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function hr(t){return Array.isArray(t)&&typeof t[SE]=="object"}function Pn(t){return Array.isArray(t)&&t[SE]===!0}function AE(t){return(t.flags&4)!==0}function ol(t){return t.componentOffset>-1}function Rp(t){return(t.flags&1)===1}function mr(t){return!!t.template}function zf(t){return(t[Z]&512)!==0}var Gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function RE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ir(){return ME}function ME(t){return t.type.prototype.ngOnChanges&&(t.setInput=jM),UM}Ir.ngInherit=!0;function UM(){let t=xE(this),e=t?.current;if(e){let n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jM(t,e,n,r,i){let o=this.declaredInputs[r],s=xE(t)||BM(t,{previous:io,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Gf(l&&l.currentValue,n,u===io),RE(t,e,i,n)}var NE="__ngSimpleChanges__";function xE(t){return t[NE]||null}function BM(t,e){return t[NE]=e}var Tw=null;var rn=function(t,e,n){Tw?.(t,e,n)},$M="svg",HM="math";function un(t){for(;Array.isArray(t);)t=t[xn];return t}function PE(t,e){return un(e[t])}function Bt(t,e){return un(e[t.index])}function OE(t,e){return t.data[e]}function wr(t,e){let n=e[t];return hr(n)?n:n[xn]}function Mp(t){return(t[Z]&128)===128}function qM(t){return Pn(t[ht])}function ju(t,e){return e==null?null:t[e]}function kE(t){t[Ji]=0}function FE(t){t[Z]&1024||(t[Z]|=1024,Mp(t)&&al(t))}function zM(t,e){for(;t>0;)e=e[vo],t--;return e}function sl(t){return!!(t[Z]&9216||t[Ut]?.dirty)}function Wf(t){t[an].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),sl(t)&&al(t)}function al(t){t[an].changeDetectionScheduler?.notify(0);let e=ei(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Mp(e)));)e=ei(e)}function LE(t,e){if((t[Z]&256)===256)throw new H(911,!1);t[dr]===null&&(t[dr]=[]),t[dr].push(e)}function GM(t,e){if(t[dr]===null)return;let n=t[dr].indexOf(e);n!==-1&&t[dr].splice(n,1)}function ei(t){let e=t[ht];return Pn(e)?e[ht]:e}var fe={lFrame:KE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var VE=!1;function WM(){return fe.lFrame.elementDepthCount}function KM(){fe.lFrame.elementDepthCount++}function QM(){fe.lFrame.elementDepthCount--}function UE(){return fe.bindingsEnabled}function YM(){return fe.skipHydrationRootTNode!==null}function ZM(t){return fe.skipHydrationRootTNode===t}function JM(){fe.skipHydrationRootTNode=null}function Ae(){return fe.lFrame.lView}function Zt(){return fe.lFrame.tView}function jE(t){return fe.lFrame.contextLView=t,t[Qt]}function BE(t){return fe.lFrame.contextLView=null,t}function vt(){let t=$E();for(;t!==null&&t.type===64;)t=t.parent;return t}function $E(){return fe.lFrame.currentTNode}function XM(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ra(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function HE(){return fe.lFrame.isParent}function eN(){fe.lFrame.isParent=!1}function qE(){return VE}function Sw(t){VE=t}function tN(t){return fe.lFrame.bindingIndex=t}function Np(){return fe.lFrame.bindingIndex++}function nN(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rN(){return fe.lFrame.inI18n}function iN(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kf(e)}function oN(){return fe.lFrame.currentDirectiveIndex}function Kf(t){fe.lFrame.currentDirectiveIndex=t}function sN(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zE(t){fe.lFrame.currentQueryIndex=t}function aN(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function GE(t,e,n){if(n&oe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=aN(o),i===null||(o=o[vo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=fe.lFrame=WE();return r.currentTNode=e,r.lView=t,!0}function xp(t){let e=WE(),n=t[he];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WE(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?KE(t):e}function KE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QE(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var YE=QE;function Pp(){let t=QE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cN(t){return(fe.lFrame.contextLView=zM(t,fe.lFrame.contextLView))[Qt]}function _o(){return fe.lFrame.selectedIndex}function ti(t){fe.lFrame.selectedIndex=t}function ZE(){let t=fe.lFrame;return OE(t.tView,t.selectedIndex)}function uN(){return fe.lFrame.currentNamespace}var JE=!0;function Op(){return JE}function kp(t){JE=t}function lN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ME(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Fp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Su(t,e,n){XE(t,e,3,n)}function Au(t,e,n,r){(t[Z]&3)===n&&XE(t,e,n,r)}function Sf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function XE(t,e,n,r){let i=r!==void 0?t[Ji]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ji]+=65536),(c<o||o==-1)&&(dN(t,n,e,u),t[Ji]=(t[Ji]&4294901760)+u+2),u++}function Aw(t,e){rn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),rn(5,t,e)}}function dN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Z]>>14<t[Ji]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,Aw(c,o)):Aw(c,o)}var no=-1,ni=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hN(t){return t instanceof ni}function fN(t){return(t.flags&8)!==0}function pN(t){return(t.flags&16)!==0}var Af={},Qf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nl(r);let i=this.injector.get(e,Af,r);return i!==Af||n===Af?i:this.parentInjector.get(e,n,r)}};function eD(t){return t!==no}function Bu(t){return t&32767}function gN(t){return t>>16}function $u(t,e){let n=gN(t),r=e;for(;n>0;)r=r[vo],n--;return r}var Yf=!0;function Rw(t){let e=Yf;return Yf=t,e}var mN=256,tD=mN-1,nD=5,yN=0,on={};function vN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ks)&&(r=n[Ks]),r==null&&(r=n[Ks]=yN++);let i=r&tD,o=1<<i;e.data[t+(i>>nD)]|=o}function Hu(t,e){let n=rD(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Rf(r.data,t),Rf(e,null),Rf(r.blueprint,null));let i=Lp(t,e),o=t.injectorIndex;if(eD(i)){let s=Bu(i),c=$u(i,e),u=c[he].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Rf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cD(i),r===null)return no;if(n++,i=i[vo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return no}function Zf(t,e,n){vN(t,e,n)}function _N(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(fE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function iD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Cp(e,"NodeInjector")}function oD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[ao],o=Lt(void 0);try{return i?i.get(e,r,n&oe.Optional):sE(e,r,n&oe.Optional)}finally{Lt(o)}}return iD(r,e,n)}function sD(t,e,n,r=oe.Default,i){if(t!==null){if(e[Z]&2048&&!(r&oe.Self)){let s=CN(t,e,n,r,on);if(s!==on)return s}let o=aD(t,e,n,r,on);if(o!==on)return o}return oD(e,n,r,i)}function aD(t,e,n,r,i){let o=EN(n);if(typeof o=="function"){if(!GE(e,t,r))return r&oe.Host?iD(i,n,r):oD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&oe.Optional))Cp(n);else return s}finally{YE()}}else if(typeof o=="number"){let s=null,c=rD(t,e),u=no,l=r&oe.Host?e[cn][Yt]:null;for((c===-1||r&oe.SkipSelf)&&(u=c===-1?Lp(t,e):e[c+8],u===no||!Nw(r,!1)?c=-1:(s=e[he],c=Bu(u),e=$u(u,e)));c!==-1;){let f=e[he];if(Mw(o,c,f.data)){let p=IN(c,e,n,s,r,l);if(p!==on)return p}u=e[c+8],u!==no&&Nw(r,e[he].data[c+8]===l)&&Mw(o,c,e)?(s=f,c=Bu(u),e=$u(u,e)):c=-1}}return i}function IN(t,e,n,r,i,o){let s=e[he],c=s.data[t+8],u=r==null?ol(c)&&Yf:r!=s&&(c.type&3)!==0,l=i&oe.Host&&o===c,f=wN(c,s,n,u,l);return f!==null?lo(e,s,f,c):on}function wN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,_=i?c+f:l;for(let I=p;I<_;I++){let S=s[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=s[u];if(I&&mr(I)&&I.type===n)return u}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(hN(i)){let s=i;s.resolving&&JR(ZR(o[n]));let c=Rw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Lt(s.injectImpl):null,f=GE(t,r,oe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&lN(n,o[n],e)}finally{l!==null&&Lt(l),Rw(c),s.resolving=!1,YE()}}return i}function EN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ks)?t[Ks]:void 0;return typeof e=="number"?e>=0?e&tD:DN:e}function Mw(t,e,n){let r=1<<t;return!!(n[e+(t>>nD)]&r)}function Nw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Jr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sD(this._tNode,this._lView,e,nl(r),n)}};function DN(){return new Jr(vt(),Ae())}function ia(t){return ta(()=>{let e=t.prototype.constructor,n=e[Nu]||Jf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Nu]||Jf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jf(t){return eE(t)?()=>{let e=Jf(lt(t));return e&&e()}:ro(t)}function CN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!(s[Z]&512);){let c=aD(o,s,n,r|oe.Self,on);if(c!==on)return c;let u=o.parent;if(!u){let l=s[TE];if(l){let f=l.get(n,on,r);if(f!==on)return f}u=cD(s),s=s[vo]}o=u}return i}function cD(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function Vp(t){return _N(vt(),t)}function xw(t,e=null,n=null,r){let i=uD(t,e,n,r);return i.resolveInjectorInitializers(),i}function uD(t,e=null,n=null,r,i=new Set){let o=[n||Vt,TM(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new Zs(o,e||Ap(),r||null,i)}var Xe=class t{static{this.THROW_IF_NOT_FOUND=Qs}static{this.NULL=new Ou}static create(e,n){if(Array.isArray(e))return xw({name:""},n,e,"");{let r=e.name??"";return xw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>W(lE)})}static{this.__NG_ELEMENT_ID__=-1}};var bN=new V("");bN.__NG_ELEMENT_ID__=t=>{let e=vt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new H(204,!1)};var TN="ngOriginalError";function Mf(t){return t[TN]}var lD=!0,Up=(()=>{class t{static{this.__NG_ELEMENT_ID__=SN}static{this.__NG_ENV_ID__=n=>n}}return t})(),Xf=class extends Up{constructor(e){super(),this._lView=e}onDestroy(e){return LE(this._lView,e),()=>GM(this._lView,e)}};function SN(){return new Xf(Ae())}var Io=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var ep=class extends Ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,bE()&&(this.destroyRef=P(Up,{optional:!0})??void 0,this.pendingTasks=P(Io,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Le=ep;function qu(...t){}function dD(t){let e,n;function r(){t=qu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Pw(t){return queueMicrotask(()=>t()),()=>{t=qu}}var jp="isAngularZone",zu=jp+"_ID",AN=0,Ie=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lD}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,NN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,RN,qu,qu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},RN={};function Bp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function MN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){dD(()=>{t.callbackScheduled=!1,tp(t),t.isCheckStableRunning=!0,Bp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tp(t)}function NN(t){let e=()=>{MN(t)},n=AN++;t._inner=t._inner.fork({name:"angular",properties:{[jp]:!0,[zu]:n,[zu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(xN(u))return r.invokeTask(o,s,c,u);try{return Ow(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),kw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Ow(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!PN(u)&&e(),kw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tp(t),Bp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ow(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kw(t){t._nesting--,Bp(t)}var np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function xN(t){return hD(t,"__ignore_ng_zone__")}function PN(t){return hD(t,"__scheduler_tick__")}function hD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mf(e);for(;n&&Mf(n);)n=Mf(n);return n||null}},ON=new V("",{providedIn:"root",factory:()=>{let t=P(Ie),e=P(Rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function kN(){return cl(vt(),Ae())}function cl(t,e){return new Er(Bt(t,e))}var Er=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=kN}}return t})();function fD(t){return(t.flags&128)===128}var pD=new Map,FN=0;function LN(){return FN++}function VN(t){pD.set(t[il],t)}function rp(t){pD.delete(t[il])}var Fw="__ngContext__";function ri(t,e){hr(e)?(t[Fw]=e[il],VN(e)):t[Fw]=e}function gD(t){return yD(t[Js])}function mD(t){return yD(t[Kt])}function yD(t){for(;t!==null&&!Pn(t);)t=t[Kt];return t}var ip;function vD(t){ip=t}function UN(){if(ip!==void 0)return ip;if(typeof document<"u")return document;throw new H(210,!1)}var $p=new V("",{providedIn:"root",factory:()=>jN}),jN="ng",Hp=new V(""),hn=new V("",{providedIn:"platform",factory:()=>"unknown"});var qp=new V("",{providedIn:"root",factory:()=>UN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BN="h",$N="b";var HN=()=>null;function zp(t,e,n=!1){return HN(t,e,n)}var _D=!1,qN=new V("",{providedIn:"root",factory:()=>_D});var Eu;function zN(){if(Eu===void 0&&(Eu=null,Lf.trustedTypes))try{Eu=Lf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eu}function Lw(t){return zN()?.createScriptURL(t)||t}var Gu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jw})`}};function oa(t){return t instanceof Gu?t.changingThisBreaksApplicationSecurity:t}function Gp(t,e){let n=GN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Jw})`)}return n===e}function GN(t){return t instanceof Gu&&t.getTypeName()||null}var WN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ID(t){return t=String(t),t.match(WN)?t:"unsafe:"+t}var ul=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ul||{});function KN(t){let e=ED();return e?e.sanitize(ul.URL,t)||"":Gp(t,"URL")?oa(t):ID(tl(t))}function QN(t){let e=ED();if(e)return Lw(e.sanitize(ul.RESOURCE_URL,t)||"");if(Gp(t,"ResourceURL"))return Lw(oa(t));throw new H(904,!1)}function YN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QN:KN}function wD(t,e,n){return YN(e,n)(t)}function ED(){let t=Ae();return t&&t[an].sanitizer}function DD(t){return t instanceof Function?t():t}function ZN(t){return(t??P(Xe)).get(hn)==="browser"}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),JN;function Wp(t,e){return JN(t,e)}function Xi(t,e,n,r,i){if(r!=null){let o,s=!1;Pn(r)?o=r:hr(r)&&(s=!0,r=r[xn]);let c=un(r);t===0&&n!==null?i==null?AD(e,n,c):Wu(e,n,c,i||null,!0):t===1&&n!==null?Wu(e,n,c,i||null,!0):t===2?fx(e,c,s):t===3&&e.destroyNode(c),o!=null&&gx(e,t,o,n,i)}}function XN(t,e){return t.createText(e)}function ex(t,e,n){t.setValue(e,n)}function CD(t,e,n){return t.createElement(e,n)}function tx(t,e){bD(t,e),e[xn]=null,e[Yt]=null}function nx(t,e,n,r,i,o){r[xn]=i,r[Yt]=e,ll(t,r,n,1,i,o)}function bD(t,e){e[an].changeDetectionScheduler?.notify(9),ll(t,e,e[Je],2,null,null)}function rx(t){let e=t[Js];if(!e)return Nf(t[he],t);for(;e;){let n=null;if(hr(e))n=e[Js];else{let r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)hr(e)&&Nf(e[he],e),e=e[ht];e===null&&(e=t),hr(e)&&Nf(e[he],e),n=e&&e[Kt]}e=n}}function ix(t,e,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][Kt]=e),r<o-jt?(e[Kt]=n[i],uE(n,jt+r,e)):(n.push(e),e[Kt]=null),e[ht]=n;let s=e[co];s!==null&&n!==s&&TD(s,e);let c=e[uo];c!==null&&c.insertView(t),Wf(e),e[Z]|=128}function TD(t,e){let n=t[Vu],r=e[ht];if(hr(r))t[Z]|=Uu.HasTransplantedViews;else{let i=r[ht][cn];e[cn]!==i&&(t[Z]|=Uu.HasTransplantedViews)}n===null?t[Vu]=[e]:n.push(e)}function Kp(t,e){let n=t[Vu],r=n.indexOf(e);n.splice(r,1)}function op(t,e){if(t.length<=jt)return;let n=jt+e,r=t[n];if(r){let i=r[co];i!==null&&i!==t&&Kp(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let o=Pu(t,jt+e);tx(r[he],r);let s=o[uo];s!==null&&s.detachView(o[he]),r[ht]=null,r[Kt]=null,r[Z]&=-129}return r}function SD(t,e){if(!(e[Z]&256)){let n=e[Je];n.destroyNode&&ll(t,e,n,3,null,null),rx(e)}}function Nf(t,e){if(e[Z]&256)return;let n=ye(null);try{e[Z]&=-129,e[Z]|=256,e[Ut]&&of(e[Ut]),sx(t,e),ox(t,e),e[he].type===1&&e[Je].destroy();let r=e[co];if(r!==null&&Pn(e[ht])){r!==e[ht]&&Kp(r,e);let i=e[uo];i!==null&&i.detachView(t)}rp(e)}finally{ye(n)}}function ox(t,e){let n=t.cleanup,r=e[Fu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Fu]=null);let i=e[dr];if(i!==null){e[dr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function sx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ni)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];rn(4,c,u);try{u.call(c)}finally{rn(5,c,u)}}else{rn(4,i,o);try{o.call(i)}finally{rn(5,i,o)}}}}}function ax(t,e,n){return cx(t,e.parent,n)}function cx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===sn.None||o===sn.Emulated)return null}return Bt(r,n)}}function Wu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AD(t,e,n){t.appendChild(e,n)}function Vw(t,e,n,r,i){r!==null?Wu(t,e,n,r,i):AD(t,e,n)}function RD(t,e){return t.parentNode(e)}function ux(t,e){return t.nextSibling(e)}function lx(t,e,n){return hx(t,e,n)}function dx(t,e,n){return t.type&40?Bt(t,n):null}var hx=dx,Uw;function Qp(t,e,n,r){let i=ax(t,r,e),o=e[Je],s=r.parent||e[Yt],c=lx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Vw(o,i,n[u],c,!1);else Vw(o,i,n,c,!1);Uw!==void 0&&Uw(o,r,e,n,i)}function Ws(t,e){if(e!==null){let n=e.type;if(n&3)return Bt(e,t);if(n&4)return sp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ws(t,r);{let i=t[e.index];return Pn(i)?sp(-1,i):un(i)}}else{if(n&128)return Ws(t,e.next);if(n&32)return Wp(e,t)()||un(t[e.index]);{let r=MD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ei(t[cn]);return Ws(i,r)}else return Ws(t,e.next)}}}return null}function MD(t,e){if(e!==null){let r=t[cn][Yt],i=e.projection;return r.projection[i]}return null}function sp(t,e){let n=jt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Ws(r,i)}return e[Xr]}function fx(t,e,n){t.removeChild(null,e,n)}function Yp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ri(un(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Yp(t,e,n.child,r,i,o,!1),Xi(e,t,i,c,o);else if(u&32){let l=Wp(n,r),f;for(;f=l();)Xi(e,t,i,f,o);Xi(e,t,i,c,o)}else u&16?px(t,e,r,n,i,o):Xi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function ll(t,e,n,r,i,o){Yp(n,r,t.firstChild,e,i,o,!1)}function px(t,e,n,r,i,o){let s=n[cn],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Xi(e,t,i,f,o)}else{let l=u,f=s[ht];fD(r)&&(l.flags|=128),Yp(t,e,l,f,i,o,!0)}}function gx(t,e,n,r,i){let o=n[Xr],s=un(n);o!==s&&Xi(e,t,r,o,i);for(let c=jt;c<n.length;c++){let u=n[c];ll(u[he],u,t,e,r,o)}}function mx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(n,r,i,o))}}function yx(t,e,n){t.setAttribute(e,"style",n)}function ND(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Bf(t,e,r),i!==null&&ND(t,e,i),o!==null&&yx(t,e,o)}var wo={};function Ve(t=1){PD(Zt(),Ae(),_o()+t,!1)}function PD(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Su(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Au(e,o,0,n)}ti(n)}function ae(t,e=oe.Default){let n=Ae();if(n===null)return W(t,e);let r=vt();return sD(r,n,lt(t),e)}function OD(){let t="invalid";throw new Error(t)}function kD(t,e,n,r,i,o){let s=ye(null);try{let c=null;i&fr.SignalBased&&(c=e[r][ir]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&fr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):RE(e,c,r,o)}finally{ye(s)}}function vx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let o=i,s=n[++r],c=n[++r];iN(s,o);let u=e[o];c(2,u)}}}finally{ti(-1)}}function dl(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[xn]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),kE(p),p[ht]=p[vo]=t,p[Qt]=n,p[an]=s||t&&t[an],p[Je]=c||t&&t[Je],p[ao]=u||t&&t[ao]||null,p[Yt]=o,p[il]=LN(),p[ku]=f,p[TE]=l,p[cn]=e.type==2?t[cn]:p,p}function hl(t,e,n,r,i){let o=t.data[e];if(o===null)o=_x(t,e,n,r,i),rN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=XM();o.injectorIndex=s===null?-1:s.injectorIndex}return ra(o,!0),o}function _x(t,e,n,r,i){let o=$E(),s=HE(),c=s?o:o&&o.parent,u=t.data[e]=Cx(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function FD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LD(t,e,n,r,i){let o=_o(),s=r&2;try{ti(-1),s&&e.length>gr&&PD(t,e,gr,!1),rn(s?2:0,i),n(r,i)}finally{ti(o),rn(s?3:1,i)}}function VD(t,e,n){if(AE(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ye(r)}}}function UD(t,e,n){UE()&&(Nx(t,e,n,Bt(n,e)),(n.flags&64)===64&&qD(t,e,n))}function jD(t,e,n=Bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function BD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zp(t,e,n,r,i,o,s,c,u,l,f){let p=gr+r,_=p+i,I=Ix(p,_),S=typeof l=="function"?l():l;return I[he]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function Ix(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:wo);return n}function wx(t,e,n,r){let o=r.get(qN,_D)||n===sn.ShadowDom,s=t.selectRootElement(e,o);return Ex(s),s}function Ex(t){Dx(t)}var Dx=()=>null;function Cx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return YM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=fr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Bw(r,n,l,c,u):Bw(r,n,l,c)}return r}function Bw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function bx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],_=n?n.get(p):null,I=_?_.inputs:null,S=_?_.outputs:null;u=jw(0,p.inputs,f,u,I),l=jw(1,p.outputs,f,l,S);let M=u!==null&&s!==null&&!Tp(e)?$x(u,f,s):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function Tx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sx(t,e,n,r,i,o,s,c){let u=Bt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Jp(t,n,f,r,i),ol(e)&&Ax(n,e.index)):e.type&3?(r=Tx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Ax(t,e){let n=wr(e,t);n[Z]&16||(n[Z]|=64)}function $D(t,e,n,r){if(UE()){let i=r===null?null:{"":-1},o=Px(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&HD(t,e,n,s,i,c),i&&Ox(n,r,i)}n.mergedAttrs=Ys(n.mergedAttrs,n.attrs)}function HD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Zf(Hu(n,e),t,r[l].type);Fx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=FD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Ys(n.mergedAttrs,f.hostAttrs),Lx(t,n,e,u,f),kx(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}bx(t,n,o)}function Rx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Mx(s)!=c&&s.push(c),s.push(n,r,o)}}function Mx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Nx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ol(n)&&Vx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hu(n,e),ri(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=lo(e,t,c,n);if(ri(l,e),s!==null&&Bx(e,c-i,l,u,n,s),mr(u)){let f=wr(n.index,e);f[Qt]=lo(e,t,c,n)}}}function qD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oN();try{ti(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Kf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xx(u,l)}}finally{ti(-1),Kf(s)}}function xx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Px(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(yM(e,s.selectors,!1))if(r||(r=[]),mr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;ap(t,e,u)}else r.unshift(s),ap(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ap(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ox(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function kx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mr(e)&&(n[""]=t)}}function Fx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new ni(o,mr(i),ae);t.blueprint[r]=s,n[r]=s,Rx(t,e,r,FD(t,n,i.hostVars,wo),i)}function Vx(t,e,n){let r=Bt(e,t),i=BD(n),o=t[an].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=fl(t,dl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function Ux(t,e,n,r,i,o){let s=Bt(t,e);jx(e[Je],s,o,t.value,n,r,i)}function jx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?tl(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function Bx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];kD(r,n,u,l,f,p)}}function $x(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function zD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GD(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];zE(o),c.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function fl(t,e){return t[Js]?t[bw][Kt]=e:t[Js]=e,t[bw]=e,e}function cp(t,e,n){zE(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function Hx(t){return t[Fu]??=[]}function qx(t){return t.cleanup??=[]}function WD(t,e){let n=t[ao],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function Jp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];kD(f,l,r,c,u,i)}}function zx(t,e,n){let r=PE(e,t);ex(t[Je],r,n)}function Gx(t,e){let n=wr(e,t),r=n[he];Wx(r,n);let i=n[xn];i!==null&&n[ku]===null&&(n[ku]=zp(i,n[ao])),Xp(r,n,n[Qt])}function Wx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xp(t,e,n){xp(e);try{let r=t.viewQuery;r!==null&&cp(1,r,n);let i=t.template;i!==null&&LD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[uo]?.finishViewCreation(t),t.staticContentQueries&&GD(t,e),t.staticViewQueries&&cp(2,t.viewQuery,n);let o=t.components;o!==null&&Kx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Pp()}}function Kx(t,e){for(let n=0;n<e.length;n++)Gx(t,e[n])}function Qx(t,e,n,r){let i=ye(null);try{let o=e.tView,c=t[Z]&4096?4096:16,u=dl(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[co]=l;let f=t[uo];return f!==null&&(u[uo]=f.createEmbeddedView(o)),Xp(o,u,n),u}finally{ye(i)}}function $w(t,e){return!e||e.firstChild===null||fD(t)}function Yx(t,e,n,r=!0){let i=e[he];if(ix(i,e,t,n),r){let s=sp(n,t),c=e[Je],u=RD(c,t[Xr]);u!==null&&nx(i,t[Yt],c,e,u,s)}let o=e[ku];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ku(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(un(o)),Pn(o)&&Zx(o,r);let s=n.type;if(s&8)Ku(t,e,n.child,r);else if(s&32){let c=Wp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=MD(e,n);if(Array.isArray(c))r.push(...c);else{let u=ei(e[cn]);Ku(u[he],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function Zx(t,e){for(let n=jt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&Ku(r[he],r,i,e)}t[Xr]!==t[xn]&&e.push(t[Xr])}var KD=[];function Jx(t){return t[Ut]??Xx(t)}function Xx(t){let e=KD.pop()??Object.create(tP);return e.lView=t,e}function eP(t){t.lView[Ut]!==t&&(t.lView=null,KD.push(t))}var tP=ue(k({},Bs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{al(t.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function nP(t){let e=t[Ut]??Object.create(rP);return e.lView=t,e}var rP=ue(k({},Bs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ei(t.lView);for(;e&&!QD(e[he]);)e=ei(e);e&&FE(e)},consumerOnSignalRead(){this.lView[Ut]=this}});function QD(t){return t.type!==2}var iP=100;function YD(t,e=!0,n=0){let r=t[an],i=r.rendererFactory,o=!1;o||i.begin?.();try{oP(t,n)}catch(s){throw e&&WD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function oP(t,e){let n=qE();try{Sw(!0),up(t,e);let r=0;for(;sl(t);){if(r===iP)throw new H(103,!1);r++,up(t,1)}}finally{Sw(n)}}function sP(t,e,n,r){let i=e[Z];if((i&256)===256)return;let o=!1,s=!1;!o&&e[an].inlineEffectRunner?.flush(),xp(e);let c=!0,u=null,l=null;o||(QD(t)?(l=Jx(e),u=zc(l)):NI()===null?(c=!1,l=nP(e),u=zc(l)):e[Ut]&&(of(e[Ut]),e[Ut]=null));try{kE(e),tN(t.bindingStartIndex),n!==null&&LD(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let I=t.preOrderCheckHooks;I!==null&&Su(e,I,null)}else{let I=t.preOrderHooks;I!==null&&Au(e,I,0,null),Sf(e,0)}if(s||aP(e),ZD(e,0),t.contentQueries!==null&&GD(t,e),!o)if(f){let I=t.contentCheckHooks;I!==null&&Su(e,I)}else{let I=t.contentHooks;I!==null&&Au(e,I,1),Sf(e,1)}vx(t,e);let p=t.components;p!==null&&XD(e,p,0);let _=t.viewQuery;if(_!==null&&cp(2,_,r),!o)if(f){let I=t.viewCheckHooks;I!==null&&Su(e,I)}else{let I=t.viewHooks;I!==null&&Au(e,I,2),Sf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tf]){for(let I of e[Tf])I();e[Tf]=null}o||(e[Z]&=-73)}catch(f){throw o||al(e),f}finally{l!==null&&(nf(l,u),c&&eP(l)),Pp()}}function ZD(t,e){for(let n=gD(t);n!==null;n=mD(n))for(let r=jt;r<n.length;r++){let i=n[r];JD(i,e)}}function aP(t){for(let e=gD(t);e!==null;e=mD(e)){if(!(e[Z]&Uu.HasTransplantedViews))continue;let n=e[Vu];for(let r=0;r<n.length;r++){let i=n[r];FE(i)}}}function cP(t,e,n){let r=wr(e,t);JD(r,n)}function JD(t,e){Mp(t)&&up(t,e)}function up(t,e){let r=t[he],i=t[Z],o=t[Ut],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&rf(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)sP(r,t,r.template,t[Qt]);else if(i&8192){ZD(t,1);let c=r.components;c!==null&&XD(t,c,1)}}function XD(t,e,n){for(let r=0;r<e.length;r++)cP(t,e[r],n)}function eg(t,e){let n=qE()?64:1088;for(t[an].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=ei(t);if(zf(t)&&!r)return t;t=r}return null}var ii=class{get rootNodes(){let e=this._lView,n=e[he];return Ku(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(Pn(e)){let n=e[Lu],r=n?n.indexOf(this):-1;r>-1&&(op(e,r),Pu(n,r))}this._attachedToViewContainer=!1}SD(this._lView[he],this._lView)}onDestroy(e){LE(this._lView,e)}markForCheck(){eg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Wf(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,YD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zf(this._lView),n=this._lView[co];n!==null&&!e&&Kp(n,this._lView),bD(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=zf(this._lView),r=this._lView[co];r!==null&&!n&&TD(r,this._lView),Wf(this._lView)}},tg=(()=>{class t{static{this.__NG_ELEMENT_ID__=dP}}return t})(),uP=tg,lP=class extends uP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Qx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ii(i)}};function dP(){return hP(vt(),Ae())}function hP(t,e){return t.type&4?new lP(e,t,cl(t,e)):null}var M3=new RegExp(`^(\\d+)*(${$N}|${BN})*(.*)`);var fP=()=>null;function Hw(t,e){return fP(t,e)}var ho=class{},ng=new V("",{providedIn:"root",factory:()=>!1});var eC=new V(""),tC=new V(""),lp=class{},Qu=class{};function pP(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[gP]=t,e}var gP="ngComponent";var dp=class{resolveComponentFactory(e){throw pP(e)}},fo=class{static{this.NULL=new dp}},po=class{},si=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mP()}}return t})();function mP(){let t=Ae(),e=vt(),n=wr(e.index,t);return(hr(n)?n:t)[Je]}var yP=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function hp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=gw(i,c);else if(o==2){let u=c,l=e[++s];r=gw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yu=class extends fo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pr(e);return new go(n,this.ngModule)}};function qw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:fr.None;e?n.push({propName:s,templateName:r,isSignal:(c&fr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vP(t){let e=t.toLowerCase();return e==="svg"?$M:e==="math"?HM:null}var go=class extends Qu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Qf(e,s):e,u=c.get(po,null);if(u===null)throw new H(407,!1);let l=c.get(yP,null),f=c.get(ho,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?wx(_,r,this.componentDef.encapsulation,c):CD(_,I,vP(I)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=zp(S,c,!0));let F=Zp(0,null,null,1,0,null,null,null,null,null,null),q=dl(null,F,null,M,null,null,p,_,c,null,R);xp(q);let G,ce,Re=null;try{let ee=this.componentDef,D,m=null;ee.findHostDirectiveDefs?(D=[],m=new Map,ee.findHostDirectiveDefs(ee,D,m),D.push(ee)):D=[ee];let y=_P(q,S);Re=IP(y,S,ee,D,q,p,_),ce=OE(F,gr),S&&DP(_,ee,S,r),n!==void 0&&CP(ce,this.ngContentSelectors,n),G=EP(Re,ee,D,m,q,[bP]),Xp(F,q,null)}catch(ee){throw Re!==null&&rp(Re),rp(q),ee}finally{Pp()}return new fp(this.componentType,G,cl(ce,q),q,ce)}finally{ye(o)}}},fp=class extends lp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ii(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Jp(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=wr(this._tNode.index,o);eg(s,1)}}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _P(t,e){let n=t[he],r=gr;return t[r]=e,hl(n,r,2,"#host",null)}function IP(t,e,n,r,i,o,s){let c=i[he];wP(r,t,e,s);let u=null;e!==null&&(u=zp(e,i[ao]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=dl(i,BD(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&ap(c,t,r.length-1),fl(i,p),i[t.index]=p}function wP(t,e,n,r){for(let i of t)e.mergedAttrs=Ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hp(e,e.mergedAttrs,!0),n!==null&&xD(r,n,e))}function EP(t,e,n,r,i,o){let s=vt(),c=i[he],u=Bt(s,i);HD(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,_=lo(i,c,p,s);ri(_,i)}qD(c,i,s),u&&ri(u,i);let l=lo(i,c,s.directiveStart+s.componentOffset,s);if(t[Qt]=i[Qt]=l,o!==null)for(let f of o)f(l,e);return VD(c,s,i),l}function DP(t,e,n,r){if(r)Bf(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:o}=EM(e.selectors[0]);i&&Bf(t,n,i),o&&o.length>0&&ND(t,n,o.join(" "))}}function CP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function bP(){let t=vt();Fp(Ae()[he],t)}var sa=(()=>{class t{static{this.__NG_ELEMENT_ID__=TP}}return t})();function TP(){let t=vt();return AP(t,Ae())}var SP=sa,nC=class extends SP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lp(this._hostTNode,this._hostLView);if(eD(e)){let n=$u(e,this._hostLView),r=Bu(e),i=n[he].data[r+8];return new Jr(i,n)}else return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=zw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,$w(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!VM(e),c;if(s)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new go(pr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(bt,null);M&&(o=M)}let f=pr(u.componentType??{}),p=Hw(this._lContainer,f?.id??null),_=p?.firstChild??null,I=u.create(l,i,_,o);return this.insertImpl(I.hostView,c,$w(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ht],l=new nC(u,u[Yt],u[ht]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Yx(s,i,o,r),e.attachToViewContainerRef(),uE(xf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=zw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=op(this._lContainer,n);r&&(Pu(xf(this._lContainer),n),SD(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=op(this._lContainer,n);return r&&Pu(xf(this._lContainer),n)!=null?new ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zw(t){return t[Lu]}function xf(t){return t[Lu]||(t[Lu]=[])}function AP(t,e){let n,r=e[t.index];return Pn(r)?n=r:(n=zD(r,e,null,t),e[t.index]=n,fl(e,n)),MP(n,e,t,r),new nC(n,t,e)}function RP(t,e){let n=t[Je],r=n.createComment(""),i=Bt(e,t),o=RD(n,i);return Wu(n,o,r,ux(n,i),!1),r}var MP=PP,NP=()=>!1;function xP(t,e,n){return NP(t,e,n)}function PP(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=un(r):i=RP(e,n),t[Xr]=i}var Gw=new Set;function Eo(t){Gw.has(t)||(Gw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function aa(t,e){Eo("NgSignals");let n=$I(t),r=n[ir];return e?.equal&&(r.equal=e.equal),n.set=i=>sf(r,i),n.update=i=>HI(r,i),n.asReadonly=OP.bind(n),n}function OP(){let t=this[ir];if(t.readonlyFn===void 0){let e=()=>this();e[ir]=t,t.readonlyFn=e}return t.readonlyFn}function kP(t){return Object.getPrototypeOf(t.prototype).constructor}function Dr(t){let e=kP(t.type),n=!0,r=[t];for(;e;){let i;if(mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Du(t.inputs),s.inputTransforms=Du(t.inputTransforms),s.declaredInputs=Du(t.declaredInputs),s.outputs=Du(t.outputs);let c=i.hostBindings;c&&jP(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&VP(t,u),l&&UP(t,l),FP(t,i),HR(t.outputs,i.outputs),mr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Dr&&(n=!1)}}e=Object.getPrototypeOf(e)}LP(r)}function FP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function LP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ys(i.hostAttrs,n=Ys(n,i.hostAttrs))}}function Du(t){return t===io?{}:t===Vt?[]:t}function VP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function UP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function rg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var yr=class{},Xs=class{};var pp=class extends yr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yu(this);let o=vE(e);this._bootstrapComponents=DD(o.bootstrap),this._r3Injector=uD(e,n,[{provide:yr,useValue:this},{provide:fo,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gp=class extends Xs{constructor(e){super(),this.moduleType=e}create(e){return new pp(this.moduleType,e,[])}};var Zu=class extends yr{constructor(e){super(),this.componentFactoryResolver=new Yu(this),this.instance=null;let n=new Zs([...e.providers,{provide:yr,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pl(t,e,n=null){return new Zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function gl(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function BP(t){return(t.flags&32)===32}function $P(t,e,n,r,i,o,s,c,u){let l=e.consts,f=hl(e,t,4,s||null,c||null);$D(e,n,f,ju(l,u)),Fp(e,f);let p=f.tView=Zp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function HP(t,e,n,r,i,o,s,c,u,l){let f=n+gr,p=e.firstCreatePass?$P(f,e,t,r,i,o,s,c,u):e.data[f];ra(p,!1);let _=qP(e,t,p,n);Op()&&Qp(e,t,_,p),ri(_,t);let I=zD(_,t,_,p);return t[f]=I,fl(t,I),xP(I,p,t),Rp(p)&&UD(e,t,p),u!=null&&jD(t,p,l),p}function Tt(t,e,n,r,i,o,s,c){let u=Ae(),l=Zt(),f=ju(l.consts,o);return HP(u,l,t,e,n,r,i,f,s,c),Tt}var qP=zP;function zP(t,e,n,r){return kp(!0),e[Je].createComment("")}var eo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(eo||{}),rC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),mp=class t{constructor(){this.ngZone=P(Ie),this.scheduler=P(ho),this.errorHandler=P(Rn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[eo.EarlyRead,eo.Write,eo.MixedReadWrite,eo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},yp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function ig(t,e){!e?.injector&&LM(ig);let n=e?.injector??P(Xe);return ZN(n)?(Eo("NgAfterNextRender"),WP(t,n,e,!0)):KP}function GP(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function WP(t,e,n,r){let i=e.get(rC);i.impl??=e.get(mp);let o=n?.phase??eo.MixedReadWrite,s=new yp(i.impl,GP(t,o),r,e.get(Up));return i.impl.register(s),s}var KP={destroy(){}};function ml(t,e,n,r){let i=Ae(),o=Np();if(gl(i,o,e)){let s=Zt(),c=ZE();Ux(c,i,t,e,n,r)}return ml}function QP(t,e,n,r){return gl(t,Np(),n)?e+tl(n)+r:wo}function Cu(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function YP(t){return(t&2)==2}function ZP(t,e){return t&131071|e<<17}function vp(t){return t|2}function mo(t){return(t&131068)>>2}function Pf(t,e){return t&-131069|e<<2}function JP(t){return(t&1)===1}function _p(t){return t|1}function XP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=oi(s),u=mo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||na(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=oi(t[c+1]);t[r+1]=Cu(_,c),_!==0&&(t[_+1]=Pf(t[_+1],r)),t[c+1]=ZP(t[c+1],r)}else t[r+1]=Cu(c,0),c!==0&&(t[c+1]=Pf(t[c+1],r)),c=r;else t[r+1]=Cu(u,0),c===0?c=r:t[u+1]=Pf(t[u+1],r),u=r;l&&(t[r+1]=vp(t[r+1])),Ww(t,f,r,!0),Ww(t,f,r,!1),eO(e,f,t,r,o),s=Cu(c,u),o?e.classBindings=s:e.styleBindings=s}function eO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&na(o,e)>=0&&(n[r+1]=_p(n[r+1]))}function Ww(t,e,n,r){let i=t[n+1],o=e===null,s=r?oi(i):mo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];tO(u,e)&&(c=!0,t[s+1]=r?_p(l):vp(l)),s=r?oi(l):mo(l)}c&&(t[n+1]=r?vp(i):_p(i))}function tO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?na(t,e)>=0:!1}function xe(t,e,n){let r=Ae(),i=Np();if(gl(r,i,e)){let o=Zt(),s=ZE();Sx(o,s,r,t,e,r[Je],n,!1)}return xe}function Kw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Jp(t,n,o[s],s,r)}function yl(t,e){return nO(t,e,null,!0),yl}function nO(t,e,n,r){let i=Ae(),o=Zt(),s=nN(2);if(o.firstUpdatePass&&iO(o,t,s,r),e!==wo&&gl(i,s,e)){let c=o.data[_o()];uO(o,c,i,i[Je],t,i[s+1]=lO(e,n),r,s)}}function rO(t,e){return e>=t.expandoStartIndex}function iO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_o()],s=rO(t,n);dO(o,r)&&e===null&&!s&&(e=!1),e=oO(i,o,e,r),XP(i,o,e,n,s,r)}}function oO(t,e,n,r){let i=sN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Of(null,t,e,n,r),n=ea(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Of(i,t,e,n,r),o===null){let u=sO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Of(null,t,e,u[1],r),u=ea(u,e.attrs,r),aO(t,e,r,u))}else o=cO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(mo(r)!==0)return t[oi(r)]}function aO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[oi(i)]=r}function cO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ea(r,s,n)}return ea(r,e.attrs,n)}function Of(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ea(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ea(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function uO(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=JP(l)?Qw(u,e,n,i,mo(l),s):void 0;if(!Ju(f)){Ju(o)||YP(l)&&(o=Qw(u,null,n,i,c,s));let p=PE(_o(),n);mx(r,s,p,i,o)}}function Qw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,_=n[i+1];_===wo&&(_=p?Vt:void 0);let I=p?Cf(_,r):f===r?_:void 0;if(l&&!Ju(I)&&(I=Cf(u,r)),Ju(I)&&(c=I,s))return c;let S=t[i+1];i=s?oi(S):mo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Cf(u,r))}return c}function Ju(t){return t!==void 0}function lO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(oa(t)))),t}function dO(t,e){return(t.flags&(e?8:16))!==0}function hO(t,e,n,r,i,o){let s=e.consts,c=ju(s,i),u=hl(e,t,2,r,c);return $D(e,n,u,ju(s,o)),u.attrs!==null&&hp(u,u.attrs,!1),u.mergedAttrs!==null&&hp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function j(t,e,n,r){let i=Ae(),o=Zt(),s=gr+t,c=i[Je],u=o.firstCreatePass?hO(s,o,i,e,n,r):o.data[s],l=fO(o,i,u,c,e,t);i[s]=l;let f=Rp(u);return ra(u,!0),xD(c,l,u),!BP(u)&&Op()&&Qp(o,i,l,u),WM()===0&&ri(l,i),KM(),f&&(UD(o,i,u),VD(o,u,i)),r!==null&&jD(i,u),j}function U(){let t=vt();HE()?eN():(t=t.parent,ra(t,!1));let e=t;ZM(e)&&JM(),QM();let n=Zt();return n.firstCreatePass&&(Fp(n,t),AE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fN(e)&&Kw(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pN(e)&&Kw(n,e,Ae(),e.stylesWithoutHost,!1),U}function Ue(t,e,n,r){return j(t,e,n,r),U(),Ue}var fO=(t,e,n,r,i,o)=>(kp(!0),CD(r,i,uN()));function iC(){return Ae()}var Xu="en-US";var pO=Xu;function gO(t){typeof t=="string"&&(pO=t.toLowerCase().replace(/_/g,"-"))}var mO=(t,e,n)=>{};function St(t,e,n,r){let i=Ae(),o=Zt(),s=vt();return vO(o,i,i[Je],s,t,e,r),St}function yO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Fu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function vO(t,e,n,r,i,o,s){let c=Rp(r),l=t.firstCreatePass&&qx(t),f=e[Qt],p=Hx(e),_=!0;if(r.type&3||s){let M=Bt(r,e),R=s?s(M):M,F=p.length,q=s?ce=>s(un(ce[r.index])):r.index,G=null;if(!s&&c&&(G=yO(t,e,i,r.index)),G!==null){let ce=G.__ngLastListenerFn__||G;ce.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,_=!1}else{o=Zw(r,e,f,o),mO(M,i,o);let ce=n.listen(R,i,o);p.push(o,ce),l&&l.push(i,q,F,F+1)}}else o=Zw(r,e,f,o);let I=r.outputs,S;if(_&&I!==null&&(S=I[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],q=S[R+1],Re=e[F][q].subscribe(o),ee=p.length;p.push(o,Re),l&&l.push(i,r.index,ee,-(ee+1))}}}function Yw(t,e,n,r){let i=ye(null);try{return rn(6,e,n),n(r)!==!1}catch(o){return WD(t,o),!1}finally{rn(7,e,n),ye(i)}}function Zw(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?wr(t.index,e):e;eg(s,5);let c=Yw(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=Yw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function og(t=1){return cN(t)}function K(t,e=""){let n=Ae(),r=Zt(),i=t+gr,o=r.firstCreatePass?hl(r,i,1,e,null):r.data[i],s=_O(r,n,o,e,t);n[i]=s,Op()&&Qp(r,n,s,o),ra(o,!1)}var _O=(t,e,n,r,i)=>(kp(!0),XN(e[Je],r));function sg(t,e,n){let r=Ae(),i=QP(r,t,e,n);return i!==wo&&zx(r,_o(),i),sg}function IO(t,e,n){let r=Zt();if(r.firstCreatePass){let i=mr(t);Ip(n,r.data,r.blueprint,i,!0),Ip(e,r.data,r.blueprint,i,!1)}}function Ip(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ip(t[o],e,n,r,i);else{let o=Zt(),s=Ae(),c=vt(),u=so(t)?t:lt(t.provide),l=CE(t),f=c.providerIndexes&1048575,p=c.directiveStart,_=c.providerIndexes>>20;if(so(t)||!t.multi){let I=new ni(l,i,ae),S=Ff(u,e,i?f:f+_,p);S===-1?(Zf(Hu(c,s),o,u),kf(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),s.push(I)):(n[S]=I,s[S]=I)}else{let I=Ff(u,e,f+_,p),S=Ff(u,e,f,f+_),M=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!M){Zf(Hu(c,s),o,u);let F=DO(i?EO:wO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),kf(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=oC(n[i?S:I],l,!i&&r);kf(o,t,I>-1?I:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function kf(t,e,n,r){let i=so(e),o=MM(e);if(i||o){let u=(o?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function oC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ff(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wO(t,e,n,r){return wp(this.multi,[])}function EO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=lo(n,n[he],this.providerFactory.index,r);o=c.slice(0,s),wp(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],wp(i,o);return o}function wp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function DO(t,e,n,r,i){let o=new ni(t,n,ae);return o.multi=[],o.index=e,o.componentProviders=0,oC(o,i,r&&!n),o}function vl(t,e=[]){return n=>{n.providersResolver=(r,i)=>IO(r,i?i(t):t,e)}}var CO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wE(!1,n.type),i=r.length>0?pl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(W(bt))})}}return t})();function _t(t){Eo("NgStandalone"),t.getStandaloneInjector=e=>e.get(CO).getOrCreateStandaloneInjector(t)}var Nn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},sC=new Nn("18.2.5");var _l=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var aC=new V("");function ai(t){return!!t&&typeof t.then=="function"}function cC(t){return!!t&&typeof t.subscribe=="function"}var Il=new V(""),uC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Il,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ai(o))n.push(o);else if(cC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wl=new V("");function bO(){BI(()=>{throw new H(600,!1)})}function TO(t){return t.isBoundToModule}var SO=10;function AO(t,e,n){try{let r=n();return ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ci=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(ON),this.afterRenderManager=P(rC),this.zonelessEnabled=P(ng),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ge,this.afterTick=new Ge,this.componentTypes=[],this.components=[],this.isStable=P(Io).hasPendingTasks.pipe(ne(n=>!n)),this._injector=P(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Qu;if(!this._injector.get(uC).done){let _=!i&&yE(n),I=!1;throw new H(405,I)}let s;i?s=n:s=this._injector.get(fo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=TO(s)?void 0:this._injector.get(yr),u=r||s.selector,l=s.create(Xe.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(aC,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ru(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let n=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(po,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<SO;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)RO(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>sl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ru(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(wl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ru(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ru(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RO(t,e,n,r){if(!n&&!sl(t))return;YD(t,e,n&&!r?0:1)}var Ep=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},El=(()=>{class t{compileModuleSync(n){return new gp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=vE(n),o=DD(i.declarations).reduce((s,c)=>{let u=pr(c);return u&&s.push(new go(u)),s},[]);return new Ep(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MO=(()=>{class t{constructor(){this.zone=P(Ie),this.changeDetectionScheduler=P(ho),this.applicationRef=P(ci)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NO=new V("",{factory:()=>!1});function lC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(ue(k({},hC()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:oo,multi:!0,useFactory:()=>{let r=P(MO,{optional:!0});return()=>r.initialize()}},{provide:oo,multi:!0,useFactory:()=>{let r=P(xO);return()=>{r.initialize()}}},e===!0?{provide:eC,useValue:!0}:[],{provide:tC,useValue:n??lD}]}function dC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=lC({ngZoneFactory:()=>{let i=hC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Eo("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ln([{provide:NO,useValue:!0},{provide:ng,useValue:!1},r])}function hC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xO=(()=>{class t{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=P(Ie),this.pendingTasks=P(Io)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var PO=(()=>{class t{constructor(){this.appRef=P(ci),this.taskService=P(Io),this.ngZone=P(Ie),this.zonelessEnabled=P(ng),this.disableScheduling=P(eC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(tC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof np||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Pw:dD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OO(){return typeof $localize<"u"&&$localize.locale||Xu}var ag=new V("",{providedIn:"root",factory:()=>P(ag,oe.Optional|oe.SkipSelf)||OO()});var fC=new V("");function bu(t){return!!t.platformInjector}function kO(t){let e=bu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{bu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),bu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Ru(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return AO(r,n,()=>{let o=e.get(uC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ag,Xu);if(gO(s||Xu),bu(t)){let c=e.get(ci);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return FO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function FO(t,e){let n=t.injector.get(ci);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var Mu=null;function LO(t=[],e){return Xe.create({name:e,providers:[{provide:rl,useValue:"platform"},{provide:fC,useValue:new Set([()=>Mu=null])},...t]})}function VO(t=[]){if(Mu)return Mu;let e=LO(t);return Mu=e,bO(),UO(e),e}function UO(t){t.get(Hp,null)?.forEach(n=>n())}var Do=(()=>{class t{static{this.__NG_ELEMENT_ID__=jO}}return t})();function jO(t){return BO(vt(),Ae(),(t&16)===16)}function BO(t,e,n){if(ol(t)&&!n){let r=wr(t.index,e);return new ii(r,r)}else if(t.type&175){let r=e[cn];return new ii(r,e)}return null}function pC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=VO(r),o=[lC({}),{provide:ho,useExisting:PO},...n||[]],s=new Zu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return kO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var gC=new V("");function Co(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ca(t,e){Eo("NgSignals");let n=VI(t);return e?.equal&&(n[ir].equal=e.equal),n}function On(t){let e=ye(null);try{return t()}finally{ye(e)}}function mC(t){let e=pr(t);if(!e)return null;let n=new go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var IC=null;function Fn(){return IC}function wC(t){IC??=t}var Dl=class{};var pt=new V(""),dg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P($O),providedIn:"platform"})}}return t})(),EC=new V(""),$O=(()=>{class t extends dg{constructor(){super(),this._doc=P(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function hg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function yC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kn(t){return t&&t[0]!=="?"?"?"+t:t}var Ln=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(fg),providedIn:"root"})}}return t})(),DC=new V(""),fg=(()=>{class t extends Ln{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(dg),W(DC,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CC=(()=>{class t extends Ln{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=hg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(dg),W(DC,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),bo=(()=>{class t{constructor(n){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=zO(yC(vC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kn(r))}normalize(n){return t.stripTrailingSlash(qO(this._basePath,vC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=kn}static{this.joinWithSlash=hg}static{this.stripTrailingSlash=yC}static{this.\u0275fac=function(r){return new(r||t)(W(Ln))}}static{this.\u0275prov=B({token:t,factory:()=>HO(),providedIn:"root"})}}return t})();function HO(){return new bo(W(Ln))}function qO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vC(t){return t.replace(/\/index.html$/,"")}function zO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function bC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var To=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new cg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_C("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_C("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ae(sa),ae(tg))}}static{this.\u0275dir=yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),cg=class{constructor(){this.$implicit=null,this.ngIf=null}};function _C(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}var Jt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({})}}return t})(),pg="browser",GO="server";function WO(t){return t===pg}function gg(t){return t===GO}var TC=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>WO(P(hn))?new ug(P(pt),window):new lg})}}return t})(),ug=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=KO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function KO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var lg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cl=class{};var vg=class extends Dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_g=class t extends vg{static makeCurrent(){wC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QO();return n==null?null:YO(n)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bC(document.cookie,e)}},ua=null;function QO(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}function YO(t){return new URL(t,document.baseURI).pathname}var ZO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Tl=new V(""),MC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(W(Tl),W(Ie))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),la=class{constructor(e){this._doc=e}},mg="ng-app-id",NC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gg(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${mg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(mg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(mg,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(W(pt),W($p),W(qp,8),W(hn))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),yg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wg=/%COMP%/g,xC="%COMP%",JO=`_nghost-${xC}`,XO=`_ngcontent-${xC}`,ek=!0,tk=new V("",{providedIn:"root",factory:()=>ek});function nk(t){return XO.replace(wg,t)}function rk(t){return JO.replace(wg,t)}function PC(t,e){return e.map(n=>n.replace(wg,t))}var SC=(()=>{class t{constructor(n,r,i,o,s,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=gg(c),this.defaultRenderer=new da(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sn.ShadowDom&&(r=ue(k({},r),{encapsulation:sn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Sl?i.applyToHost(n):i instanceof ha&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case sn.Emulated:o=new Sl(u,l,r,this.appId,f,s,c,p);break;case sn.ShadowDom:return new Ig(u,l,n,r,s,c,this.nonce,p);default:o=new ha(u,l,r,f,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(W(MC),W(NC),W($p),W(tk),W(pt),W(hn),W(Ie),W(qp))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),da=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=yg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ig=class extends da{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=PC(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ha=class extends da{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?PC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sl=class extends ha{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=nk(l),this.hostAttr=rk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ik=(()=>{class t extends la{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(pt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),ok=(()=>{class t extends la{constructor(n){super(n),this.delegate=P(gC,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(pt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),RC=["alt","control","meta","shift"],sk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ak={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ck=(()=>{class t extends la{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),RC.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=sk[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RC.forEach(s=>{if(s!==i){let c=ak[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(W(pt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function OC(t,e){return pC(k({rootComponent:t},uk(e)))}function uk(t){return{appProviders:[...pk,...t?.providers??[]],platformProviders:fk}}function lk(){_g.makeCurrent()}function dk(){return new Rn}function hk(){return vD(document),document}var fk=[{provide:hn,useValue:pg},{provide:Hp,useValue:lk,multi:!0},{provide:pt,useFactory:hk,deps:[]}];var pk=[{provide:rl,useValue:"root"},{provide:Rn,useFactory:dk,deps:[]},{provide:Tl,useClass:ik,multi:!0,deps:[pt,Ie,hn]},{provide:Tl,useClass:ck,multi:!0,deps:[pt]},{provide:Tl,useClass:ok,multi:!0},SC,NC,MC,{provide:po,useExisting:SC},{provide:Cl,useClass:ZO,deps:[]},[]];var kC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(W(pt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ie="primary",Sa=Symbol("RouteTitle"),Tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xo(t){return new Tg(t)}function mk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?Sg(t):void 0,r=e?Sg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!GC(t[i],e[i]))return!1;return!0}function Sg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function WC(t){return t.length>0?t[t.length-1]:null}function Tr(t){return vf(t)?t:ai(t)?Te(Promise.resolve(t)):Y(t)}var vk={exact:QC,subset:YC},KC={exact:_k,subset:Ik,ignored:()=>!0};function FC(t,e,n){return vk[n.paths](t.root,e.root,n.matrixParams)&&KC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _k(t,e){return fn(t,e)}function QC(t,e,n){if(!li(t.segments,e.segments)||!Ml(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!QC(t.children[r],e.children[r],n))return!1;return!0}function Ik(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GC(t[n],e[n]))}function YC(t,e,n){return ZC(t,e,e.segments,n)}function ZC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!li(i,n)||e.hasChildren()||!Ml(i,n,r))}else if(t.segments.length===n.length){if(!li(t.segments,n)||!Ml(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!YC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!li(t.segments,i)||!Ml(t.segments,i,r)||!t.children[ie]?!1:ZC(t.children[ie],e,o,r)}}function Ml(t,e,n){return e.every((r,i)=>KC[n](t[i].parameters,r.parameters))}var Un=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return Dk.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}},ui=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return XC(this)}};function wk(t,e){return li(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function li(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ek(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var Aa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Po,providedIn:"root"})}}return t})(),Po=class{parse(e){let n=new Rg(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fa(e.root,!0)}`,r=Tk(e.queryParams),i=typeof e.fragment=="string"?`#${Ck(e.fragment)}`:"";return`${n}${r}${i}`}},Dk=new Po;function Nl(t){return t.segments.map(e=>XC(e)).join("/")}function fa(t,e){if(!t.hasChildren())return Nl(t);if(e){let n=t.children[ie]?fa(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${fa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ek(t,(r,i)=>i===ie?[fa(t.children[ie],!1)]:[`${i}:${fa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${Nl(t)}/${n[0]}`:`${Nl(t)}/(${n.join("//")})`}}function JC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(t){return JC(t).replace(/%3B/gi,";")}function Ck(t){return encodeURI(t)}function Ag(t){return JC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xl(t){return decodeURIComponent(t)}function LC(t){return xl(t.replace(/\+/g,"%20"))}function XC(t){return`${Ag(t.path)}${bk(t.parameters)}`}function bk(t){return Object.entries(t).map(([e,n])=>`;${Ag(e)}=${Ag(n)}`).join("")}function Tk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Al(n)}=${Al(i)}`).join("&"):`${Al(n)}=${Al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Sk=/^[^\/()?;#]+/;function Eg(t){let e=t.match(Sk);return e?e[0]:""}var Ak=/^[^\/()?;=#]+/;function Rk(t){let e=t.match(Ak);return e?e[0]:""}var Mk=/^[^=?&#]+/;function Nk(t){let e=t.match(Mk);return e?e[0]:""}var xk=/^[^&#]+/;function Pk(t){let e=t.match(xk);return e?e[0]:""}var Rg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new we(e,n)),r}parseSegment(){let e=Eg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new ui(xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Eg(this.remaining);i&&(r=i,this.capture(r))}e[xl(n)]=xl(r)}parseQueryParam(e){let n=Nk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Pk(this.remaining);s&&(r=s,this.capture(r))}let i=LC(n),o=LC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Eg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ie]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function eb(t){return t.segments.length>0?new we([],{[ie]:t}):t}function tb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=tb(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return Ok(n)}function Ok(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new we(t.segments.concat(e.segments),e.children)}return t}function di(t){return t instanceof Un}function kk(t,e,n=null,r=null){let i=nb(t);return rb(i,e,n,r)}function nb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new we(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=eb(r);return e??i}function rb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Dg(i,i,i,n,r);let o=Fk(e);if(o.toRoot())return Dg(i,i,new we([],{}),n,r);let s=Lk(o,i,t),c=s.processChildren?ma(s.segmentGroup,s.index,o.commands):ob(s.segmentGroup,s.index,o.commands);return Dg(i,s.segmentGroup,c,n,r)}function Pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _a(t){return typeof t=="object"&&t!=null&&t.outlets}function Dg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=ib(t,e,n);let c=eb(tb(s));return new Un(c,o,i)}function ib(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ib(o,e,n)}),new we(t.segments,r)}var Ol=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new H(4003,!1);let i=r.find(_a);if(i&&i!==WC(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Fk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ol(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Ol(n,e,r)}var Ro=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Lk(t,e,n){if(t.isAbsolute)return new Ro(e,!0,0);if(!n)return new Ro(e,!1,NaN);if(n.parent===null)return new Ro(n,!0,0);let r=Pl(t.commands[0])?0:1,i=n.segments.length-1+r;return Vk(n,i,t.numberOfDoubleDots)}function Vk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Ro(r,!1,i-o)}function Uk(t){return _a(t[0])?t[0].outlets:{[ie]:t}}function ob(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return ma(t,e,n);let r=jk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new we(t.segments.slice(r.pathIndex),t.children),ma(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Mg(t,e,n):r.match?ma(t,0,i):Mg(t,e,n)}function ma(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=Uk(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=ma(t.children[ie],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ob(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function jk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(_a(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!UC(u,l,s))return o;r+=2}else{if(!UC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(_a(o)){let u=Bk(o.outlets);return new we(r,u)}if(i===0&&Pl(n[0])){let u=t.segments[e];r.push(new ui(u.path,VC(n[0]))),i++;continue}let s=_a(o)?o.outlets[ie]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Pl(c)?(r.push(new ui(s,VC(c))),i+=2):(r.push(new ui(s,{})),i++)}return new we(r,{})}function Bk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Mg(new we([],{}),0,r))}),e}function VC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UC(t,e,n){return t==n.path&&fn(e,n.parameters)}var ya="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),$t=class{constructor(e,n){this.id=e,this.url=n}},Oo=class extends $t{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends $t{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mt||{}),kl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kl||{}),Vn=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cr=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},Ia=class extends $t{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fl=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ng=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xg=class extends $t{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lg=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vg=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jg=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ll=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wa=class{},ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function $k(t,e){return t.providers&&!t._injector&&(t._injector=pl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xt(t){return t.outlet||ie}function Hk(t,e){let n=t.filter(r=>Xt(r)===e);return n.push(...t.filter(r=>Xt(r)!==e)),n}function Ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bg=class{get injector(){return Ra(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ma(this.rootInjector),this.attachRef=null}},Ma=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Bg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(W(bt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$g(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$g(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hg(e,this._root).map(n=>n.value)}};function $g(t,e){if(t===e.value)return e;for(let n of e.children){let r=$g(t,n);if(r)return r}return null}function Hg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hg(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ao(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ul=class extends Vl{constructor(e,n){super(e),this.snapshot=n,Jg(this,e)}toString(){return this.snapshot.toString()}};function sb(t){let e=qk(t),n=new Ze([new ui("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),c=new br(n,r,o,s,i,ie,t,e.root);return c.snapshot=e.root,new Ul(new Rt(c,[]),e)}function qk(t){let e={},n={},r={},i="",o=new Mo([],e,r,i,n,ie,t,null,{});return new Bl("",new Rt(o,[]))}var br=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Sa]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&cb(i)&&(r.resolve[Sa]=i.title),r}var Mo=class{get title(){return this.data?.[Sa]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bl=class extends Vl{constructor(e,n){super(n),this.url=e,Jg(this,n)}toString(){return ab(this._root)}};function Jg(t,e){e.value._routerState=t,e.children.forEach(n=>Jg(t,n))}function ab(t){let e=t.children.length>0?` { ${t.children.map(ab).join(", ")} } `:"";return`${t.value}${e}`}function Cg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),yk(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qg(t,e){let n=fn(t.params,e.params)&&wk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qg(t.parent,e.parent))}function cb(t){return typeof t.title=="string"||t.title===null}var Xg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=P(Ma),this.location=P(sa),this.changeDetector=P(Do),this.inputBinder=P(zl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new zg(n,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=yt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ir]})}}return t})(),zg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===br?this.route:e===Ma?this.childContexts:this.parent.get(e,n)}},zl=new V(""),jC=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=zs([r.queryParams,r.params,r.data]).pipe(Ft(([o,s,c],u)=>(c=k(k(k({},o),s),c),u===0?Y(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=mC(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function zk(t,e,n){let r=Ea(t,e._root,n?n._root:void 0);return new Ul(r,e)}function Ea(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Gk(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ea(t,c)),s}}let r=Wk(e.value),i=e.children.map(o=>Ea(t,o));return new Rt(r,i)}}function Gk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ea(t,r,i);return Ea(t,r)})}function Wk(t){return new br(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var Da=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ub="ngNavigationCancelingError";function $l(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lb(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function lb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ub]=!0,n.cancellationCode=e,n}function Kk(t){return db(t)&&di(t.url)}function db(t){return!!t&&t[ub]}var Qk=(t,e,n,r)=>ne(i=>(new Gg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ao(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ao(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ao(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ao(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Cg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Cg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},No=class{constructor(e,n){this.component=e,this.route=n}};function Yk(t,e,n){let r=t._root,i=e?e._root:null;return pa(r,i,n,[r.value])}function Zk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Lo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tE(t)?t:e.get(t):r}function pa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ao(e);return t.children.forEach(s=>{Jk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>va(c,n.getContext(s),i)),i}function Jk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Xk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pa(t,e,c?c.children:null,r,i):pa(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new No(c.outlet.component,s))}else s&&va(e,c,i),i.canActivateChecks.push(new Hl(r)),o.component?pa(t,null,c?c.children:null,r,i):pa(t,null,n,r,i);return i}function Xk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!li(t.url,e.url);case"pathParamsOrQueryParamsChange":return!li(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qg(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!qg(t,e)}}function va(t,e,n){let r=Ao(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?va(s,e.children.getContext(o),n):va(s,null,n):va(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new No(e.outlet.component,i)):n.canDeactivateChecks.push(new No(null,i)):n.canDeactivateChecks.push(new No(null,i))}function Na(t){return typeof t=="function"}function e1(t){return typeof t=="boolean"}function t1(t){return t&&Na(t.canLoad)}function n1(t){return t&&Na(t.canActivate)}function r1(t){return t&&Na(t.canActivateChild)}function i1(t){return t&&Na(t.canDeactivate)}function o1(t){return t&&Na(t.canMatch)}function hb(t){return t instanceof An||t?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function Fo(){return Ft(t=>zs(t.map(e=>e.pipe(kt(1),Iu(Rl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Rl)return Rl;if(n===!1||s1(n))return n}return!0}),Ct(e=>e!==Rl),kt(1)))}function s1(t){return di(t)||t instanceof Da}function a1(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(ue(k({},n),{guardsResult:!0})):c1(s,r,i,t).pipe(Fe(c=>c&&e1(c)?u1(r,o,t,e):Y(c)),ne(c=>ue(k({},n),{guardsResult:c})))})}function c1(t,e,n,r){return Te(t).pipe(Fe(i=>p1(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function u1(t,e,n,r){return Te(e).pipe(Zr(i=>Qi(d1(i.route.parent,r),l1(i.route,r),f1(t,i.path,n),h1(t,i.route,n))),nn(i=>i!==!0,!0))}function l1(t,e){return t!==null&&e&&e(new Ug(t)),Y(!0)}function d1(t,e){return t!==null&&e&&e(new Lg(t)),Y(!0)}function h1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>yu(()=>{let s=Ra(e)??n,c=Lo(o,s),u=n1(c)?c.canActivate(e,t):dn(s,()=>c(e,t));return Tr(u).pipe(nn())}));return Y(i).pipe(Fo())}function f1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Zk(s)).filter(s=>s!==null).map(s=>yu(()=>{let c=s.guards.map(u=>{let l=Ra(s.node)??n,f=Lo(u,l),p=r1(f)?f.canActivateChild(r,t):dn(l,()=>f(r,t));return Tr(p).pipe(nn())});return Y(c).pipe(Fo())}));return Y(o).pipe(Fo())}function p1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(c=>{let u=Ra(e)??i,l=Lo(c,u),f=i1(l)?l.canDeactivate(t,e,n,r):dn(u,()=>l(t,e,n,r));return Tr(f).pipe(nn())});return Y(s).pipe(Fo())}function g1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let c=Lo(s,t),u=t1(c)?c.canLoad(e,n):dn(t,()=>c(e,n));return Tr(u)});return Y(o).pipe(Fo(),fb(r))}function fb(t){return Jc(He(e=>{if(typeof e!="boolean")throw $l(t,e)}),ne(e=>e===!0))}function m1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let c=Lo(s,t),u=o1(c)?c.canMatch(e,n):dn(t,()=>c(e,n));return Tr(u)});return Y(o).pipe(Fo(),fb(r))}var Ca=class{constructor(e){this.segmentGroup=e||null}},ba=class extends Error{constructor(e){super(),this.urlTree=e}};function So(t){return Wi(new Ca(t))}function y1(t){return Wi(new H(4e3,!1))}function v1(t){return Wi(lb(!1,Mt.GuardRejected))}var Wg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return y1(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:_,params:I,data:S,title:M}=i,R=dn(o,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:_,title:M}));if(R instanceof Un)throw new ba(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ba(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Un(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _1(t,e,n,r,i){let o=pb(t,e,n);return o.matched?(r=$k(e,r),m1(r,e,n,i).pipe(ne(s=>s===!0?o:k({},Kg)))):Y(o)}function pb(t,e,n){if(e.path==="**")return I1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Kg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mk)(n,t,e);if(!i)return k({},Kg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function I1(t){return{matched:!0,parameters:t.length>0?WC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BC(t,e,n,r){return n.length>0&&D1(t,n,r)?{segmentGroup:new we(e,E1(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&C1(t,n,r)?{segmentGroup:new we(t.segments,w1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function w1(t,e,n,r){let i={};for(let o of n)if(Gl(t,e,o)&&!r[Xt(o)]){let s=new we([],{});i[Xt(o)]=s}return k(k({},r),i)}function E1(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Xt(r)!==ie){let i=new we([],{});n[Xt(r)]=i}return n}function D1(t,e,n){return n.some(r=>Gl(t,e,r)&&Xt(r)!==ie)}function C1(t,e,n){return n.some(r=>Gl(t,e,r))}function Gl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function b1(t,e,n){return e.length===0&&!t.children[n]}var Qg=class{};function T1(t,e,n,r,i,o,s="emptyOnly"){return new Yg(t,e,n,r,i,s,o).recognize()}var S1=31,Yg=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Wg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=BC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Rt(r,n),o=new Bl("",i),s=kk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Mo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(ne(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ca?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof Rt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Te(o).pipe(Zr(s=>{let c=r.children[s],u=Hk(n,s);return this.processSegmentGroup(e,u,c,s,i)}),_u((s,c)=>(s.push(...c),s)),ur(null),Ef(),Fe(s=>{if(s===null)return So(r);let c=gb(s);return A1(c),Y(c)}))}processSegment(e,n,r,i,o,s,c){return Te(n).pipe(Zr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(cr(l=>{if(l instanceof Ca)return Y(null);throw l}))),nn(u=>!!u),cr(u=>{if(hb(u))return b1(r,i,o)?Y(new Qg):So(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Xt(r)!==s&&(s===ie||!Gl(i,o,r))?So(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):So(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:_}=pb(n,i,o);if(!u)return So(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>S1&&(this.allowRedirects=!1));let I=new Mo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,$C(i),Xt(i),i.component??i._loadedComponent??null,i,HC(i)),S=jl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Fe(R=>this.processSegment(e,r,n,R.concat(_),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=_1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ft(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:I}=u,S=new Mo(_,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,$C(r),Xt(r),r.component??r._loadedComponent??null,r,HC(r)),M=jl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=BC(n,_,I,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(ne(G=>new Rt(S,G)));if(l.length===0&&F.length===0)return Y(new Rt(S,[]));let q=Xt(r)===o;return this.processSegment(f,l,R,F,q?ie:o,!0,S).pipe(ne(G=>new Rt(S,G instanceof Rt?[G]:[])))}))):So(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):g1(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):v1(n))):Y({routes:[],injector:e})}};function A1(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function R1(t){let e=t.value.routeConfig;return e&&e.path===""}function gb(t){let e=[],n=new Set;for(let r of t){if(!R1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=gb(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function $C(t){return t.data||{}}function HC(t){return t.resolve||{}}function M1(t,e,n,r,i,o){return Fe(s=>T1(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:c,tree:u})=>ue(k({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function N1(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of mb(u))s.add(l);let c=0;return Te(s).pipe(Zr(u=>o.has(u)?x1(u,r,t,e):(u.data=jl(u,u.parent,t).resolve,Y(void 0))),He(()=>c++),Yi(1),Fe(u=>c===s.size?Y(n):Dt))})}function mb(t){let e=t.children.map(n=>mb(n)).flat();return[t,...e]}function x1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!cb(i)&&(o[Sa]=i.title),P1(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=jl(t,t.parent,n).resolve,null)))}function P1(t,e,n,r){let i=Sg(t);if(i.length===0)return Y({});let o={};return Te(i).pipe(Fe(s=>O1(t[s],e,n,r).pipe(nn(),He(c=>{if(c instanceof Da)throw $l(new Po,c);o[s]=c}))),Yi(1),wf(o),cr(s=>hb(s)?Dt:Wi(s)))}function O1(t,e,n,r){let i=Ra(e)??r,o=Lo(t,i),s=o.resolve?o.resolve(e,n):dn(i,()=>o(e,n));return Tr(s)}function bg(t){return Ft(e=>{let n=t(e);return n?Te(n).pipe(ne(()=>e)):Y(e)})}var yb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Sa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(k1),providedIn:"root"})}}return t})(),k1=(()=>{class t extends yb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(W(kC))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xa=new V("",{providedIn:"root",factory:()=>({})}),F1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=mt({type:t,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(r,i){r&1&&Ue(0,"router-outlet")},dependencies:[Xg],encapsulation:2})}}return t})();function em(t){let e=t.children&&t.children.map(em),n=e?ue(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=F1),n}var Ta=new V(""),tm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(El)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Tr(n.loadComponent()).pipe(ne(vb),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Gs(()=>{this.componentLoaders.delete(n)})),i=new Hi(r,()=>new Ge).pipe($i());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=L1(r,this.compiler,n,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(r)})),s=new Hi(o,()=>new Ge).pipe($i());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function L1(t,e,n,r){return Tr(t.loadChildren()).pipe(ne(vb),Fe(i=>i instanceof Xs||Array.isArray(i)?Y(i):Te(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(em),injector:o}}))}function V1(t){return t&&typeof t=="object"&&"default"in t}function vb(t){return V1(t)?t.default:t}var nm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(U1),providedIn:"root"})}}return t})(),U1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_b=new V(""),Ib=new V("");function j1(t,e,n){let r=t.get(Ib),i=t.get(pt);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),B1(t))),{onViewTransitionCreated:u}=r;return u&&dn(t,()=>u({transition:c,from:e,to:n})),s})}function B1(t){return new Promise(e=>{ig({read:()=>setTimeout(e)},{injector:t})})}var $1=new V(""),rm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=P(tm),this.environmentInjector=P(bt),this.urlSerializer=P(Aa),this.rootContexts=P(Ma),this.location=P(bo),this.inputBindingEnabled=P(zl,{optional:!0})!==null,this.titleStrategy=P(yb),this.options=P(xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(nm),this.createViewTransition=P(_b,{optional:!0}),this.navigationErrorHandler=P($1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let n=i=>this.events.next(new kg(i)),r=i=>this.events.next(new Fg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ue(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),ne(o=>ue(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let s=!1,c=!1;return Y(o).pipe(Ft(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mt.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new Cr(u.id,this.urlSerializer.serialize(u.rawUrl),p,kl.IgnoredSameUrlNavigation)),u.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Ft(p=>{let _=this.transitions?.getValue();return this.events.next(new Oo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?Dt:Promise.resolve(p)}),M1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ue(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new Fl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:_,source:I,restoredState:S,extras:M}=u,R=new Oo(p,this.urlSerializer.serialize(_),I,S);this.events.next(R);let F=sb(this.rootComponentType).snapshot;return this.currentTransition=o=ue(k({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:ue(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(o)}else{let p="";return this.events.next(new Cr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,kl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Dt}}),He(u=>{let l=new Ng(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ne(u=>(this.currentTransition=o=ue(k({},u),{guards:Yk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),a1(this.environmentInjector,u=>this.events.next(u)),He(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw $l(this.urlSerializer,u.guardsResult);let l=new xg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Mt.GuardRejected),!1)),bg(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(He(l=>{let f=new Pg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ft(l=>{let f=!1;return Y(l).pipe(N1(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Mt.NoDataFromResolver)}}))}),He(l=>{let f=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),bg(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(He(_=>{f.component=_}),ne(()=>{})));for(let _ of f.children)p.push(...l(_));return p};return zs(l(u.targetSnapshot.root)).pipe(ur(null),kt(1))}),bg(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Te(f).pipe(ne(()=>o)):Y(o)}),ne(u=>{let l=zk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),He(()=>{this.events.next(new wa)}),Qk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),kt(1),He({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Df(this.transitionAbortSubject.pipe(He(u=>{throw u}))),Gs(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(u=>{if(c=!0,db(u))this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Kk(u)?this.events.next(new ko(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ia(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof Da){let{message:p,cancellationCode:_}=$l(this.urlSerializer,f);this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,_)),this.events.next(new ko(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H1(t){return t!==ya}var q1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(z1),providedIn:"root"})}}return t})(),Zg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},z1=(()=>{class t extends Zg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ia(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>P(G1),providedIn:"root"})}}return t})(),G1=(()=>{class t extends wb{constructor(){super(...arguments),this.location=P(bo),this.urlSerializer=P(Aa),this.options=P(xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(nm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Un,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Oo)this.stateMemento=this.createStateMemento();else if(n instanceof Cr)this.rawUrlTree=r.initialUrl;else if(n instanceof Fl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Vn&&(n.code===Mt.GuardRejected||n.code===Mt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ia?this.restoreHistory(r,!0):n instanceof pn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Un?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ia(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ga=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ga||{});function Eb(t,e){t.events.pipe(Ct(n=>n instanceof pn||n instanceof Vn||n instanceof Ia||n instanceof Cr),ne(n=>n instanceof pn||n instanceof Cr?ga.COMPLETE:(n instanceof Vn?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?ga.REDIRECTING:ga.FAILED),Ct(n=>n!==ga.REDIRECTING),kt(1)).subscribe(()=>{e()})}function W1(t){throw t}var K1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(_l),this.stateManager=P(wb),this.options=P(xa,{optional:!0})||{},this.pendingTasks=P(Io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(rm),this.urlSerializer=P(Aa),this.location=P(bo),this.urlHandlingStrategy=P(nm),this._events=new Ge,this.errorHandler=this.options.errorHandler||W1,this.navigated=!1,this.routeReuseStrategy=P(q1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ta,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(zl,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pn)this.navigated=!0;else if(r instanceof ko){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H1(i.source)},s);this.scheduleNavigation(c,ya,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Z1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(em),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let _=i?i.snapshot:this.routerState.snapshot.root;p=nb(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return rb(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=di(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ya,null,r)}navigate(n,r={skipLocationChange:!1}){return Y1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},K1):r===!1?i=k({},Q1):i=r,di(n))return FC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return FC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,_)=>{c=p,u=_});let f=this.pendingTasks.add();return Eb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Y1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function Z1(t){return!(t instanceof wa)&&!(t instanceof ko)}var Vo=(()=>{class t{constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new Ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(di(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:wD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ae(Nt),ae(br),Vp("tabindex"),ae(si),ae(Er),ae(Ln))}}static{this.\u0275dir=yt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&St("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ml("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Co],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Co],replaceUrl:[2,"replaceUrl","replaceUrl",Co],routerLink:"routerLink"},standalone:!0,features:[rg,Ir]})}}return t})();var ql=class{};var J1=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof pn),Zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=pl(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Te(i).pipe(Ki())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Y(null);let o=i.pipe(Fe(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Te([o,s]).pipe(Ki())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(W(Nt),W(El),W(bt),W(ql),W(tm))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Db=new V(""),X1=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof pn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cr&&n.code===kl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ll&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ll(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){OD()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function Cb(t,...e){return ln([{provide:Ta,multi:!0,useValue:t},[],{provide:br,useFactory:bb,deps:[Nt]},{provide:wl,multi:!0,useFactory:Tb},e.map(n=>n.\u0275providers)])}function bb(t){return t.routerState.root}function Pa(t,e){return{\u0275kind:t,\u0275providers:e}}function Tb(){let t=P(Xe);return e=>{let n=t.get(ci);if(e!==n.components[0])return;let r=t.get(Nt),i=t.get(Sb);t.get(im)===1&&r.initialNavigation(),t.get(Ab,null,oe.Optional)?.setUpPreloading(),t.get(Db,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Sb=new V("",{factory:()=>new Ge}),im=new V("",{providedIn:"root",factory:()=>1});function eF(){return Pa(2,[{provide:im,useValue:0},{provide:Il,multi:!0,deps:[Xe],useFactory:e=>{let n=e.get(EC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Nt),o=e.get(Sb);Eb(i,()=>{r(!0)}),e.get(rm).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}])}function tF(){return Pa(3,[{provide:Il,multi:!0,useFactory:()=>{let e=P(Nt);return()=>{e.setUpLocationChangeListener()}}},{provide:im,useValue:2}])}var Ab=new V("");function nF(t){return Pa(0,[{provide:Ab,useExisting:J1},{provide:ql,useExisting:t}])}function rF(){return Pa(8,[jC,{provide:zl,useExisting:jC}])}function iF(t){let e=[{provide:_b,useValue:j1},{provide:Ib,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Pa(9,e)}var qC=new V("ROUTER_FORROOT_GUARD"),oF=[bo,{provide:Aa,useClass:Po},Nt,Ma,{provide:br,useFactory:bb,deps:[Nt]},tm,[]],gn=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[oF,[],{provide:Ta,multi:!0,useValue:n},{provide:qC,useFactory:uF,deps:[[Nt,new ft,new cE]]},{provide:xa,useValue:r||{}},r?.useHash?aF():cF(),sF(),r?.preloadingStrategy?nF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lF(r):[],r?.bindToComponentInputs?rF().\u0275providers:[],r?.enableViewTransitions?iF().\u0275providers:[],dF()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ta,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(W(qC,8))}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({})}}return t})();function sF(){return{provide:Db,useFactory:()=>{let t=P(TC),e=P(Ie),n=P(xa),r=P(rm),i=P(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new X1(i,r,t,e,n)}}}function aF(){return{provide:Ln,useClass:CC}}function cF(){return{provide:Ln,useClass:fg}}function uF(t){return"guarded"}function lF(t){return[t.initialNavigation==="disabled"?tF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?eF().\u0275providers:[]]}var zC=new V("");function dF(){return[{provide:zC,useFactory:Tb},{provide:wl,multi:!0,useExisting:zC}]}var Wl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=mt({type:t,selectors:[["app-home"]],standalone:!0,features:[_t],decls:16,vars:0,consts:[[1,"right"],["routerLink",""],["src","../../../assets/ahorcado.png","alt","img"],["src","../../../assets/preguntados.png","alt","img"],["src","../../../assets/mayoromenor.png","alt","img"]],template:function(n,r){n&1&&(j(0,"div",0)(1,"button",1),Ue(2,"img",2),j(3,"p"),K(4,"Ahorcado"),U()(),j(5,"button",1),Ue(6,"img",3),j(7,"p"),K(8,"Preguntados"),U()(),j(9,"button",1),Ue(10,"img",4),j(11,"p"),K(12,"Mayor o Menor"),U()(),j(13,"button",1)(14,"p"),K(15,"Juego Proximamente"),U()()())},dependencies:[Vo,gn,Jt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}p[_ngcontent-%COMP%]{text-decoration:none;margin:1px}.left[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:50px;width:400px;width:68vw}.right[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:85vh;width:10vw;justify-content:center;margin-right:1vw}ul[_ngcontent-%COMP%]{list-style:none}.izquierda[_ngcontent-%COMP%]{width:30px}.derecha[_ngcontent-%COMP%]{width:300px}.centro[_ngcontent-%COMP%]{width:50px}.right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8vw;max-height:20vh}button[_ngcontent-%COMP%]{max-height:20vh;margin:200px 20px;padding:20px;background-color:#32cd32;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid black;border-radius:20px;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#36b036}button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2vw;color:#fff;text-align:center;font-weight:700}.list-pair[_ngcontent-%COMP%]{display:flex}.list[_ngcontent-%COMP%]{padding:1px;margin:0 10px;width:80%;text-align:center;border:1px solid black;border-radius:20px}.list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;padding:5px 0;background-color:#32cd32;border:1px solid black;border-radius:20px}.lista-texto-izquierda[_ngcontent-%COMP%]{display:inline-block;width:5%;text-align:start;margin-right:5px}.lista-texto-centro[_ngcontent-%COMP%]{display:inline-block;width:85%;text-align:start}.lista-texto-derecha[_ngcontent-%COMP%]{margin:0 5px;display:inline-block;width:10%;text-align:end}li[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:100%;display:flex;border-bottom:1px solid #333}ul[_ngcontent-%COMP%]{width:100%}"]})};var Lb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ae(si),ae(Er))}}static{this.\u0275dir=yt({type:t})}}return t})(),hF=(()=>{class t extends Lb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ia(t)))(i||t)}})()}static{this.\u0275dir=yt({type:t,features:[Dr]})}}return t})(),Vb=new V("");var fF={provide:Vb,useExisting:yo(()=>Ho),multi:!0};function pF(){let t=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gF=new V(""),Ho=(()=>{class t extends Lb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(si),ae(Er),ae(gF,8))}}static{this.\u0275dir=yt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&St("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[vl([fF]),Dr]})}}return t})();function Sr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Ub(t){return t!=null&&typeof t.length=="number"}var jb=new V(""),Bb=new V(""),mF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xt=class{static min(e){return yF(e)}static max(e){return vF(e)}static required(e){return _F(e)}static requiredTrue(e){return IF(e)}static email(e){return wF(e)}static minLength(e){return EF(e)}static maxLength(e){return DF(e)}static pattern(e){return CF(e)}static nullValidator(e){return $b(e)}static compose(e){return Kb(e)}static composeAsync(e){return Yb(e)}};function yF(t){return e=>{if(Sr(e.value)||Sr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function vF(t){return e=>{if(Sr(e.value)||Sr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function _F(t){return Sr(t.value)?{required:!0}:null}function IF(t){return t.value===!0?null:{required:!0}}function wF(t){return Sr(t.value)||mF.test(t.value)?null:{email:!0}}function EF(t){return e=>Sr(e.value)||!Ub(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function DF(t){return e=>Ub(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function CF(t){if(!t)return $b;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Sr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function $b(t){return null}function Hb(t){return t!=null}function qb(t){return ai(t)?Te(t):t}function zb(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function Gb(t,e){return e.map(n=>n(t))}function bF(t){return!t.validate}function Wb(t){return t.map(e=>bF(e)?e:n=>e.validate(n))}function Kb(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){return zb(Gb(n,e))}}function Qb(t){return t!=null?Kb(Wb(t)):null}function Yb(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){let r=Gb(n,e).map(qb);return _f(r).pipe(ne(zb))}}function Zb(t){return t!=null?Yb(Wb(t)):null}function Mb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jb(t){return t._rawValidators}function Xb(t){return t._rawAsyncValidators}function om(t){return t?Array.isArray(t)?t:[t]:[]}function Ql(t,e){return Array.isArray(t)?t.includes(e):t===e}function Nb(t,e){let n=om(e);return om(t).forEach(i=>{Ql(n,i)||n.push(i)}),n}function xb(t,e){return om(e).filter(n=>!Ql(t,n))}var Yl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bo=class extends Yl{get formDirective(){return null}get path(){return null}},Ua=class extends Yl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yW=ue(k({},TF),{"[class.ng-submitted]":"isSubmitted"}),nd=(()=>{class t extends Zl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(Ua,2))}}static{this.\u0275dir=yt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dr]})}}return t})(),rd=(()=>{class t extends Zl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(Bo,10))}}static{this.\u0275dir=yt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Dr]})}}return t})();var ka="VALID",Kl="INVALID",Uo="PENDING",Fa="DISABLED",Ar=class{},Jl=class extends Ar{constructor(e,n){super(),this.value=e,this.source=n}},La=class extends Ar{constructor(e,n){super(),this.pristine=e,this.source=n}},Va=class extends Ar{constructor(e,n){super(),this.touched=e,this.source=n}},jo=class extends Ar{constructor(e,n){super(),this.status=e,this.source=n}},sm=class extends Ar{constructor(e){super(),this.source=e}},am=class extends Ar{constructor(e){super(),this.source=e}};function e0(t){return(id(t)?t.validators:t)||null}function SF(t){return Array.isArray(t)?Qb(t):t||null}function t0(t,e){return(id(e)?e.asyncValidators:t)||null}function AF(t){return Array.isArray(t)?Zb(t):t||null}function id(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function MF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var Xl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ca(()=>this.statusReactive()),this.statusReactive=aa(void 0),this._pristine=ca(()=>this.pristineReactive()),this.pristineReactive=aa(!0),this._touched=ca(()=>this.touchedReactive()),this.touchedReactive=aa(!1),this._events=new Ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return On(this.statusReactive)}set status(e){On(()=>this.statusReactive.set(e))}get valid(){return this.status===ka}get invalid(){return this.status===Kl}get pending(){return this.status==Uo}get disabled(){return this.status===Fa}get enabled(){return this.status!==Fa}get pristine(){return On(this.pristineReactive)}set pristine(e){On(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return On(this.touchedReactive)}set touched(e){On(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Nb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xb(e,this._rawAsyncValidators))}hasValidator(e){return Ql(this._rawValidators,e)}hasAsyncValidator(e){return Ql(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Va(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Va(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new La(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new La(!0,r))}markAsPending(e={}){this.status=Uo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this.errors=null,this._forEachChild(i=>{i.disable(ue(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,r)),this._events.next(new jo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ka,this._forEachChild(r=>{r.enable(ue(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ka||this.status===Uo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,n)),this._events.next(new jo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fa:ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new jo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Fa:this.errors?Kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(Kl)?Kl:ka}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new La(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Va(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){id(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=AF(this._rawAsyncValidators)}},$o=class extends Xl{constructor(e,n,r){super(e0(n),t0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){MF(this,!0,e),Object.keys(e).forEach(r=>{RF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var n0=new V("CallSetDisabledState",{providedIn:"root",factory:()=>cm}),cm="always";function NF(t,e){return[...e.path,t]}function Pb(t,e,n=cm){um(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),PF(t,e),kF(t,e),OF(t,e),xF(t,e)}function Ob(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),td(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ed(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function um(t,e){let n=Jb(t);e.validator!==null?t.setValidators(Mb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xb(t);e.asyncValidator!==null?t.setAsyncValidators(Mb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ed(e._rawValidators,i),ed(e._rawAsyncValidators,i)}function td(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Jb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Xb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return ed(e._rawValidators,r),ed(e._rawAsyncValidators,r),n}function PF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&r0(t,e)})}function OF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&r0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function r0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function FF(t,e){t==null,um(t,e)}function LF(t,e){return td(t,e)}function VF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function UF(t){return Object.getPrototypeOf(t.constructor)===hF}function jF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ho?n=o:UF(o)?r=o:i=o}),i||r||n||null}function $F(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rr=class extends Xl{constructor(e=null,n,r){super(e0(n),t0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Fb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Fb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HF=t=>t instanceof Rr;var od=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=yt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var i0=new V("");var qF={provide:Bo,useExisting:yo(()=>ja)},ja=(()=>{class t extends Bo{get submitted(){return On(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ca(()=>this._submittedReactive()),this._submittedReactive=aa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(td(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Pb(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Ob(n.control||null,n,!1),$F(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),jF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new sm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new am(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Ob(r||null,n),HF(i)&&(Pb(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);FF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&LF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){um(this.form,this),this._oldForm&&td(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ae(jb,10),ae(Bb,10),ae(n0,8))}}static{this.\u0275dir=yt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&St("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vl([qF]),Dr,Ir]})}}return t})();var zF={provide:Ua,useExisting:yo(()=>Ba)},Ba=(()=>{class t extends Ua{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BF(this,o)}ngOnChanges(n){this._added||this._setUpControl(),VF(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return NF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ae(Bo,13),ae(jb,10),ae(Bb,10),ae(Vb,10),ae(i0,8))}}static{this.\u0275dir=yt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[vl([zF]),Dr,Ir]})}}return t})();var GF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({})}}return t})();var sd=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:i0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:n0,useValue:n.callSetDisabledState??cm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_r({type:t})}static{this.\u0275inj=vr({imports:[GF]})}}return t})();var a0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,_=(c&15)<<2|l>>6,I=l&63;u||(I=64,s||(_=64)),r.push(n[f],n[p],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new dm;let _=o<<2|c>>4;if(r.push(_),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KF=function(t){let e=a0(t);return c0.encodeByteArray(e,!0)},$a=function(t){return KF(t).replace(/\./g,"")},fm=function(t){try{return c0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YF=()=>QF().__FIREBASE_DEFAULTS__,ZF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&fm(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return YF()||ZF()||JF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pm=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u0=t=>{let e=pm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gm=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},mm=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};var ad=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function l0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$a(JSON.stringify(n)),$a(JSON.stringify(s)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function XF(){var t;let e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g0(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m0(){return!XF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ym(){try{return typeof indexedDB=="object"}catch{return!1}}function y0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var eL="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}},jn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Pt(i,c,r)}};function tL(t,e){return t.replace(nL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nL=/\{\$([^}]+)}/g;function v0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(s0(o)&&s0(s)){if(!hi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function s0(t){return t!==null&&typeof t=="object"}function Ha(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _0(t,e){let n=new hm(t,e);return n.subscribe.bind(n)}var hm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lm),i.error===void 0&&(i.error=lm),i.complete===void 0&&(i.complete=lm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}var IW=4*60*60*1e3;function It(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fi="[DEFAULT]";var vm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ad;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oL(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iL(t){return t===fi?void 0:t}function oL(t){return t.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sL=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),aL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},cL=pe.INFO,uL={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mr=class{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=lL,this._userLogHandler=null,sL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var dL=(t,e)=>e.some(n=>t instanceof n),I0,w0;function hL(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var E0=new WeakMap,Im=new WeakMap,D0=new WeakMap,_m=new WeakMap,Em=new WeakMap;function pL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&E0.set(n,t)}).catch(()=>{}),Em.set(e,t),e}function gL(t){if(Im.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Im.set(t,e)}var wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C0(t){wm=t(wm)}function mL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ld(this),e,...n);return D0.set(r,e.sort?e.sort():[e]),mn(r)}:fL().includes(t)?function(...e){return t.apply(ld(this),e),mn(E0.get(this))}:function(...e){return mn(t.apply(ld(this),e))}}function yL(t){return typeof t=="function"?mL(t):(t instanceof IDBTransaction&&gL(t),dL(t,hL())?new Proxy(t,wm):t)}function mn(t){if(t instanceof IDBRequest)return pL(t);if(_m.has(t))return _m.get(t);let e=yL(t);return e!==t&&(_m.set(t,e),Em.set(e,t)),e}var ld=t=>Em.get(t);function T0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=mn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(mn(s.result),u.oldVersion,u.newVersion,mn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var vL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],Dm=new Map;function b0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;let o=function(s,...c){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Dm.set(e,o),o}C0(t=>ue(k({},t),{get:(e,n,r)=>b0(e,n)||t.get(e,n,r),has:(e,n)=>!!b0(e,n)||t.has(e,n)}));var bm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function IL(t){let e=t.getComponent();return e?.type==="VERSION"}var Tm="@firebase/app",S0="0.10.11";var Bn=new Mr("@firebase/app"),wL="@firebase/app-compat",EL="@firebase/analytics-compat",DL="@firebase/analytics",CL="@firebase/app-check-compat",bL="@firebase/app-check",TL="@firebase/auth",SL="@firebase/auth-compat",AL="@firebase/database",RL="@firebase/database-compat",ML="@firebase/functions",NL="@firebase/functions-compat",xL="@firebase/installations",PL="@firebase/installations-compat",OL="@firebase/messaging",kL="@firebase/messaging-compat",FL="@firebase/performance",LL="@firebase/performance-compat",VL="@firebase/remote-config",UL="@firebase/remote-config-compat",jL="@firebase/storage",BL="@firebase/storage-compat",$L="@firebase/firestore",HL="@firebase/vertexai-preview",qL="@firebase/firestore-compat",zL="firebase",GL="10.13.2";var Sm="[DEFAULT]",WL={[Tm]:"fire-core",[wL]:"fire-core-compat",[DL]:"fire-analytics",[EL]:"fire-analytics-compat",[bL]:"fire-app-check",[CL]:"fire-app-check-compat",[TL]:"fire-auth",[SL]:"fire-auth-compat",[AL]:"fire-rtdb",[RL]:"fire-rtdb-compat",[ML]:"fire-fn",[NL]:"fire-fn-compat",[xL]:"fire-iid",[PL]:"fire-iid-compat",[OL]:"fire-fcm",[kL]:"fire-fcm-compat",[FL]:"fire-perf",[LL]:"fire-perf-compat",[VL]:"fire-rc",[UL]:"fire-rc-compat",[jL]:"fire-gcs",[BL]:"fire-gcs-compat",[$L]:"fire-fst",[qL]:"fire-fst-compat",[HL]:"fire-vertex","fire-js":"fire-js",[zL]:"fire-js-all"};var qa=new Map,KL=new Map,Am=new Map;function A0(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xr(t){let e=t.name;if(Am.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(let n of qa.values())A0(n,t);for(let n of KL.values())A0(n,t);return!0}function Ga(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t.settings!==void 0}var QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new jn("app","Firebase",QL);var Rm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};var Pr=GL;function xm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=gm()),!n)throw Nr.create("no-options");let o=qa.get(i);if(o){if(hi(n,o.options)&&hi(r,o.config))return o;throw Nr.create("duplicate-app",{appName:i})}let s=new ud(i);for(let u of Am.values())s.addComponent(u);let c=new Rm(n,r,s);return qa.set(i,c),c}function qo(t=Sm){let e=qa.get(t);if(!e&&t===Sm&&gm())return xm();if(!e)throw Nr.create("no-app",{appName:t});return e}function dd(){return Array.from(qa.values())}function qe(t,e,n){var r;let i=(r=WL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(c.join(" "));return}xr(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YL="firebase-heartbeat-database",ZL=1,za="firebase-heartbeat-store",Cm=null;function x0(){return Cm||(Cm=T0(YL,ZL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),Cm}function JL(t){return w(this,null,function*(){try{let n=(yield x0()).transaction(za),r=yield n.objectStore(za).get(P0(t));return yield n.done,r}catch(e){if(e instanceof Pt)Bn.warn(e.message);else{let n=Nr.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}})}function R0(t,e){return w(this,null,function*(){try{let r=(yield x0()).transaction(za,"readwrite");yield r.objectStore(za).put(e,P0(t)),yield r.done}catch(n){if(n instanceof Pt)Bn.warn(n.message);else{let r=Nr.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function P0(t){return`${t.name}!${t.options.appId}`}var XL=1024,eV=30*24*60*60*1e3,Mm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Nm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=M0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=eV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=M0(),{heartbeatsToSend:r,unsentEntries:i}=tV(this._heartbeatsCache.heartbeats),o=$a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bn.warn(n),""}})}};function M0(){return new Date().toISOString().substring(0,10)}function tV(t,e=XL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Nm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return ym()?y0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield JL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function N0(t){return $a(JSON.stringify({version:2,heartbeats:t})).length}function nV(t){xr(new Ht("platform-logger",e=>new bm(e),"PRIVATE")),xr(new Ht("heartbeat",e=>new Mm(e),"PRIVATE")),qe(Tm,S0,t),qe(Tm,S0,"esm2017"),qe("fire-js","")}nV("");var rV="firebase",iV="10.13.2";qe(rV,iV,"app");var gi=new Nn("ANGULARFIRE2_VERSION");function fd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wa=(t,e)=>{let n=e?[e]:dd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Go=class{constructor(){return Wa(oV)}},oV="app-check";function zo(){}var hd=class{zone;delegate;constructor(e,n=mf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Pm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=n.run(()=>new hd(Zone.current,qs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(Ie))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sV(t){return pd().ngZone.runOutsideAngular(()=>t())}function pi(t){return pd().ngZone.run(()=>t())}function aV(t){return cV(pd())(t)}function cV(t){return function(n){return n=n.lift(new Pm(t.ngZone)),n.pipe(ar(t.outsideAngular),sr(t.insideAngular))}}var uV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),pi(()=>t.apply(void 0,r))},Hn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=pi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo))),r[o]=uV(r[o],n));let i=sV(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=pd();return i.pipe(ar(o.outsideAngular),sr(o.insideAngular))}else return pi(()=>i);return i instanceof le?i.pipe(aV):i instanceof Promise?pi(()=>new Promise((o,s)=>i.then(c=>pi(()=>o(c)),c=>pi(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:pi(()=>i)};var qn=class{constructor(e){return e}},mi=class{constructor(){return dd()}};function lV(t){return t&&t.length===1?t[0]:new qn(qo())}var Om=new V("angularfire2._apps"),dV={provide:qn,useFactory:lV,deps:[[new ft,Om]]},hV={provide:mi,deps:[[new ft,Om]]};function fV(t){return(e,n)=>{let r=n.get(hn);qe("angularfire",gi.full,"core"),qe("angularfire",gi.full,"app"),qe("angular",sC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qn(i)}}function O0(t,...e){return ln([dV,hV,{provide:Om,useFactory:fV(t),multi:!0,deps:[Ie,Xe,Wo,...e]}])}var k0=Hn(xm,!0);function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Z0=Y0,J0=new jn("auth","Firebase",Y0());var Id=new Mr("@firebase/auth");function pV(t,...e){Id.logLevel<=pe.WARN&&Id.warn(`Auth (${Pr}): ${t}`,...e)}function md(t,...e){Id.logLevel<=pe.ERROR&&Id.error(`Auth (${Pr}): ${t}`,...e)}function kr(t,...e){throw ey(t,...e)}function vi(t,...e){return ey(t,...e)}function X0(t,e,n){let r=Object.assign(Object.assign({},Z0()),{[e]:n});return new jn("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return X0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J0.create(t,...e)}function J(t,e,...n){if(!t)throw ey(e,...n)}function zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function Fr(t,e){t||zn(e)}function Vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gV(){return F0()==="http:"||F0()==="https:"}function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function mV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gV()||f0()||"connection"in navigator)?navigator.onLine:!0}function yV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=d0()||p0()}get(){return mV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ty(t,e){Fr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _V=new _i(3e4,6e4);function ny(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qo(o,s,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return eT(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Ha(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:_},l);return h0()||(I.referrerPolicy="no-referrer"),wd.fetch()(tT(t,t.config.apiHost,n,p),I)}))})}function eT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vV),e);try{let i=new Um(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw gd(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw X0(t,f,l);kr(t,f)}}catch(i){if(i instanceof Pt)throw i;kr(t,"network-request-failed",{message:String(i)})}})}function IV(o,s,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Qo(t,e,n,r,i);return"mfaPendingCredential"in l&&kr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function tT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ty(t.config,i):`${t.config.apiScheme}://${i}`}var Um=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),_V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vi(t,e,r);return i.customData._tokenResponse=n,i}function wV(t,e){return w(this,null,function*(){return Qo(t,"POST","/v1/accounts:delete",e)})}function nT(t,e){return w(this,null,function*(){return Qo(t,"POST","/v1/accounts:lookup",e)})}function Ka(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ry(t,e=!1){return w(this,null,function*(){let n=It(t),r=yield n.getIdToken(e),i=iy(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ka(km(i.auth_time)),issuedAtTime:Ka(km(i.iat)),expirationTime:Ka(km(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function km(t){return Number(t)*1e3}function iy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=fm(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function L0(t){let e=iy(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ya(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&EV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function EV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ed(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ya(t,nT(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rT(o.providerUserInfo):[],c=DV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Za(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function oy(t){return w(this,null,function*(){let e=It(t);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rT(t){return t.map(e=>{var{providerId:n}=e,r=yf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CV(t,e){return w(this,null,function*(){let n=yield eT(t,{},()=>w(this,null,function*(){let r=Ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=tT(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wd.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function bV(t,e){return w(this,null,function*(){return Qo(t,"POST","/v2/accounts:revokeToken",ny(t,e))})}var Qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=L0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield CV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zn("not implemented")}};function Or(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ko=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Za(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ya(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ry(this,e)}reload(){return oy(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ed(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if($n(this.auth.app))return Promise.reject(yi(this.auth));let e=yield this.getIdToken();return yield Ya(this,wV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:G,emailVerified:ce,isAnonymous:Re,providerData:ee,stsTokenManager:D}=n;J(G&&D,e,"internal-error");let m=Qa.fromJSON(this.name,D);J(typeof G=="string",e,"internal-error"),Or(p,e.name),Or(_,e.name),J(typeof ce=="boolean",e,"internal-error"),J(typeof Re=="boolean",e,"internal-error"),Or(I,e.name),Or(S,e.name),Or(M,e.name),Or(R,e.name),Or(F,e.name),Or(q,e.name);let y=new t({uid:G,auth:e,email:_,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:F,lastLoginAt:q});return ee&&Array.isArray(ee)&&(y.providerData=ee.map(E=>Object.assign({},E))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Qa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?rT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Qa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var V0=new Map;function Gn(t){Fr(t instanceof Function,"Expected a class definition");let e=V0.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V0.set(t,e),e)}var TV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Bm=TV;function yd(t,e,n){return`firebase:${t}:${e}:${n}`}var Dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yd(this.userKey,i.apiKey,o),this.fullPersistenceKey=yd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Gn(Bm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Gn(Bm),s=yd(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Ko._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function U0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(lT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function iT(t=Ke()){return/firefox\//i.test(t)}function oT(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(t=Ke()){return/crios\//i.test(t)}function aT(t=Ke()){return/iemobile/i.test(t)}function cT(t=Ke()){return/android/i.test(t)}function uT(t=Ke()){return/blackberry/i.test(t)}function lT(t=Ke()){return/webos/i.test(t)}function sy(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SV(t=Ke()){var e;return sy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AV(){return g0()&&document.documentMode===10}function dT(t=Ke()){return sy(t)||cT(t)||lT(t)||uT(t)||/windows phone/i.test(t)||aT(t)}function hT(t,e=[]){let n;switch(t){case"Browser":n=U0(Ke());break;case"Worker":n=`${U0(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pr}/${r}`}var $m=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RV(n){return w(this,arguments,function*(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",ny(t,e))})}var MV=6,Hm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:MV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var qm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cd(this),this.idTokenSubscription=new Cd(this),this.beforeStateQueue=new $m(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Dd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield nT(this,{idToken:e}),r=yield Ko._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if($n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if($n(this.app))return Promise.reject(yi(this));let n=e?It(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return $n(this.app)?Promise.reject(yi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $n(this.app)?Promise.reject(yi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield RV(this),n=new Hm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Dd.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&pV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ay(t){return It(t)}var Cd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_0(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cy={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NV(t){cy=t}function xV(t){return cy.loadJS(t)}function PV(){return cy.gapiScript}function fT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uy(t,e){let n=Ga(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(hi(o,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function OV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ly(t,e,n){let r=ay(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=pT(e),{host:s,port:c}=kV(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||FV()}function pT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kV(t){let e=pT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:j0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:j0(s)}}}function j0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function FV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var bd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}};function Fm(t,e){return w(this,null,function*(){return IV(t,"POST","/v1/accounts:signInWithIdp",ny(t,e))})}var Td=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zm=class extends Td{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Ko._fromIdTokenResponse(e,r,i),s=B0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=B0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function B0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gm=class t extends Pt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function gT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gm._fromErrorAndOperation(t,o,e,r):o})}function LV(t,e,n=!1){return w(this,null,function*(){let r=yield Ya(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ja._forOperation(t,"link",r)})}function VV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if($n(r.app))return Promise.reject(yi(r));let i="reauthenticate";try{let o=yield Ya(t,gT(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=iy(o.idToken);J(s,r,"internal-error");let{sub:c}=s;return J(t.uid===c,r,"user-mismatch"),Ja._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&kr(r,"user-mismatch"),o}})}function UV(t,e,n=!1){return w(this,null,function*(){if($n(t.app))return Promise.reject(yi(t));let r="signIn",i=yield gT(t,r,e),o=yield Ja._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function dy(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function hy(t,e,n){return It(t).beforeAuthStateChanged(e,n)}var Sd="__sak";var Ad=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var jV=1e3,BV=10,$V=(()=>{class t extends Ad{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);AV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,BV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield rr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield rr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield rr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mT=$V;var HV=(()=>{class t extends Ad{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),fy=HV;function qV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,s)})),l=yield qV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Wm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=yT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let _=p;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function yn(){return window}function GV(t){yn().location.href=t}function vT(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}function WV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function KV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QV(){return vT()?self:null}var _T="firebaseLocalStorageDb",YV=1,Rd="firebaseLocalStorage",IT="fbase_key",Ii=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nd(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function ZV(){let t=indexedDB.deleteDatabase(_T);return new Ii(t).toPromise()}function Km(){let t=indexedDB.open(_T,YV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rd,{keyPath:IT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Rd)?e(r):(r.close(),yield ZV(),e(yield Km()))}))})}function $0(t,e,n){return w(this,null,function*(){let r=Nd(t,!0).put({[IT]:e,value:n});return new Ii(r).toPromise()})}function JV(t,e){return w(this,null,function*(){let n=Nd(t,!1).get(e),r=yield new Ii(n).toPromise();return r===void 0?null:r.value})}function H0(t,e){let n=Nd(t,!0).delete(e);return new Ii(n).toPromise()}var XV=800,eU=3,tU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Km(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>eU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return vT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=zV._getInstance(QV()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield WV(),!this.activeServiceWorker)return;this.sender=new Wm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||KV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Km();return yield $0(n,Sd,"1"),yield H0(n,Sd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>$0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>JV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>H0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=Nd(o,!1).getAll();return new Ii(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wT=tU;var g5=fT("rcb"),m5=new _i(3e4,6e4);function nU(t,e){return e?Gn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xa=class extends bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function rU(t){return UV(t.auth,new Xa(t),t.bypassAuthState)}function iU(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),VV(n,new Xa(t),t.bypassAuthState)}function oU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),LV(n,new Xa(t),t.bypassAuthState)})}var Qm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rU;case"linkViaPopup":case"linkViaRedirect":return oU;case"reauthViaPopup":case"reauthViaRedirect":return iU;default:kr(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var y5=new _i(2e3,1e4);var sU="pendingRedirect",vd=new Map,Ym=class t extends Qm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=vd.get(this.auth._key());if(!e){try{let r=(yield aU(this.resolver,this.auth))?yield rr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return rr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,rr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function aU(t,e){return w(this,null,function*(){let n=lU(e),r=uU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function cU(t,e){vd.set(t._key(),e)}function uU(t){return Gn(t._redirectPersistence)}function lU(t){return yd(sU,t.config.apiKey,t.name)}function dU(t,e,n=!1){return w(this,null,function*(){if($n(t.app))return Promise.reject(yi(t));let r=ay(t),i=nU(r,e),s=yield new Ym(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var hU=10*60*1e3,Zm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ET(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hU&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}};function q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ET({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(t);default:return!1}}function pU(n){return w(this,arguments,function*(t,e={}){return Qo(t,"GET","/v1/projects",e)})}var gU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;function yU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield pU(t);for(let n of e)try{if(vU(n))return}catch{}kr(t,"unauthorized-domain")})}function vU(t){let e=Vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!mU.test(n))return!1;if(gU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _U=new _i(3e4,6e4);function z0(){let t=yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IU(t){return new Promise((e,n)=>{var r,i,o;function s(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),n(vi(t,"network-request-failed"))},timeout:_U.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=yn().gapi)===null||o===void 0)&&o.load)s();else{let c=fT("iframefcb");return yn()[c]=()=>{gapi.load?s():n(vi(t,"network-request-failed"))},xV(`${PV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw _d=null,e})}var _d=null;function wU(t){return _d=_d||IU(t),_d}var EU=new _i(5e3,15e3),DU="__/auth/iframe",CU="emulator/auth/iframe",bU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SU(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ty(e,CU):`https://${t.config.authDomain}/${DU}`,r={apiKey:e.apiKey,appName:t.name,v:Pr},i=TU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ha(r).slice(1)}`}function AU(t){return w(this,null,function*(){let e=yield wU(t),n=yn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:SU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=vi(t,"network-request-failed"),c=yn().setTimeout(()=>{o(s)},EU.get());function u(){yn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var RU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,NU=600,xU="_blank",PU="http://localhost",Md=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function OU(t,e,n,r=MU,i=NU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},RU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ke().toLowerCase();n&&(c=sT(l)?xU:n),iT(l)&&(e=e||PU,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,S])=>`${_}${I}=${S},`,"");if(SV(l)&&c!=="_self")return kU(e||"",c),new Md(null);let p=window.open(e||"",c,f);J(p,t,"popup-blocked");try{p.focus()}catch{}return new Md(p)}function kU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var FU="__/auth/handler",LU="emulator/auth/handler",VU=encodeURIComponent("fac");function G0(t,e,n,r,i,o){return w(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pr,eventId:i};if(e instanceof Td){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",v0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof zm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${VU}=${encodeURIComponent(u)}`:"";return`${UU(t)}?${Ha(c).slice(1)}${l}`})}function UU({config:t}){return t.emulator?ty(t,LU):`https://${t.authDomain}/${FU}`}var Lm="webStorageSupport",Jm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fy,this._completeRedirectFn=dU,this._overrideRedirectResult=cU}_openPopup(e,n,r,i){return w(this,null,function*(){var o;Fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield G0(e,n,r,Vm(),i);return OU(e,s,yT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield G0(e,n,r,Vm(),i);return GV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield AU(e),r=new Zm(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Lm];s!==void 0&&n(!!s),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||oT()||sy()}},DT=Jm;var W0="@firebase/auth",K0="1.7.9";var Xm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BU(t){xr(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(t)},l=new qm(r,i,o,u);return OV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xr(new Ht("auth-internal",e=>{let n=ay(e.getProvider("auth").getImmediate());return(r=>new Xm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(W0,K0,jU(t)),qe(W0,K0,"esm2017")}var $U=5*60,HU=mm("authIdTokenMaxAge")||$U,Q0=null,qU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HU)return;let i=n?.token;Q0!==i&&(Q0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function py(t=qo()){let e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();let n=uy(t,{popupRedirectResolver:DT,persistence:[wT,mT,fy]}),r=mm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=qU(o.toString());hy(n,s,()=>s(n.currentUser)),dy(n,c=>s(c))}}let i=pm("auth");return i&&ly(n,`http://${i}`),n}function zU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=vi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BU("Browser");var CT="auth",ec=class{constructor(e){return e}},tc=class{constructor(){return Wa(CT)}};var gy=new V("angularfire2.auth-instances");function Uj(t,e){let n=fd(CT,t,e);return n&&new ec(n)}function jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ec(r)}}var Bj={provide:tc,deps:[[new ft,gy]]},$j={provide:ec,useFactory:Uj,deps:[[new ft,gy],qn]};function bT(t,...e){return qe("angularfire",gi.full,"auth"),ln([$j,Bj,{provide:gy,useFactory:jj(t),multi:!0,deps:[Ie,Xe,Wo,mi,[new ft,Go],...e]}])}var TT=Hn(py,!0);var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AT={};var Lr,my;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,C,T){for(var v=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)v[bn-2]=arguments[bn];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function o(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function s(D,m){this.h=m;for(var y=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new s(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var p=u(0),_=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var C=ce(y,m).g;y=F(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,S(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new s(y,~D.h).add(_)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new s(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,bn=D.i(C)>>>16,ws=D.i(C)&65535;y[2*E+2*C]+=v*ws,q(y,2*E+2*C),y[2*E+2*C+1]+=T*ws,q(y,2*E+2*C+1),y[2*E+2*C+1]+=v*bn,q(y,2*E+2*C+1),y[2*E+2*C+2]+=T*bn,q(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new s(y,0)};function q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function G(D,m){this.g=D,this.h=m}function ce(D,m){if(S(m))throw Error("division by zero");if(S(D))return new G(p,p);if(M(D))return m=ce(R(D),m),new G(R(m.g),R(m.h));if(M(m))return m=ce(D,R(m)),new G(R(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Re(y),E=Re(E);var C=ee(y,1),T=ee(E,1);for(E=ee(E,2),y=ee(y,2);!S(E);){var v=T.add(E);0>=v.l(D)&&(C=C.add(y),T=v),E=ee(E,1),y=ee(y,1)}return m=F(D,C.j(m)),new G(C,m)}for(C=p;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);M(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);S(T)&&(T=_),C=C.add(T),D=F(D,v)}return new G(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new s(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new s(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new s(y,this.h^D.h)};function Re(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(y,D.h)}function ee(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,my=AT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Lr=AT.Integer=s}).apply(typeof ST<"u"?ST:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var yy,vy,Yo,_y,nc,Pd,Iy,wy,Ey;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,_.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,O)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let O=0;O<A;O++)a[b+O]=g[O]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function G(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ce(a){return ce[" "](a),a}ce[" "]=function(){};var Re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ee(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Ah;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,h){let g=ws.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var ws=new F(()=>new AA,a=>a.reset());class AA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Es,Ds=!1,Ah=new bn,S_=()=>{let a=c.Promise.resolve(void 0);Es=()=>{a.then(RA)}};var RA=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=ws;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ds=!1};function Xn(){this.s=this.s,this.C=this.C}Xn.prototype.s=!1,Xn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var MA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Cs(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Re){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:NA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Cs.aa.h.call(this)}}S(Cs,tt);var NA={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),xA=0;function PA(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++xA,this.da=this.fa=!1}function bc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Tc(a){this.src=a,this.g={},this.h=0}Tc.prototype.add=function(a,d,h,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var O=Mh(a,d,g,b);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new PA(d,this.src,A,!!g,b),d.fa=h,a.push(d)),d};function Rh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(bc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Mh(a,d,h,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var Nh="closure_lm_"+(1e6*Math.random()|0),xh={};function A_(a,d,h,g,b){if(g&&g.once)return M_(a,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)A_(a,d[A],h,g,b);return null}return h=Fh(h),a&&a[bs]?a.K(d,h,l(g)?!!g.capture:!!g,b):R_(a,d,h,!1,g,b)}function R_(a,d,h,g,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Ee=Oh(a);if(Ee||(a[Nh]=Ee=new Tc(a)),h=Ee.add(d,h,g,O,A),h.proxy)return h;if(g=OA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)MA||(b=O),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(x_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OA(){function a(h){return d.call(a.src,a.listener,h)}let d=kA;return a}function M_(a,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)M_(a,d[A],h,g,b);return null}return h=Fh(h),a&&a[bs]?a.L(d,h,l(g)?!!g.capture:!!g,b):R_(a,d,h,!0,g,b)}function N_(a,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)N_(a,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=Fh(h),a&&a[bs]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Mh(A,h,g,b),-1<h&&(bc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Oh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Mh(d,h,g,b)),(h=-1<a?d[a]:null)&&Ph(h))}function Ph(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[bs])Rh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(x_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Oh(d))?(Rh(h,a),h.h==0&&(h.src=null,d[Nh]=null)):bc(a)}}}function x_(a){return a in xh?xh[a]:xh[a]="on"+a}function kA(a,d){if(a.da)a=!0;else{d=new Cs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Ph(a),a=h.call(g,d)}return a}function Oh(a){return a=a[Nh],a instanceof Tc?a:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fh(a){return typeof a=="function"?a:(a[kh]||(a[kh]=function(d){return a.handleEvent(d)}),a[kh])}function nt(){Xn.call(this),this.i=new Tc(this),this.M=this,this.F=null}S(nt,Xn),nt.prototype[bs]=!0,nt.prototype.removeEventListener=function(a,d,h,g){N_(this,a,d,h,g)};function ct(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var b=d;d=new tt(g,a),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];b=Sc(O,g,!0,d)&&b}if(O=d.g=a,b=Sc(O,g,!0,d)&&b,b=Sc(O,g,!1,d)&&b,h)for(A=0;A<h.length;A++)O=d.g=h[A],b=Sc(O,g,!1,d)&&b}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)bc(h[g]);delete a.g[d],a.h--}}this.F=null},nt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},nt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Sc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var Ee=O.listener,Ye=O.ha||O.src;O.fa&&Rh(a.i,O),b=Ee.call(Ye,g)!==!1&&b}}return b&&!g.defaultPrevented}function P_(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function O_(a){a.g=P_(()=>{a.g=null,a.i&&(a.i=!1,O_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class FA extends Xn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:O_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(a){Xn.call(this),this.h=a,this.g={}}S(Ts,Xn);var k_=[];function F_(a){ee(a.g,function(d,h){this.g.hasOwnProperty(h)&&Ph(d)},a),a.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),F_(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lh=c.JSON.stringify,LA=c.JSON.parse,VA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Vh(){}Vh.prototype.h=null;function L_(a){return a.h||(a.h=a.i())}function V_(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uh(){tt.call(this,"d")}S(Uh,tt);function jh(){tt.call(this,"c")}S(jh,tt);var Hr={},U_=null;function Ac(){return U_=U_||new nt}Hr.La="serverreachability";function j_(a){tt.call(this,Hr.La,a)}S(j_,tt);function As(a){let d=Ac();ct(d,new j_(d))}Hr.STAT_EVENT="statevent";function B_(a,d){tt.call(this,Hr.STAT_EVENT,a),this.stat=d}S(B_,tt);function ut(a){let d=Ac();ct(d,new B_(d,a))}Hr.Ma="timingevent";function $_(a,d){tt.call(this,Hr.Ma,a),this.size=d}S($_,tt);function Rs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function UA(a,d,h,g,b,A){a.info(function(){if(a.g)if(A)for(var O="",Ee=A.split("&"),Ye=0;Ye<Ee.length;Ye++){var ve=Ee[Ye].split("=");if(1<ve.length){var rt=ve[0];ve=ve[1];var it=rt.split("_");O=2<=it.length&&it[1]=="type"?O+(rt+"="+ve+"&"):O+(rt+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+O})}function jA(a,d,h,g,b,A,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+O})}function Pi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+$A(a,h)+(g?" "+g:"")})}function BA(a,d){a.info(function(){return"TIMEOUT: "+d})}Ms.prototype.info=function(){};function $A(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Lh(h)}catch{return d}}var Rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bh;function Mc(){}S(Mc,Vh),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},Bh=new Mc;function er(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q_}function q_(){this.i=null,this.g="",this.h=!1}var z_={},$h={};function Hh(a,d,h){a.L=1,a.v=Oc(Tn(d)),a.m=h,a.P=!0,G_(a,null)}function G_(a,d){a.F=Date.now(),Nc(a),a.A=Tn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),sI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new q_,a.g=CI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new FA(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(k_[0]=b.toString()),b=k_);for(var A=0;A<b.length;A++){var O=A_(h,b[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),As(),UA(a.i,a.u,a.A,a.l,a.R,a.m)}er.prototype.ca=function(a){a=a.target;let d=this.M;d&&Sn(a)==3?d.j():this.Y(a)},er.prototype.Y=function(a){try{if(a==this.g)e:{let it=Sn(this.g);var d=this.g.Ba();let Fi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||fI(this.g)))){this.J||it!=4||d==7||(d==8||0>=Fi?As(3):As(2)),qh(this);var h=this.g.Z();this.X=h;t:if(W_(this)){var g=fI(this.g);a="";var b=g.length,A=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Ns(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,jA(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ye=this.g;if((Ee=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ee)){var ve=Ee;break t}}ve=null}if(h=ve)Pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zh(this,h);else{this.o=!1,this.s=3,ut(12),qr(this),Ns(this);break e}}if(this.P){h=!0;let zt;for(;!this.J&&this.C<O.length;)if(zt=HA(this,O),zt==$h){it==4&&(this.s=4,ut(14),h=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==z_){this.s=4,ut(15),Pi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Pi(this.i,this.l,zt,null),zh(this,zt);if(W_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||O.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Pi(this.i,this.l,O,"[Invalid Chunked Response]"),qr(this),Ns(this);else if(0<O.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Zh(rt),rt.M=!0,ut(11))}}else Pi(this.i,this.l,O,null),zh(this,O);it==4&&qr(this),this.o&&!this.J&&(it==4?II(this.j,this):(this.o=!1,Nc(this)))}else sR(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),qr(this),Ns(this)}}}catch{}finally{}};function W_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function HA(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?$h:(h=Number(d.substring(h,g)),isNaN(h)?z_:(g+=1,g+h>d.length?$h:(d=d.slice(g,g+h),a.C=g+h,d)))}er.prototype.cancel=function(){this.J=!0,qr(this)};function Nc(a){a.S=Date.now()+a.I,K_(a,a.I)}function K_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Rs(_(a.ba,a),d)}function qh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}er.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(BA(this.i,this.A),this.L!=2&&(As(),ut(17)),qr(this),this.s=2,Ns(this)):K_(this,this.S-a)};function Ns(a){a.j.G==0||a.J||II(a.j,a)}function qr(a){qh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,F_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function zh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Gh(h.h,a))){if(!a.K&&Gh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Uc(h),Lc(h);else break e;Yh(h),ut(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Rs(_(h.Za,h),6e3));if(1>=Z_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Gr(h,11)}else if((a.K||h.g==a)&&Uc(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let rt=ve[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=ve[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let Fi=ve[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(g=1.5*Fi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let zt=a.g;if(zt){let Bc=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Wh(A,A.h),A.h=null))}if(g.D){let Jh=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(g.ya=Jh,be(g.I,g.D,Jh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=a;if(g.qa=DI(g,g.J?g.ia:null,g.W),O.K){J_(g.h,O);var Ee=O,Ye=g.L;Ye&&(Ee.I=Ye),Ee.B&&(qh(Ee),Nc(Ee)),g.g=O}else vI(g);0<h.i.length&&Vc(h)}else ve[0]!="stop"&&ve[0]!="close"||Gr(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Gr(h,7):Qh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}As(4)}catch{}}var qA=class{constructor(a,d){this.g=a,this.map=d}};function Q_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Y_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Z_(a){return a.h?1:a.g?a.g.size:0}function Gh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Wh(a,d){a.g?a.g.add(d):a.h=d}function J_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Q_.prototype.cancel=function(){if(this.i=X_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function X_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function zA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function GA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function eI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=GA(a),g=zA(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],a)}var tI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var A=a[h].substring(0,g);b=a[h].substring(g+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zr){this.h=a.h,xc(this,a.j),this.o=a.o,this.g=a.g,Pc(this,a.s),this.l=a.l;var d=a.i,h=new Os;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),nI(this,h),this.m=a.m}else a&&(d=String(a).match(tI))?(this.h=!1,xc(this,d[1]||"",!0),this.o=xs(d[2]||""),this.g=xs(d[3]||"",!0),Pc(this,d[4]),this.l=xs(d[5]||"",!0),nI(this,d[6]||"",!0),this.m=xs(d[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}zr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ps(d,rI,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ps(d,rI,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ps(h,h.charAt(0)=="/"?YA:QA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ps(h,JA)),a.join("")};function Tn(a){return new zr(a)}function xc(a,d,h){a.j=h?xs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Pc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function nI(a,d,h){d instanceof Os?(a.i=d,XA(a.i,a.h)):(h||(d=Ps(d,ZA)),a.i=new Os(d,a.h))}function be(a,d,h){a.i.set(d,h)}function Oc(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ps(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,KA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rI=/[#\/\?@]/g,QA=/[#\?:]/g,YA=/[#\?]/g,ZA=/[#\?@]/g,JA=/#/g;function Os(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function tr(a){a.g||(a.g=new Map,a.h=0,a.i&&WA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Os.prototype,t.add=function(a,d){tr(this),this.i=null,a=Oi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function iI(a,d){tr(a),d=Oi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function oI(a,d){return tr(a),d=Oi(a,d),a.g.has(d)}t.forEach=function(a,d){tr(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){tr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},t.V=function(a){tr(this);let d=[];if(typeof a=="string")oI(this,a)&&(d=d.concat(this.g.get(Oi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return tr(this),this.i=null,a=Oi(this,a),oI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function sI(a,d,h){iI(a,d),0<h.length&&(a.i=null,a.g.set(Oi(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=A;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),a.push(b)}}return this.i=a.join("&")};function Oi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function XA(a,d){d&&!a.j&&(tr(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(iI(this,g),sI(this,b,h))},a)),a.j=d}function eR(a,d){let h=new Ms;if(c.Image){let g=new Image;g.onload=I(nr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(nr,h,"TestLoadImage: error",!1,d,g),g.onabort=I(nr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(nr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function tR(a,d){let h=new Ms,g=new AbortController,b=setTimeout(()=>{g.abort(),nr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?nr(h,"TestPingServer: ok",!0,d):nr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),nr(h,"TestPingServer: error",!1,d)})}function nr(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function nR(){this.g=new VA}function rR(a,d,h){let g=h||"";try{eI(a,function(b,A){let O=b;l(b)&&(O=Lh(b)),d.push(g+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ks(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ks,Vh),ks.prototype.g=function(){return new kc(this.l,this.j)},ks.prototype.i=function(a){return function(){return a}}({});function kc(a,d){nt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(kc,nt),t=kc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ls(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function aI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Fs(this):Ls(this),this.readyState==3&&aI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fs(this))},t.Qa=function(a){this.g&&(this.response=a,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ls(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ls(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cI(a){let d="";return ee(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Kh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=cI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):be(a,d,h))}function Me(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,nt);var iR=/^https?$/i,oR=["POST","PUT"];t=Me.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bh.g(),this.v=this.o?L_(this.o):L_(Bh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){uI(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(oR,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hI(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){uI(this,A)}};function uI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,lI(a),Fc(a)}function lI(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dI(this):this.bb())},t.bb=function(){dI(this)};function dI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Sn(a)!=4||a.Z()!=2)){if(a.u&&Sn(a)==4)P_(a.Ea,0,a);else if(ct(a,"readystatechange"),Sn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var b=String(a.D).match(tI)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!iR.test(b?b.toLowerCase():"")}h=g}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var A=2<Sn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",lI(a)}}finally{Fc(a)}}}}function Fc(a,d){if(a.g){hI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ct(a,"ready");try{h.onreadystatechange=g}catch{}}}function hI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Sn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),LA(d)}};function fI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function sR(a){let d={};a=(a.g&&2<=Sn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var h=C(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function pI(a){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,a),this.cb=Vs("retryDelaySeedMs",1e4,a),this.Wa=Vs("forwardChannelMaxRetries",2,a),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Q_(a&&a.concurrentRequestLimit),this.Da=new nR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pI.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ut(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=DI(this,null,this.W),Vc(this)};function Qh(a){if(gI(a),a.G==3){var d=a.U++,h=Tn(a.I);if(be(h,"SID",a.K),be(h,"RID",d),be(h,"TYPE","terminate"),Us(a,h),d=new er(a,a.j,d),d.L=2,d.v=Oc(Tn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=CI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nc(d)}EI(a)}function Lc(a){a.g&&(Zh(a),a.g.cancel(),a.g=null)}function gI(a){Lc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Uc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Vc(a){if(!Y_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Es||S_(),Ds||(Es(),Ds=!0),Ah.add(d,a),a.B=0}}function aR(a,d){return Z_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Rs(_(a.Ga,a,d),wI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new er(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=yI(this,b,d),h=Tn(this.I),be(h,"RID",a),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),Us(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(cI(A)))+"&"+d:this.m&&Kh(h,this.m,A)),Wh(this.h,b),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",d),be(h,"SID","null"),b.T=!0,Hh(b,h,null)):Hh(b,h,d),this.G=2}}else this.G==3&&(a?mI(this,a):this.i.length==0||Y_(this.h)||mI(this))};function mI(a,d){var h;d?h=d.l:h=a.U++;let g=Tn(a.I);be(g,"SID",a.K),be(g,"RID",h),be(g,"AID",a.T),Us(a,g),a.m&&a.o&&Kh(g,a.m,a.o),h=new er(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=yI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Wh(a.h,h),Hh(h,g,d)}function Us(a,d){a.H&&ee(a.H,function(h,g){be(d,g,h)}),a.l&&eI({},function(h,g){be(d,g,h)})}function yI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Ee=!0;for(let Ye=0;Ye<h;Ye++){let ve=b[Ye].g,rt=b[Ye].map;if(ve-=A,0>ve)A=Math.max(0,b[Ye].g-100),Ee=!1;else try{rR(rt,O,"req"+ve+"_")}catch{g&&g(rt)}}if(Ee){g=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function vI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Es||S_(),Ds||(Es(),Ds=!0),Ah.add(d,a),a.v=0}}function Yh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Rs(_(a.Fa,a),wI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,_I(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Rs(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Lc(this),_I(this))};function Zh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function _I(a){a.g=new er(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Tn(a.qa);be(d,"RID","rpc"),be(d,"SID",a.K),be(d,"AID",a.T),be(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(d,"TO",a.ja),be(d,"TYPE","xmlhttp"),Us(a,d),a.m&&a.o&&Kh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Oc(Tn(d)),h.m=null,h.P=!0,G_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),Yh(this),ut(19))};function Uc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function II(a,d){var h=null;if(a.g==d){Uc(a),Zh(a),a.g=null;var g=2}else if(Gh(a.h,d))h=d.D,J_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Ac(),ct(g,new $_(g,h)),Vc(a)}else vI(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&aR(a,d)||g==2&&Yh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function wI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Gr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),g=a.Xa;let b=!g;g=new zr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xc(g,"https"),Oc(g),b?eR(g.toString(),h):tR(g.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(d),EI(a),gI(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function EI(a){if(a.G=0,a.ka=[],a.l){let d=X_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function DI(a,d,h){var g=h instanceof zr?Tn(h):new zr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Pc(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new zr(null);g&&xc(A,g),d&&(A.g=d),b&&Pc(A,b),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&be(g,h,d),be(g,"VER",a.la),Us(a,g),g}function CI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new ks({eb:h})):new Me(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bI(){}t=bI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(a,d){return new wt(a,d)};function wt(a,d){nt.call(this),this.g=new pI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ki(this)}S(wt,nt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Qh(this.g)},wt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Lh(a),a=h);d.i.push(new qA(d.Ya++,a)),d.G==3&&Vc(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,wt.aa.N.call(this)};function TI(a){Uh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(TI,Uh);function SI(){jh.call(this),this.status=1}S(SI,jh);function ki(a){this.g=a}S(ki,bI),ki.prototype.ua=function(){ct(this.g,"a")},ki.prototype.ta=function(a){ct(this.g,new TI(a))},ki.prototype.sa=function(a){ct(this.g,new SI)},ki.prototype.ra=function(){ct(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Ey=Wn.createWebChannelTransport=function(){return new jc},wy=Wn.getStatEventTarget=function(){return Ac()},Iy=Wn.Event=Hr,Pd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,nc=Wn.ErrorCode=Rc,H_.COMPLETE="complete",_y=Wn.EventType=H_,V_.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Yo=Wn.WebChannel=V_,vy=Wn.FetchXmlHttpFactory=ks,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,yy=Wn.XhrIo=Me}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});var RT="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var ys="10.13.2";var bi=new Mr("@firebase/firestore");function rc(){return bi.logLevel}function L(t,...e){if(bi.logLevel<=pe.DEBUG){let n=e.map(o_);bi.debug(`Firestore (${ys}): ${t}`,...n)}}function Qn(t,...e){if(bi.logLevel<=pe.ERROR){let n=e.map(o_);bi.error(`Firestore (${ys}): ${t}`,...n)}}function rs(t,...e){if(bi.logLevel<=pe.WARN){let n=e.map(o_);bi.warn(`Firestore (${ys}): ${t}`,...n)}}function o_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function Ce(t,e){t||Q()}function X(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Sy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Ay=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ry=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Qe(e)}},My=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ny=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new My(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Py=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new xy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Hj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ud=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Hj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return qj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new $(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Oy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Oy.UNKNOWN_ID=-1;function zj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Ti(i,z.empty(),e)}function Gj(t){return new Ti(t.readTime,t.key,-1)}var Ti=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),z.empty(),-1)}static max(){return new t(re.max(),z.empty(),-1)}};function Wj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var Kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ky=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function wc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Kj)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Qj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}var aS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function gh(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function Yj(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Zj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m6=[...Zj,"documentOverlays"],Jj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xj=Jj,e2=[...Xj,"indexConfiguration","indexState","indexEntries"];var y6=[...e2,"globals"];function MT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new es(this.root,e,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new es(this.root,e,this.comparator,!0)}},es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},In=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $d("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=t2.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}function s_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a_(t){let e=t.mapValue.fields.__previous_value__;return s_(e)?a_(e):e}function dc(t){let e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var Fy=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s_(t)?4:lS(t)?9007199254740991:uS(t)?10:11:Q()}function Dn(t,e){if(t===e)return!0;let n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yn(i.timestampValue),c=Yn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),c=Se(o.doubleValue);return s===c?lc(s)===lc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(MT(s)!==MT(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Dn(s[u],c[u])))return!1;return!0}(t,e);default:return Q()}}function hc(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function os(t,e){if(t===e)return 0;let n=Si(t),r=Si(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return NT(t.timestampValue,e.timestampValue);case 4:return NT(dc(t),dc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Ur(o),u=Ur(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=_e(c[l],u[l]);if(f!==0)return f}return _e(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=_e(Se(o.latitude),Se(s.latitude));return c!==0?c:_e(Se(o.longitude),Se(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},_=s.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:xT(I,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Od.mapValue&&s===Od.mapValue)return 0;if(o===Od.mapValue)return 1;if(s===Od.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let _=_e(u[p],f[p]);if(_!==0)return _;let I=os(c[u[p]],l[f[p]]);if(I!==0)return I}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q()}}function NT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Yn(t),r=Yn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function xT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=os(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function ss(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ly(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ly(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function Vy(t){return!!t&&"integerValue"in t}function c_(t){return!!t&&"arrayValue"in t}function PT(t){return!!t&&"nullValue"in t}function OT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function uS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=oc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(oc(this.value))}};function dS(t){let e=[];return vs(t.fields,(n,r)=>{let i=new Ot([n]);if(Fd(r)){let o=dS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var tn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),en.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var as=class{constructor(e,n){this.position=e,this.inclusive=n}};function kT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=os(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}var cs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function n2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qd=class{},ze=class t extends qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jy(e,n,r):n==="array-contains"?new Hy(e,r):n==="in"?new qy(e,r):n==="not-in"?new zy(e,r):n==="array-contains-any"?new Gy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new By(e,r):new $y(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cn=class t extends qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return hS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function hS(t){return t.op==="and"}function fS(t){return r2(t)&&hS(t)}function r2(t){for(let e of t.filters)if(e instanceof Cn)return!1;return!0}function Uy(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(fS(t))return t.filters.map(e=>Uy(e)).join(",");{let e=t.filters.map(n=>Uy(n)).join(",");return`${t.op}(${e})`}}function pS(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&pS(s,i.filters[c]),!0):!1}(t,e):void Q()}function gS(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${ss(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"}(t):"Filter"}var jy=class extends ze{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},By=class extends ze{constructor(e,n){super(e,"in",n),this.keys=mS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$y=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=mS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function mS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Hy=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return c_(n)&&hc(n.arrayValue,this.value)}},qy=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}},zy=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}},Gy=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!c_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}};var Wy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function LT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Wy(t,e,n,r,i,o,s)}function u_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ss(r)).join(",")),e.ue=n}return e.ue}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FT(t.startAt,e.startAt)&&FT(t.endAt,e.endAt)}function Ky(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var us=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function i2(t,e,n,r,i,o,s,c){return new us(t,e,n,r,i,o,s,c)}function d_(t){return new us(t)}function VT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o2(t){return t.collectionGroup!==null}function sc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new st(Ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new cs(o,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new cs(Ot.keyField(),r))}return e.ce}function wn(t){let e=X(t);return e.le||(e.le=s2(e,sc(t))),e.le}function s2(t,e){if(t.limitType==="F")return LT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new cs(i.field,o)});let n=t.endAt?new as(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new as(t.startAt.position,t.startAt.inclusive):null;return LT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e,n){return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return l_(wn(t),wn(e))&&t.limitType===e.limitType}function yS(t){return`${u_(wn(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gS(i)).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ss(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=kT(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,sc(r),i)||r.endAt&&!function(s,c,u){let l=kT(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,sc(r),i))}(t,e)}function a2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vS(t){return(e,n)=>{let r=!1;for(let i of sc(t)){let o=c2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c2(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?os(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var jr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}};var u2=new Oe(z.comparator);function Zn(){return u2}var _S=new Oe(z.comparator);function ic(...t){let e=_S;for(let n of t)e=e.insert(n.key,n);return e}function IS(t){let e=_S;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return ac()}function wS(){return ac()}function ac(){return new jr(t=>t.toString(),(t,e)=>t.isEqual(e))}var l2=new Oe(z.comparator),d2=new st(z.comparator);function ge(...t){let e=d2;for(let n of t)e=e.add(n);return e}var h2=new st(_e);function f2(){return h2}function h_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function ES(t){return{integerValue:""+t}}function p2(t,e){return Yj(e)?ES(e):h_(t,e)}var ls=class{constructor(){this._=void 0}};function g2(t,e,n){return t instanceof ds?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&s_(o)&&(o=a_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ai?CS(t,e):t instanceof Ri?bS(t,e):function(i,o){let s=DS(i,o),c=UT(s)+UT(i.Pe);return Vy(s)&&Vy(i.Pe)?ES(c):h_(i.serializer,c)}(t,e)}function m2(t,e,n){return t instanceof Ai?CS(t,e):t instanceof Ri?bS(t,e):n}function DS(t,e){return t instanceof hs?function(r){return Vy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ds=class extends ls{},Ai=class extends ls{constructor(e){super(),this.elements=e}};function CS(t,e){let n=TS(e);for(let r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ri=class extends ls{constructor(e){super(),this.elements=e}};function bS(t,e){let n=TS(e);for(let r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}var hs=class extends ls{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function UT(t){return Se(t.integerValue||t.doubleValue)}function TS(t){return c_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function y2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ai&&i instanceof Ai||r instanceof Ri&&i instanceof Ri?is(r.elements,i.elements,Dn):r instanceof hs&&i instanceof hs?Dn(r.Pe,i.Pe):r instanceof ds&&i instanceof ds}(t.transform,e.transform)}var Yy=class{constructor(e,n){this.version=e,this.transformResults=n}},Ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var fs=class{};function SS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,Ci.none()):new Mi(t.key,t.data,Ci.none());{let n=t.data,r=en.empty(),i=new st(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jn(t.key,r,new _n(i.toArray()),Ci.none())}}function v2(t,e,n){t instanceof Mi?function(i,o,s){let c=i.value.clone(),u=BT(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,o,s){if(!Ld(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=BT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cc(t,e,n,r){return t instanceof Mi?function(o,s,c,u){if(!Ld(o.precondition,s))return c;let l=o.value.clone(),f=$T(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(o,s,c,u){if(!Ld(o.precondition,s))return c;let l=$T(o.fieldTransforms,u,s),f=s.data;return f.setAll(AS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Ld(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function _2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=DS(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function jT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(o,s)=>y2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Mi=class extends fs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends fs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function AS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function BT(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,m2(s,c,n[i]))}return r}function $T(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,g2(o,s,e))}return r}var zd=class extends fs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Zy=class extends fs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&v2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=SS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>jT(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>jT(n,r))}},Xy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return l2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var ev=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,me;function I2(t){switch(t){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function RS(t){if(t===void 0)return Qn("GRPC error has no .code"),N.UNKNOWN;switch(t){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(me=je||(je={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var HT=null;function w2(){return new TextEncoder}var E2=new Lr([4294967295,4294967295],0);function qT(t){let e=w2().encode(t),n=new my;return n.update(e),new Uint8Array(n.digest())}function zT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lr([n,r],0),new Lr([i,o],0)]}var nv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ei(`Invalid padding: ${n}`);if(r<0)throw new Ei(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ei(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ei(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Lr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Lr.fromNumber(r)));return i.compare(E2)===1&&(i=new Lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=qT(e),[r,i]=zT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=qT(e),[r,i]=zT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ei=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new Oe(_e),Zn(),ge())}},fc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var ts=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Wd=class{constructor(e,n){this.targetId=e,this.me=n}},Kd=class{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Qd=class{constructor(){this.fe=0,this.ge=WT(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new fc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zn(),this.qe=GT(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Ky(o))if(r===0){let s=new z(o.path);this.Ue(n,s,tn.newNoDocument(s,re.min()))}else Ce(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}HT?.et(function(f,p,_,I,S){var M,R,F,q,G,ce;let Re={localCacheCount:f,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},ee=p.unchangedNames;return ee&&(Re.bloomFilter={applied:S===0,hashCount:(M=ee?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(F=(R=ee?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(ce=(G=ee?.bits)===null||G===void 0?void 0:G.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Re}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Ur(r).toUint8Array()}catch(u){if(u instanceof $d)return rs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new nv(s,i,o)}catch(u){return rs(u instanceof Ei?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Ky(c.target)){let u=new z(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,tn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Gd(e,n,this.Qe,this.ke,r);return this.ke=Zn(),this.qe=GT(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new st(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function GT(){return new Oe(z.comparator)}function WT(){return new Oe(z.comparator)}var D2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"},iv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ov(t,e){return t.useProto3Json||gh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T2(t,e){return Yd(t,e.toTimestamp())}function En(t){return Ce(!!t),re.fromTimestamp(function(n){let r=Yn(n);return new et(r.seconds,r.nanos)}(t))}function f_(t,e){return sv(t,e).canonicalString()}function sv(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NS(t){let e=Pe.fromString(t);return Ce(FS(e)),e}function av(t,e){return f_(t.databaseId,e.path)}function Dy(t,e){let n=NS(e);if(n.get(1)!==t.databaseId.projectId)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(PS(n))}function xS(t,e){return f_(t.databaseId,e)}function S2(t){let e=NS(t);return e.length===4?Pe.emptyPath():PS(e)}function cv(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KT(t,e,n){return{name:av(t,e),fields:n.value.mapValue.fields}}function A2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Ce(f===void 0||typeof f=="string"),at.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),at.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?N.UNKNOWN:RS(l.code);return new $(f,l.message||"")}(s);n=new Kd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Dy(t,r.document.name),o=En(r.document.updateTime),s=r.document.createTime?En(r.document.createTime):re.min(),c=new en({mapValue:{fields:r.document.fields}}),u=tn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new ts(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Dy(t,r.document),o=r.readTime?En(r.readTime):re.min(),s=tn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ts([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Dy(t,r.document),o=r.removedTargetIds||[];n=new ts([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tv(i,o),c=r.targetId;n=new Wd(c,s)}}return n}function R2(t,e){let n;if(e instanceof Mi)n={update:KT(t,e.key,e.value)};else if(e instanceof zd)n={delete:av(t,e.key)};else if(e instanceof Jn)n={update:KT(t,e.key,e.data),updateMask:V2(e.fieldMask)};else{if(!(e instanceof Zy))return Q();n={verify:av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof ds)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ai)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ri)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hs)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:T2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function M2(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?En(i.updateTime):En(o);return s.isEqual(re.min())&&(s=En(o)),new Yy(s,i.transformResults||[])}(n,e))):[]}function N2(t,e){return{documents:[xS(t,e.path)]}}function x2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xS(t,i);let o=function(l){if(l.length!==0)return kS(Cn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(_){return{field:Jo(_.field),direction:k2(_.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=ov(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function P2(t){let e=S2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let _=OS(p);return _ instanceof Cn&&fS(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(_=>function(S){return new cs(Xo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(p){let _;return _=typeof p=="object"?p.value:p,gh(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(p){let _=!!p.before,I=p.values||[];return new as(I,_)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let _=!p.before,I=p.values||[];return new as(I,_)}(n.endAt)),i2(e,i,s,o,c,"F",u,l)}function O2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xo(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xo(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xo(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xo(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>OS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function k2(t){return D2[t]}function F2(t){return C2[t]}function L2(t){return b2[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return Ot.fromServerFormat(t.fieldPath)}function kS(t){return t instanceof ze?function(n){if(n.op==="=="){if(OT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(PT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(PT(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:F2(n.op),value:n.value}}}(t):t instanceof Cn?function(n){let r=n.getFilters().map(i=>kS(i));return r.length===1?r[0]:{compositeFilter:{op:L2(n.op),filters:r}}}(t):Q()}function V2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pc=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),c=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uv=class{constructor(e){this.ct=e}};function U2(t){let e=P2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qy(e,e.limit,"L"):e}var Zd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),lc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Yn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ur(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?lS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):uS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Zd.vt=new Zd;var lv=class{constructor(){this.un=new dv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Ti.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},dv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Pe.comparator)).toArray()}};var _6=new Uint8Array(0);var vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);var gc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var hv=class{constructor(){this.changes=new jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var pv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cc(r.mutation,i,_n.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Zn(),s=ac(),c=function(){return ac()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Jn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),cc(f.mutation,l,f.mutation.getFieldMask(),et.now())):s.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new fv(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ac(),i=new Oe((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||_n.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=wS();f.forEach(_=>{if(!o.has(_)){let I=SS(n.get(_),r.get(_));I!==null&&p.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(wi()),c=-1,u=o;return s.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:c,changes:IS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ic();return this.indexManager.getCollectionParents(e,o).next(c=>x.forEach(c,u=>{let l=function(p,_){return new us(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,tn.newInvalidDocument(f)))});let c=ic();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&cc(f.mutation,l,_n.empty(),et.now()),yh(n,l)&&(c=c.insert(u,l))}),c})}};var gv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:En(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:U2(i.bundledQuery),readTime:En(i.readTime)}}(n)),x.resolve()}};var mv=class{constructor(){this.overlays=new Oe(z.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),o=n.length+1,s=new z(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=wi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ev(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var yv=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var mc=class{constructor(){this.Tr=new st(Be.Er),this.dr=new st(Be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Pe([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Pe([])),r=new Be(n,e),i=new Be(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||z.comparator(e.key,n.key)}};var vv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new st(Be.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jy(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Be(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(_e);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Be(new z(o),0),c=new st(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Be(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _v=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zn(),s=n.path,c=new z(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Wj(Gj(f),r)<=0||(i.has(f.key)||yh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iv(this)}getSize(e){return x.resolve(this.size)}},Iv=class extends hv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var wv=class{constructor(e){this.persistence=e,this.Nr=new jr(n=>u_(n),l_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mc,this.targetCount=0,this.kr=gc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Ev=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new aS(0),this.Kr=!1,this.Kr=!0,this.$r=new yv,this.referenceDelegate=e(this),this.Ur=new wv(this),this.indexManager=new lv,this.remoteDocumentCache=function(i){return new _v(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uv(n),this.Gr=new gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new Dv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Dv=class extends ky{constructor(e){super(),this.currentSequenceNumber=e}},Cv=class t{constructor(e){this.persistence=e,this.Jr=new mc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var bv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Tv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return m0()?8:Qj(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Tv;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(rc()<=pe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(rc()<=pe.DEBUG&&L("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rc()<=pe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):x.resolve())}Yi(e,n){if(VT(n))return x.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qy(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Qy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return VT(n)||i.isEqual(re.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?x.resolve(null):(rc()<=pe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(n)),this.rs(e,s,n,zj(i,-1)).next(c=>c))})}ts(e,n){let r=new st(vS(e));return n.forEach((i,o)=>{yh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return rc()<=pe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Av=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new jr(o=>u_(o),l_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function j2(t,e,n,r){return new Av(t,e,n,r)}function LS(t,e){return w(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function B2(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,_=p.keys(),I=x.resolve();return _.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Ce(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ge();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VS(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $2(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let _=i.get(p);if(!_)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let I=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(at.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(_,I,f)&&c.push(n.Ur.updateTargetData(o,I))});let u=Zn(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(H2(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(re.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function H2(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function q2(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z2(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new pc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Rv(t,e,n){return w(this,null,function*(){let r=X(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ec(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function QT(t,e,n){let r=X(t),i=re.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=X(u),_=p._s.get(f);return _!==void 0?x.resolve(p.os.get(_)):p.Ur.getTargetData(l,f)}(r,s,wn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:ge())).next(c=>(G2(r,a2(e),c),{documents:c,Ts:o})))}function G2(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=f2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Mv=class{constructor(){this.so=new Jd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Nv=class{_o(e){}shutdown(){}};var Xd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kd=null;function Cy(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}var W2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Pv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Cy(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw rs("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=W2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Cy();return new Promise((s,c)=>{let u=new yy;u.setWithCredentials(!0),u.listenOnce(_y.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case nc.NO_ERROR:let f=u.getResponseJson();L(ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case nc.TIMEOUT:L(ot,`RPC '${e}' ${o} timed out`),c(new $(N.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:let p=u.getStatus();if(L(ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(I.status);c(new $(S,I.message))}else c(new $(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L(ot,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);L(ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Cy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ey(),c=wy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new vy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),_=!1,I=!1,S=new xv({Io:R=>{I?L(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(L(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),L(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,q)=>{R.listen(F,G=>{try{q(G)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(p,Yo.EventType.OPEN,()=>{I||(L(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Yo.EventType.CLOSE,()=>{I||(I=!0,L(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Yo.EventType.ERROR,R=>{I||(I=!0,rs(ot,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new $(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Yo.EventType.MESSAGE,R=>{var F;if(!I){let q=R.data[0];Ce(!!q);let G=q,ce=G.error||((F=G[0])===null||F===void 0?void 0:F.error);if(ce){L(ot,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,ee=function(y){let E=je[y];if(E!==void 0)return RS(E)}(Re),D=ce.message;ee===void 0&&(ee=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),I=!0,S.So(new $(ee,D)),p.close()}else L(ot,`RPC '${e}' stream ${i} received:`,q),S.bo(q)}}),M(c,Iy.STAT_EVENT,R=>{R.stat===Pd.PROXY?L(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pd.NOPROXY&&L(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function by(){return typeof document<"u"?document:null}function vh(t){return new iv(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var th=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new $(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ov=class extends th{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=A2(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?En(s.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=cv(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Ky(u)?{documents:N2(o,u)}:{query:x2(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=MS(o,s.resumeToken);let l=ov(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){c.readTime=Yd(o,s.snapshotVersion.toTimestamp());let l=ov(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=O2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=cv(this.serializer),n.removeTarget=e,this.a_(n)}},kv=class extends th{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=M2(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=cv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>R2(this.serializer,r))};this.a_(n)}};var Fv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,sv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,sv(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Lv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Vv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Ni(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=X(u);l.L_.add(4),yield Dc(l),l.q_.set("Unknown"),l.L_.delete(4),yield _h(l)})}(this))}))}),this.q_=new Lv(r,i)}};function _h(t){return w(this,null,function*(){if(Ni(t))for(let e of t.B_)yield e(!0)})}function Dc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function US(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),y_(n)?m_(n):_s(n).r_()&&g_(n,e))}function p_(t,e){let n=X(t),r=_s(n);n.N_.delete(e),r.r_()&&jS(n,e),n.N_.size===0&&(r.r_()?r.o_():Ni(n)&&n.q_.set("Unknown"))}function g_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_s(t).A_(e)}function jS(t,e){t.Q_.xe(e),_s(t).R_(e)}function m_(t){t.Q_=new rv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_s(t).start(),t.q_.v_()}function y_(t){return Ni(t)&&!_s(t).n_()&&t.N_.size>0}function Ni(t){return X(t).L_.size===0}function BS(t){t.Q_=void 0}function K2(t){return w(this,null,function*(){t.q_.set("Online")})}function Q2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{g_(t,e)})})}function Y2(t,e){return w(this,null,function*(){BS(t),y_(t)?(t.q_.M_(e),m_(t)):t.q_.set("Unknown")})}function Z2(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Kd&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nh(t,r)}else if(e instanceof ts?t.Q_.Ke(e):e instanceof Wd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield VS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(at.EMPTY_BYTE_STRING,f.snapshotVersion)),jS(o,u);let p=new pc(f.target,u,l,f.sequenceNumber);g_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield nh(t,r)}})}function nh(t,e,n){return w(this,null,function*(){if(!Ec(e))throw e;t.L_.add(1),yield Dc(t),t.q_.set("Offline"),n||(n=()=>VS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _h(t)}))})}function $S(t,e){return e().catch(n=>nh(t,n,e))}function Ih(t){return w(this,null,function*(){let e=X(t),n=Br(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J2(e);)try{let i=yield q2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,X2(e,i)}catch(i){yield nh(e,i)}HS(e)&&qS(e)})}function J2(t){return Ni(t)&&t.O_.length<10}function X2(t,e){t.O_.push(e);let n=Br(t);n.r_()&&n.V_&&n.m_(e.mutations)}function HS(t){return Ni(t)&&!Br(t).n_()&&t.O_.length>0}function qS(t){Br(t).start()}function eB(t){return w(this,null,function*(){Br(t).p_()})}function tB(t){return w(this,null,function*(){let e=Br(t);for(let n of t.O_)e.m_(n.mutations)})}function nB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Xy.from(r,e,n);yield $S(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ih(t)})}function rB(t,e){return w(this,null,function*(){e&&Br(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return I2(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Br(r).s_(),yield $S(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ih(r)}})}(t,e)),HS(t)&&qS(t)})}function YT(t,e){return w(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ni(n);n.L_.add(3),yield Dc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _h(n)})}function iB(t,e){return w(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield _h(n)):e||(n.L_.add(2),yield Dc(n),n.q_.set("Unknown"))})}function _s(t){return t.K_||(t.K_=function(n,r,i){let o=X(n);return o.w_(),new Ov(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:K2.bind(null,t),Ro:Q2.bind(null,t),mo:Y2.bind(null,t),d_:Z2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),y_(t)?m_(t):t.q_.set("Unknown")):(yield t.K_.stop(),BS(t))}))),t.K_}function Br(t){return t.U_||(t.U_=function(n,r,i){let o=X(n);return o.w_(),new kv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eB.bind(null,t),mo:rB.bind(null,t),f_:tB.bind(null,t),g_:nB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Ih(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Uv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function v_(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Ec(t))return new $(N.UNAVAILABLE,`${e}: ${t}`);throw t}var rh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ih=class{constructor(){this.W_=new Oe(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ps=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,rh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Bv=class{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=ZT(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new $(N.ABORTED,"Firestore shutting down"))}};function ZT(){return new jr(t=>yS(t),mh)}function oB(t,e){return w(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new jv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=v_(s,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&__(n)})}function sB(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function aB(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&__(n)}function cB(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function __(t){t.Y_.forEach(e=>{e.next()})}var $v,JT;(JT=$v||($v={})).ea="default",JT.Cache="cache";var Hv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$v.Cache}};var oh=class{constructor(e){this.key=e}},sh=class{constructor(e){this.key=e}},qv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=vS(e),this.Ra=new rh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ih,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let _=i.get(f),I=yh(this.query,p)?p:null,S=!!_&&this.mutatedKeys.has(_.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;_&&I?_.data.isEqual(I.data)?S!==M&&(r.track({type:3,doc:I}),R=!0):this.ga(_,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!_&&I?(r.track({type:0,doc:I}),R=!0):_&&!I&&(r.track({type:1,doc:_}),R=!0,(u||l)&&(c=!0)),R&&(I?(s=s.add(I),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(I,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return M(I)-M(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ps(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ih,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new oh(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ps.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},zv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Gv=class{constructor(e){this.key=e,this.va=!1}},Wv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new jr(c=>yS(c),mh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(z.comparator),this.Na=new Map,this.La=new mc,this.Ba={},this.ka=new Map,this.qa=gc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function uB(t,e,n=!0){return w(this,null,function*(){let r=YS(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield zS(r,e,n,!0),i})}function lB(t,e){return w(this,null,function*(){let n=YS(t);yield zS(n,e,!0,!1)})}function zS(t,e,n,r){return w(this,null,function*(){let i=yield z2(t.localStore,wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield dB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&US(t.remoteStore,i),c})}function dB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,_,I)=>function(M,R,F,q){return w(this,null,function*(){let G=R.view.ma(F);G.ns&&(G=yield QT(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,G)));let ce=q&&q.targetChanges.get(R.targetId),Re=q&&q.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(G,M.isPrimaryClient,ce,Re);return eS(M,R.targetId,ee.wa),ee.snapshot})}(t,p,_,I);let o=yield QT(t.localStore,e,!0),s=new qv(e,o.Ts),c=s.ma(o.documents),u=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);eS(t,n,l.wa);let f=new zv(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function hB(t,e,n){return w(this,null,function*(){let r=X(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!mh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p_(r.remoteStore,i.targetId),Kv(r,i.targetId)}).catch(wc))):(Kv(r,i.targetId),yield Rv(r.localStore,i.targetId,!0))})}function fB(t,e){return w(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p_(n.remoteStore,r.targetId))})}function pB(t,e,n){return w(this,null,function*(){let r=wB(t);try{let i=yield function(s,c){let u=X(s),l=et.now(),f=c.reduce((I,S)=>I.add(S.key),ge()),p,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Zn(),M=ge();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((F,q)=>{q.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let F=[];for(let q of c){let G=_2(q,p.get(q.key).overlayedDocument);G!=null&&F.push(new Jn(q.key,G,dS(G.value.mapValue),Ci.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(R=>{_=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:_.batchId,changes:IS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Cc(r,i.changes),yield Ih(r.remoteStore)}catch(i){let o=v_(i,"Failed to persist write");n.reject(o)}})}function GS(t,e){return w(this,null,function*(){let n=X(t);try{let r=yield $2(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),yield Cc(n,r,e)}catch(r){yield wc(r)}})}function XT(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=X(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let _ of p.j_)_.Z_(c)&&(l=!0)}),l&&__(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gB(t,e,n){return w(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Oe(z.comparator);s=s.insert(o,tn.newNoDocument(o,re.min()));let c=ge().add(o),u=new Gd(re.min(),new Map,new Oe(_e),s,c);yield GS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),I_(r)}else yield Rv(r.localStore,e,!1).then(()=>Kv(r,e,n)).catch(wc)})}function mB(t,e){return w(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield B2(n.localStore,e);KS(n,r,null),WS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Cc(n,i)}catch(i){yield wc(i)}})}function yB(t,e,n){return w(this,null,function*(){let r=X(t);try{let i=yield function(s,c){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ce(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);KS(r,e,n),WS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Cc(r,i)}catch(i){yield wc(i)}})}function WS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KS(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Kv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QS(t,r)})}function QS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(p_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),I_(t))}function eS(t,e,n){for(let r of n)r instanceof oh?(t.La.addReference(r.key,e),vB(t,r)):r instanceof sh?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QS(t,r.key)):Q()}function vB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),I_(t))}function I_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new Gv(n)),t.Oa=t.Oa.insert(n,r),US(t.remoteStore,new pc(wn(d_(n.path)),r,"TargetPurposeLimboResolution",aS.oe))}}function Cc(t,e,n){return w(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=bv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=X(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,_=>x.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(p,_.targetId,I)).next(()=>x.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(p,_.targetId,I)))))}catch(p){if(!Ec(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let _=p.targetId;if(!p.fromCache){let I=f.os.get(_),S=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(_,M)}}})}(r.localStore,o))})}function _B(t,e){return w(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield LS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new $(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cc(n,r.hs)}})}function IB(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function YS(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gB.bind(null,e),e.Ca.d_=aB.bind(null,e.eventManager),e.Ca.$a=cB.bind(null,e.eventManager),e}function wB(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yB.bind(null,e),e}var ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return j2(this.persistence,new Sv,e.initialUser,this.serializer)}createPersistence(e){return new Ev(Cv.Zr,this.serializer)}createSharedClientState(e){return new Mv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Qv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_B.bind(null,this.syncEngine),yield iB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Bv}()}createDatastore(e){let n=vh(e.databaseInfo.databaseId),r=function(o){return new Pv(o)}(e.databaseInfo);return function(o,s,c,u){return new Fv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new Vv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>XT(this.syncEngine,n,0),function(){return Xd.D()?new Xd:new Nv}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let p=new Wv(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let o=X(i);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Dc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Yv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Zv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=v_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ty(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield LS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function tS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield DB(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YT(e.remoteStore,i)),t._onlineComponents=e})}function EB(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function DB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ty(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!EB(n))throw n;rs("Error using user provided cache. Falling back to memory cache: "+n),yield Ty(t,new ah)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Ty(t,new ah);return t._offlineComponents})}function ZS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield tS(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield tS(t,new Qv))),t._onlineComponents})}function CB(t){return ZS(t).then(e=>e.syncEngine)}function nS(t){return w(this,null,function*(){let e=yield ZS(t),n=e.eventManager;return n.onListen=uB.bind(null,e.syncEngine),n.onUnlisten=hB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fB.bind(null,e.syncEngine),n})}function JS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var rS=new Map;function XS(t,e,n){if(!n)throw new $(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bB(t,e,n,r){if(e===!0&&r===!0)throw new $(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!z.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oS(t){if(z.isDocumentKey(t))throw new $(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function uc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=w_(t);throw new $(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ch=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sy;switch(r.type){case"firstParty":return new Ny(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=rS.get(n);r&&(L("ComponentProvider","Removing Datastore"),rS.delete(n),r.terminate())}(this),Promise.resolve()}};function eA(t,e,n,r={}){var i;let o=(t=uc(t,gs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=l0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new Ay(new Vd(c,u))}}var uh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vr=class t extends uh{constructor(e,n,r){super(e,n,d_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function tA(t,e,...n){if(t=It(t),XS("collection","path",e),t instanceof gs){let r=Pe.fromString(e,...n);return oS(r),new Vr(t,null,r)}{if(!(t instanceof qt||t instanceof Vr))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return oS(r),new Vr(t.firestore,null,r)}}function nA(t,e,...n){if(t=It(t),arguments.length===1&&(e=Ud.newId()),XS("doc","path",e),t instanceof gs){let r=Pe.fromString(e,...n);return iS(r),new qt(t,null,new z(r))}{if(!(t instanceof qt||t instanceof Vr))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return iS(r),new qt(t.firestore,t instanceof Vr?t.converter:null,new z(r))}}var Jv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new eh(this,"async_queue_retry"),this.Eu=()=>{let n=by();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=by();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=by();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ec(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Uv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function sS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ms=class extends gs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Jv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oA(this),this._firestoreClient.terminate()}};function rA(t,e){let n=typeof t=="object"?t:qo(),r=typeof t=="string"?t:e||"(default)",i=Ga(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=u0("firestore");o&&eA(i,...o)}return i}function iA(t){return t._firestoreClient||oA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oA(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Fy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,JS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Zv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var yc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(at.fromBase64String(e))}catch(n){throw new $(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lh=class{constructor(e){this._methodName=e}};var _c=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Ic=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var TB=/^__.*__$/,Xv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mi(e,this.data,n,this.fieldTransforms)}};function sA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var e_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return dh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(sA(this.wu)&&TB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},t_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Nu(e,n,r,i=!1){return new e_({wu:e,methodName:n,Ou:r,path:Ot.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SB(t){let e=t._freezeSettings(),n=vh(t._databaseId);return new t_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AB(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);lA("Data must be an object, but it was:",s,r);let c=cA(r,s),u,l;if(o.merge)u=new _n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let _=RB(e,p,n);if(!s.contains(_))throw new $(N.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NB(f,_)||f.push(_)}u=new _n(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Xv(new en(c),u,l)}function aA(t,e){if(uA(t=It(t)))return lA("Unsupported field value:",e,t),cA(t,e);if(t instanceof lh)return function(r,i){if(!sA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=aA(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Yd(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,o)}}if(r instanceof _c)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yc)return{bytesValue:MS(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:f_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ic)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return h_(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${w_(r)}`)}(t,e)}function cA(t,e){let n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{let o=aA(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof _c||t instanceof yc||t instanceof qt||t instanceof lh||t instanceof Ic)}function lA(t,e,n){if(!uA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=w_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function RB(t,e,n){if((e=It(e))instanceof vc)return e._internalPath;if(typeof e=="string")return dA(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}var MB=new RegExp("[~\\*/\\[\\]]");function dA(t,e,n){if(e.search(MB)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(N.INVALID_ARGUMENT,c+t+u)}function NB(t,e){return t.some(n=>n.isEqual(e))}var hh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new n_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(hA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},n_=class extends hh{data(){return super.data()}};function hA(t,e){return typeof e=="string"?dA(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function xB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var r_=class{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return vs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Ic(o)}convertGeoPoint(e){return new _c(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=a_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){let n=Yn(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Ce(FS(r));let i=new Hd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function PB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Di=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fh=class extends hh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(hA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ns=class extends fh{data(e={}){return super.data(e)}},i_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ns(this._firestore,this._userDataWriter,r.key,r,new Di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:OB(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function OB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var ph=class extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}};function fA(t,e){let n=uc(t.firestore,ms),r=nA(t),i=PB(t.converter,e);return kB(n,[AB(SB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function E_(t,...e){var n,r,i;t=It(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sS(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof qt)l=uc(t.firestore,ms),f=d_(t._key.path),u={next:p=>{e[s]&&e[s](FB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=uc(t,uh);l=uc(p.firestore,ms),f=p._query;let _=new ph(l);u={next:I=>{e[s]&&e[s](new i_(l,_,p,I))},error:e[s+1],complete:e[s+2]},xB(t._query)}return function(_,I,S,M){let R=new Yv(M),F=new Hv(I,R,S);return _.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return oB(yield nS(_),F)})),()=>{R.za(),_.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return sB(yield nS(_),F)}))}}(iA(l),f,c,u)}function kB(t,e){return function(r,i){let o=new Kn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return pB(yield CB(r),i,o)})),o.promise}(iA(t),e)}function FB(t,e,n){let r=n.docs.get(e._key),i=new ph(t);return new fh(t,i,e._key,r,new Di(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ys=i})(Pr),xr(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ms(new Ry(r.getProvider("auth-internal")),new Py(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),qe(RT,"4.7.2",e),qe(RT,"4.7.2","esm2017")})();var wh=function(){return wh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wh.apply(this,arguments)};var UB={includeMetadataChanges:!1};function pA(t,e){return e===void 0&&(e=UB),new le(function(n){var r=E_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function gA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:wh(wh({},r),(n={},n[e.idField]=t.id,n))}function mA(t){return pA(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function yA(t,e){return e===void 0&&(e={}),mA(t).pipe(ne(function(n){return n.map(function(r){return gA(r,e)})}))}var xi=class{constructor(e){return e}},vA="firestore",D_=class{constructor(){return Wa(vA)}};var C_=new V("angularfire2.firestore-instances");function jB(t,e){let n=fd(vA,t,e);return n&&new xi(n)}function BB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xi(r)}}var $B={provide:D_,deps:[[new ft,C_]]},HB={provide:xi,useFactory:jB,deps:[[new ft,C_],qn]};function _A(t,...e){return qe("angularfire",gi.full,"fst"),ln([HB,$B,{provide:C_,useFactory:BB(t),multi:!0,deps:[Ie,Xe,Wo,mi,[new ft,tc],[new ft,Go],...e]}])}var IA=Hn(yA,!0);var b_=Hn(fA,!0);var Eh=Hn(tA,!0);var wA=Hn(rA,!0);var Is=class t{constructor(e){this.firestore=e}guardarUsuario(e){let n=Eh(this.firestore,"usuarios");return e.nombre=e.nombre.toLowerCase(),b_(n,e)}obtenerUsuarios(){let e=Eh(this.firestore,"usuarios");return IA(e,{idField:"id"})}generarLogUsuario(e){let n=Eh(this.firestore,"logsSesion");e.nombre=e.nombre.toLowerCase();let r=new Date().toISOString(),i={nombre:e.nombre,tiempo:r};return b_(n,i)}static \u0275fac=function(n){return new(n||t)(W(xi))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var $r=class t{usuario;constructor(){}get datos(){return this.usuario}get nombre(){return this.usuario?.nombre.split("@")[0]||""}iniciar(e){this.usuario=e}cerrar(){this.usuario=void 0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function zB(t,e){t&1&&(j(0,"small",12),K(1," Debe Ingresar Un Usuario "),U())}function GB(t,e){t&1&&(j(0,"small",12),K(1," Al Menos 16 Caracteres "),U())}function WB(t,e){t&1&&(j(0,"strong",12),K(1," Usuario y/o Contrase\xF1a Invalidos "),U())}function KB(t,e){t&1&&(j(0,"strong"),K(1," Validando Credenciales "),U())}var Dh=class t{constructor(e,n,r){this.dbUsuarios=e;this.login=n;this.router=r;this.formularioLogin=new $o({nombre:new Rr("",[xt.required]),password:new Rr("",[xt.minLength(16),xt.required])})}formularioLogin;loginInvalido=!1;validando=!1;logear(){this.limpiarEspacios(),this.loginInvalido=!1,this.validando=!0;let e=this.formularioLogin.value,n=this.dbUsuarios.obtenerUsuarios().subscribe(r=>{n.unsubscribe(),this.validando=!1;for(let i of r)if(i.nombre==e.nombre&&i.password==e.password){i.password="",this.login.iniciar(i),this.dbUsuarios.generarLogUsuario(e),this.router.navigate(["/home"]);return}this.loginInvalido=!0})}limpiarEspacios(){this.formularioLogin.get("nombre")?.setValue(this.formularioLogin.get("nombre")?.value.trim()),this.formularioLogin.get("password")?.setValue(this.formularioLogin.get("password")?.value.trim())}completarLoginRapido(){this.formularioLogin.get("nombre")?.setValue("test@testing.com"),this.formularioLogin.get("password")?.setValue("roottestroottest")}static \u0275fac=function(n){return new(n||t)(ae(Is),ae($r),ae(Nt))};static \u0275cmp=mt({type:t,selectors:[["app-login"]],standalone:!0,features:[_t],decls:22,vars:6,consts:[[1,"login-form",3,"formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","placeholder","Ingrese usuario","formControlName","nombre"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","placeholder","Ingrese contrase\xF1a","formControlName","password"],[1,"button-group"],[1,"login-button",3,"click","disabled"],["routerLink","/registro",1,"register-button"],[1,"login-button",3,"click"],[4,"ngIf"],[1,"error"]],template:function(n,r){if(n&1&&(j(0,"form",0)(1,"h2"),K(2,"Login"),U(),j(3,"div",1)(4,"label",2),K(5,"Usuario"),U(),Ue(6,"input",3),Tt(7,zB,2,0,"small",4),U(),j(8,"div",1)(9,"label",5),K(10,"Contrase\xF1a"),U(),Ue(11,"input",6),Tt(12,GB,2,0,"small",4),U(),j(13,"div",7)(14,"button",8),St("click",function(){return r.logear()}),K(15,"Login"),U(),j(16,"button",9),K(17,"Registrarse"),U(),j(18,"button",10),St("click",function(){return r.completarLoginRapido()}),K(19,"Inicio Rapido"),U()(),Tt(20,WB,2,0,"strong",4)(21,KB,2,0,"strong",11),U()),n&2){let i,o;xe("formGroup",r.formularioLogin),Ve(7),xe("ngIf",((i=r.formularioLogin.get("nombre"))==null?null:i.touched)&&!((i=r.formularioLogin.get("nombre"))!=null&&i.valid)),Ve(5),xe("ngIf",((o=r.formularioLogin.get("password"))==null?null:o.touched)&&!((o=r.formularioLogin.get("password"))!=null&&o.valid)),Ve(2),xe("disabled",!r.formularioLogin.valid),Ve(6),xe("ngIf",r.loginInvalido),Ve(),xe("ngIf",r.validando)}},dependencies:[Vo,gn,Jt,To,sd,od,Ho,nd,rd,ja,Ba],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}.login-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:40px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.button-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:1px solid #ccc;width:100%;max-width:300px}button[_ngcontent-%COMP%]{width:212px;margin:2px 25px;padding:10px;border:none;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer}.login-button[_ngcontent-%COMP%]{background-color:#007f00;color:#fff}.register-button[_ngcontent-%COMP%]{background-color:#005e00;color:#fff}.login-button[_ngcontent-%COMP%]:hover, .register-button[_ngcontent-%COMP%]:hover{background-color:#55b955}.login-button[_ngcontent-%COMP%]:disabled{background-color:#007f00;cursor:default}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}small[_ngcontent-%COMP%]{text-decoration:underline;display:block;width:212px}.error[_ngcontent-%COMP%]{color:red}"]})};var Ch=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=mt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[_t],decls:27,vars:0,consts:[[1,"about-me"],[1,"doble"],["src","../../../assets/foto.jpg","alt","foto"]],template:function(n,r){n&1&&(j(0,"div",0)(1,"h2"),K(2,"Quien soy"),U(),j(3,"h3"),K(4,"Charotti Michelle M. "),U(),j(5,"p"),K(6,"Cursando la materia Lab IV."),U(),j(7,"p"),K(8,"Las cosas que hago en mis tiempos libres es viajar y recorrer pueblos no conocidos."),U(),j(9,"div",1),Ue(10,"img",2),j(11,"div")(12,"p")(13,"strong"),K(14,"Juego: Proximamente"),U()(),j(15,"p"),K(16,"Reglas: "),U(),j(17,"p"),K(18,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),U(),j(19,"p"),K(20," Excepturi voluptates neque corrupti,"),U(),j(21,"p"),K(22," aperiam placeat quas magnam autem nisi dolores "),U(),j(23,"p"),K(24," iusto mollitia quaerat non vitae ab voluptatum quisquam? "),U(),j(25,"p"),K(26,"Ratione, vero veniam?"),U()()()())},dependencies:[gn],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}.about-me[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px}.about-me[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#005b4f;font-size:36px;font-weight:700;margin-bottom:10px}.about-me[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#005b4f;font-size:24px;margin-bottom:20px}.about-me[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50vh;height:auto;margin:0 40px 20px;padding:5px;border-radius:50px;border:2px solid #ccc;width:100%;max-width:300px}.about-me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#005b4f;font-size:18px;margin-bottom:20px}.doble[_ngcontent-%COMP%]{display:flex}"]})};function DA(){return t=>{let e=t.get("password"),n=t.get("repetirPassword"),r={noCoincide:"La Contrase\xF1a No Coincide"};return e?.value!==n?.value?(t.get("repetirPassword")?.setErrors(r),r):(t.get("repetirPassword")?.setErrors(null),null)}}function CA(t){return e=>{let n=e.value.toLowerCase();return t.obtenerUsuarios().pipe(If(500),kt(1),ne(r=>{for(let i of r)if(i.nombre==n)return{usuarioExiste:"usuarioExiste"};return null}))}}function QB(t,e){t&1&&(j(0,"small"),K(1," Debe Ingresar Un Email Valido "),U())}function YB(t,e){t&1&&(j(0,"small"),K(1," Usuario Ya Registrado "),U())}function ZB(t,e){t&1&&(j(0,"small"),K(1," Al Menos 16 Caracteres "),U())}function JB(t,e){t&1&&(j(0,"small"),K(1," Debe Coincidir Con Contrase\xF1a "),U())}function XB(t,e){t&1&&(j(0,"strong"),K(1," Verificando Disponibilidad de Usuario "),U())}function e$(t,e){t&1&&(j(0,"strong"),K(1," Usuario Disponible "),U())}var bh=class t{constructor(e,n,r){this.dbUsuarios=e;this.login=n;this.router=r;this.formularioRegistro=new $o({nombre:new Rr("",[xt.required,xt.email],CA(e)),password:new Rr("",[xt.minLength(16),xt.required]),repetirPassword:new Rr("",[xt.minLength(16),xt.required])},[DA()])}formularioRegistro;generarUsuario(){this.limpiarEspacios();let e={nombre:this.formularioRegistro.value.nombre,password:this.formularioRegistro.value.password};this.dbUsuarios.guardarUsuario(e),this.login.iniciar(e),this.dbUsuarios.generarLogUsuario(e),this.router.navigate(["/home"])}limpiarEspacios(){this.formularioRegistro.get("nombre")?.setValue(this.formularioRegistro.get("nombre")?.value.trim()),this.formularioRegistro.get("password")?.setValue(this.formularioRegistro.get("password")?.value.trim()),this.formularioRegistro.get("repetirPassword")?.setValue(this.formularioRegistro.get("repetirPassword")?.value.trim())}static \u0275fac=function(n){return new(n||t)(ae(Is),ae($r),ae(Nt))};static \u0275cmp=mt({type:t,selectors:[["app-registro"]],standalone:!0,features:[_t],decls:24,vars:8,consts:[[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","placeholder","Ingrese email","formControlName","nombre"],[4,"ngIf"],["for","password"],["type","password","id","password","placeholder","Ingrese contrase\xF1a","formControlName","password"],["for","repetirPassword"],["type","password","id","repetirPassword","placeholder","Repita contrase\xF1a","formControlName","repetirPassword"],[1,"button-group"],["routerLink","/registro",1,"register-button",3,"disabled"]],template:function(n,r){if(n&1&&(j(0,"form",0),St("ngSubmit",function(){return r.generarUsuario()}),j(1,"h2"),K(2,"Registro"),U(),j(3,"div",1)(4,"label",2),K(5,"Email"),U(),Ue(6,"input",3),Tt(7,QB,2,0,"small",4)(8,YB,2,0,"small",4),U(),j(9,"div",1)(10,"label",5),K(11,"Contrase\xF1a"),U(),Ue(12,"input",6),Tt(13,ZB,2,0,"small",4),U(),j(14,"div",1)(15,"label",7),K(16,"Repetir Contrase\xF1a"),U(),Ue(17,"input",8),Tt(18,JB,2,0,"small",4),U(),j(19,"div",9)(20,"button",10),K(21,"Registrarse"),U()(),Tt(22,XB,2,0,"strong",4)(23,e$,2,0,"strong",4),U()),n&2){let i,o,s,c,u,l;xe("formGroup",r.formularioRegistro),Ve(7),xe("ngIf",((i=r.formularioRegistro.get("nombre"))==null?null:i.touched)&&((i=r.formularioRegistro.get("nombre"))==null||i.errors==null?null:i.errors.email)),Ve(),xe("ngIf",(o=r.formularioRegistro.get("nombre"))==null?null:o.getError("usuarioExiste")),Ve(5),xe("ngIf",((s=r.formularioRegistro.get("password"))==null?null:s.touched)&&!((s=r.formularioRegistro.get("password"))!=null&&s.valid)),Ve(5),xe("ngIf",((c=r.formularioRegistro.get("repetirPassword"))==null?null:c.touched)&&r.formularioRegistro.getError("noCoincide")),Ve(2),xe("disabled",!r.formularioRegistro.valid),Ve(2),xe("ngIf",(u=r.formularioRegistro.get("nombre"))==null?null:u.pending),Ve(),xe("ngIf",(l=r.formularioRegistro.get("nombre"))==null?null:l.valid)}},dependencies:[Jt,To,sd,od,Ho,nd,rd,ja,Ba],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}.login-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:40px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.button-group[_ngcontent-%COMP%]{width:212px;margin-top:5px;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{display:block;padding:5px;border-radius:5px;border:1px solid #ccc;width:100%;width:212px}button[_ngcontent-%COMP%]{width:100%;margin:2px 0;padding:10px 0;border:none;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer}.register-button[_ngcontent-%COMP%]{background-color:#007f00;color:#fff}.register-button[_ngcontent-%COMP%]:hover{background-color:#55b955}.register-button[_ngcontent-%COMP%]:disabled{background-color:#007f00;cursor:default}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}small[_ngcontent-%COMP%]{text-decoration:underline;color:red;display:block;width:212px}"]})};var bA=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Wl},{path:"login",component:Dh},{path:"quien-soy",component:Ch},{path:"registro",component:bh}];var TA={projectId:"tpsaladejuego1",appId:"1:985391348349:web:ab26650cf50dc9c20c8f14",storageBucket:"tpsaladejuego1.appspot.com",apiKey:"AIzaSyAGfY93O1rHzc3HuJ4VYcy-TrWoZnXnzao",authDomain:"tpsaladejuego1.firebaseapp.com",messagingSenderId:"985391348349"};var SA={providers:[dC({eventCoalescing:!0}),Cb(bA),O0(()=>k0(TA)),bT(()=>TT()),_A(()=>wA())]};function t$(t,e){if(t&1&&(j(0,"strong"),K(1),U()),t&2){let n=og();Ve(),sg("Bienvenido, ",n.usuario.nombre,"")}}function n$(t,e){t&1&&(j(0,"button",9),K(1,"Login"),U())}function r$(t,e){t&1&&(j(0,"button",10),K(1,"Registro"),U())}function i$(t,e){if(t&1){let n=iC();j(0,"button",11),St("click",function(){jE(n);let i=og();return BE(i.cerrarSesion())}),K(1,"Cerrar Sesi\xF3n"),U()}}var Th=class t{constructor(e){this.usuario=e}cerrarSesion(){this.usuario.cerrar()}static \u0275fac=function(n){return new(n||t)(ae($r))};static \u0275cmp=mt({type:t,selectors:[["app-header"]],standalone:!0,features:[_t],decls:14,vars:4,consts:[[1,"left"],["src","../../../assets/iconogame.png","alt","i"],[1,"right"],[4,"ngIf"],["routerLink",""],["routerLink","quien-soy"],["routerLink","login",4,"ngIf"],["routerLink","registro",4,"ngIf"],[3,"click",4,"ngIf"],["routerLink","login"],["routerLink","registro"],[3,"click"]],template:function(n,r){n&1&&(j(0,"nav")(1,"div",0),Ue(2,"img",1),j(3,"h1"),K(4,"Sala de Juegos"),U()(),j(5,"div",2),Tt(6,t$,2,1,"strong",3),j(7,"button",4),K(8,"Home"),U(),j(9,"button",5),K(10,"Quien Soy"),U(),Tt(11,n$,2,0,"button",6)(12,r$,2,0,"button",7)(13,i$,2,0,"button",8),U()()),n&2&&(Ve(6),xe("ngIf",r.usuario.datos),Ve(5),xe("ngIf",r.usuario.datos==null),Ve(),xe("ngIf",r.usuario.datos==null),Ve(),xe("ngIf",r.usuario.datos!=null))},dependencies:[Vo,gn,Jt,To],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:green;padding:10px;height:80px}.left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#fff;font-size:24px}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.right[_ngcontent-%COMP%]{display:flex;gap:10px}.right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;color:green;padding:10px 20px;font-size:16px;border-radius:5px;min-width:125px;cursor:pointer}.right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}strong[_ngcontent-%COMP%]{text-justify:auto;text-align:center;background-color:transparent;text-decoration:underline;color:#fff;margin-right:10px;padding:10px 20px;font-size:24px}@media (max-width: 1400px){strong[_ngcontent-%COMP%]{display:none}}"]})};var Sh=class t{title="tpsaladejuego1";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=mt({type:t,selectors:[["app-root"]],standalone:!0,features:[_t],decls:2,vars:0,template:function(n,r){n&1&&Ue(0,"app-header")(1,"router-outlet")},dependencies:[Xg,gn,Jt,Th],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})};OC(Sh,SA).catch(t=>console.error(t));
