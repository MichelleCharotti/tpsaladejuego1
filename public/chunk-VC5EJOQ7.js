import{a as R,b as U}from"./chunk-PKUTC4BC.js";import{a as E,h as A,z as T}from"./chunk-UCWVASYT.js";import{Aa as l,Eb as S,Fb as F,Gb as I,Hb as k,Ka as m,Na as c,P,Qa as s,Ra as r,Sa as y,Ta as C,Ua as h,Va as u,Wa as _,Xa as p,Ya as M,Z as x,Za as j,cb as z,eb as w,fa as d,fb as O,ga as g,va as v,za as a}from"./chunk-Q72HHEJZ.js";var f=class t{quizzes=[{country:"Somalia",answer:[{option:"Angola",correct:!1},{option:"Uruguay",correct:!1},{option:"Somalia",correct:!0},{option:"Mexico",correct:!1}]},{country:"Mexico",answer:[{option:"Mexico",correct:!0},{option:"Tunez",correct:!1},{option:"Puerto Rico",correct:!1},{option:"Egipto",correct:!1}]},{country:"United Kingdom",answer:[{option:"United Kingdom",correct:!0},{option:"Egipto",correct:!1},{option:"Colombia",correct:!1},{option:"United States",correct:!1}]},{country:"Puerto Rico",answer:[{option:"United States",correct:!1},{option:"Puerto Rico",correct:!0},{option:"Mexico",correct:!1},{option:"Angola",correct:!1}]},{country:"United Arab Emirates",answer:[{option:"Banglades",correct:!1},{option:"United Arab Emirates",correct:!0},{option:"China",correct:!1},{option:"Camboya",correct:!1}]},{country:"Japan",answer:[{option:"China",correct:!1},{option:"Corea",correct:!1},{option:"Japan",correct:!0},{option:"Banglades",correct:!1}]},{country:"South Africa",answer:[{option:"Egipto",correct:!1},{option:"Armenia",correct:!1},{option:"Camboya",correct:!1},{option:"South Africa",correct:!0}]},{country:"Brazil",answer:[{option:"Peru",correct:!1},{option:"Butan",correct:!1},{option:"Brazil",correct:!0},{option:"Mozambique",correct:!1}]},{country:"Jamaica",answer:[{option:"Jamaica",correct:!0},{option:"Panama",correct:!1},{option:"Cuba",correct:!1},{option:"Uruguay",correct:!1}]},{country:"Cuba",answer:[{option:"China",correct:!1},{option:"Argentina",correct:!1},{option:"Cuba",correct:!0},{option:"Alemania",correct:!1}]}];getPaises(){return this.quizzes}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var B=(t,o)=>({correcta:t,incorrecta:o}),D=t=>({ganado:t});function N(t,o){if(t&1){let e=C();s(0,"button",6),h("click",function(){let i=d(e).$implicit,b=u();return g(b.seleccionarRespuesta(i.correct))})("change",function(){let i=d(e).$implicit,b=u();return g(b.seleccionarRespuesta(i.option))}),p(1),r()}if(t&2){let e=o.$implicit,n=u();c("disabled",n.mostrandoMensajeFinal||n.generandoPregunta)("ngClass",O(3,B,n.mostrandoMensajeFinal&&e.correct,n.mostrandoMensajeFinal&&!e.correct)),a(),j(" ",e.option," ")}}function Q(t,o){if(t&1){let e=C();s(0,"button",9),h("click",function(){d(e);let i=u(2);return g(i.iniciarJuego())}),p(1,"\xBFOtra Pregunta?"),r()}}function H(t,o){if(t&1&&(s(0,"div",7)(1,"p"),p(2),r(),m(3,Q,2,0,"button",8),r()),t&2){let e=u();c("ngClass",w(3,D,e.gano)),a(2),M(e.mensajeFinal),a(),c("ngIf",!e.gano)}}var q=class t{constructor(o,e,n,i){this.preguntas=o;this.db=e;this.user=n;this.http=i}generandoPregunta=!1;mostrandoMensajeFinal=!1;gano=!1;mensajeFinal="";pregunta="";tema="";quizzes=[];currentQuiz=0;banderaPais={nombre:"",bandera:""};prevAnswered=[];ngOnInit(){this.iniciarJuego()}iniciarJuego(){this.generandoPregunta=!0,this.mostrandoMensajeFinal=!1,this.mensajeFinal="",this.pregunta="Generando Pregunta...",this.quizzes=this.preguntas.getPaises(),this.currentQuiz=this.random(0,9),this.prevAnswered.push(this.currentQuiz),this.obtenerPregunta()}seleccionarRespuesta(o){o?(this.ganar(),this.mostrandoMensajeFinal=!0,setTimeout(()=>{this.iniciarJuego()},1500)):(this.perder(),this.mostrandoMensajeFinal=!0)}ganar(){this.user.datos?.id&&(this.user.datos.puntajeMaxPreguntados++,this.db.actulizarPuntaje("puntajeMaxPreguntados",this.user.datos.id,this.user.datos.puntajeMaxPreguntados)),this.gano=!0,this.mensajeFinal="RESPUESTA CORRECTA!! "}perder(){this.gano=!1,this.mensajeFinal="RESPUESTA INCORRECTA "}obtenerPregunta(){let o=this.http.get(`https://restcountries.com/v3.1/name/${this.quizzes[this.currentQuiz].country}`).subscribe(e=>{e.forEach(n=>{var i={bandera:n.flags.png,nombre:n.name.common};this.banderaPais=i}),o.unsubscribe()});this.generandoPregunta=!1}random(o,e){return Math.floor(Math.random()*(e-o+1))+o}static \u0275fac=function(e){return new(e||t)(l(f),l(R),l(U),l(E))};static \u0275cmp=x({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[z],decls:9,vars:4,consts:[[1,"pregunta"],[3,"ngClass"],[3,"src"],[1,"lista-respuestas"],["class","respuesta",3,"disabled","ngClass","click","change",4,"ngFor","ngForOf"],["class","mensaje-final",3,"ngClass",4,"ngIf"],[1,"respuesta",3,"click","change","disabled","ngClass"],[1,"mensaje-final",3,"ngClass"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"h2"),p(2,"Preguntados: "),r(),s(3,"p",1),p(4," A que pais corresponde la bandera?"),r(),y(5,"img",2),r(),s(6,"div",3),m(7,N,2,6,"button",4),r(),m(8,H,4,5,"div",5)),e&2&&(a(3),_("ngClass",n.quizzes[n.currentQuiz].country),a(2),_("src",n.banderaPais.bandera,v),a(2),c("ngForOf",n.quizzes[n.currentQuiz].answer),a(),c("ngIf",n.mostrandoMensajeFinal))},dependencies:[T,k,S,F,I,A],styles:["[_nghost-%COMP%]{display:grid;grid-template:auto;justify-content:center;align-items:center;height:85vh;margin:5px}img[_ngcontent-%COMP%]{height:50vh;width:70%;display:flex;justify-content:center;align-items:center;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;font-weight:bolder;margin-bottom:20px}.pregunta[_ngcontent-%COMP%]{background-color:#89f485;padding:1vw;border-radius:20px;border:1px solid gainsboro;display:flex;flex-direction:column;justify-content:center;align-items:center}.pregunta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:600}.lista-respuestas[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:center;align-items:center}.respuesta[_ngcontent-%COMP%]{width:30vw;background-color:#89f485;padding:1vw;border-radius:20px;font-size:26px;margin:5px}.respuesta[_ngcontent-%COMP%]:hover:enabled{background-color:#56c252}.mensaje-final[_ngcontent-%COMP%]{position:fixed;top:80%;left:50%;transform:translate(-50%,-50%);background-color:#f44336;color:#fff;padding:20px;border-radius:5px;text-align:center;box-shadow:0 2px 6px #0000004d}.mensaje-final.ganado[_ngcontent-%COMP%]{background-color:#4caf50}.mensaje-final[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.correcta[_ngcontent-%COMP%]{background-color:#6ce470}.incorrecta[_ngcontent-%COMP%]{background-color:#e46c6c}.mensaje-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#000;border:none;padding:10px 20px;font-size:16px;text-align:center;cursor:pointer;border-radius:5px}.mensaje-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}"]})};export{q as PreguntadosComponent};
