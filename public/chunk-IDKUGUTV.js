import{a as k,b as w}from"./chunk-PKUTC4BC.js";import{h as A,z as F}from"./chunk-UCWVASYT.js";import{Aa as h,Eb as S,Fb as j,Gb as E,Hb as y,Ka as d,Na as s,Qa as i,Ra as o,Sa as C,Ta as u,Ua as f,Va as c,Xa as l,Ya as b,Z as x,Za as P,c as _,cb as O,fa as m,fb as M,ga as g,va as v,za as r}from"./chunk-Q72HHEJZ.js";var L=(a,e)=>({ganado:a,perdio:e});function N(a,e){a&1&&(i(0,"h2",9),l(1,"Generando Nueva Palabra"),o())}function D(a,e){if(a&1&&(i(0,"p"),l(1),o()),a&2){let n=c().$implicit;r(),b(n)}}function R(a,e){a&1&&(i(0,"p"),l(1,"_"),o())}function z(a,e){if(a&1&&(i(0,"div",10),d(1,D,2,1,"p",11)(2,R,2,0,"p",11),o()),a&2){let n=e.$implicit,t=c();r(),s("ngIf",t.letrasSeleccionadas.includes(n)),r(),s("ngIf",!t.letrasSeleccionadas.includes(n))}}function V(a,e){if(a&1){let n=u();i(0,"button",12),f("click",function(){let p=m(n).$implicit,T=c();return g(T.intentarLetra(p))}),l(1),o()}if(a&2){let n=e.$implicit,t=c();s("disabled",t.letrasSeleccionadas.includes(n)||t.mostrarMensajeFinal||t.generandoPalabra),r(),P(" ",n," ")}}function U(a,e){if(a&1){let n=u();i(0,"div",13)(1,"h2"),l(2),o(),i(3,"button",14),f("click",function(){m(n);let p=c();return g(p.nuevoJuego())}),l(4,"\xBFJugar Otra Vez?"),o()()}if(a&2){let n=c();s("ngClass",M(2,L,n.calcularVictoria(),n.calcularDerrota())),r(2),b(n.mensajeFinal)}}var I=class a{constructor(e,n){this.user=e;this.db=n;this.nuevoJuego()}palabra=["E","l"," ","P","s","y"," ","K","o","n","g","r","o","o"];errores=0;letrasSeleccionadas=[];abecedario="abcdefghijklmn\xF1opqrstuvwxyz".split("");imagenAhorcado=["../../../assets/ahorcado/hangman-0.png","../../../assets/ahorcado/hangman-1.png","../../../assets/ahorcado/hangman-2.png","../../../assets/ahorcado/hangman-3.png","../../../assets/ahorcado/hangman-4.png","../../../assets/ahorcado/hangman-5.png","../../../assets/ahorcado/hangman-6.png"];mostrarMensajeFinal=!1;generandoPalabra=!0;mensajeFinal="";listOfWords=["GATO","PERRO","LEON","ELEFANTE","SERPIENTE","COCODRILO","POMELO","MANZANA","LAPICERA","CUADERNO"];word="";nuevoJuego(){return _(this,null,function*(){this.generandoPalabra=!0,this.palabra=["E","l"," ","P","s","y"," ","K","o","n","g","r","o","o"],this.errores=0,this.mostrarMensajeFinal=!1,this.ObtenerPalabra()})}formatearPalabra(e){return e.toLowerCase().replace(" ","").replace("  ","").replace("   ","")}ObtenerPalabra(){this.word=this.listOfWords[Math.round(Math.random()*(this.listOfWords.length-1))],this.word&&(this.palabra=this.formatearPalabra(this.word).split(""),this.letrasSeleccionadas=[],this.letrasSeleccionadas.push(this.palabra[0],this.palabra[this.palabra.length-1]),this.generandoPalabra=!1)}intentarLetra(e){this.agregarLetra(e),this.verificarLetra(e),this.calcularVictoria()?this.ganoElJuego():this.calcularDerrota()&&this.Perder()}ganoElJuego(){let e=Math.max(1,this.palabra.length-5);this.mostrarMensajeFinal=!0,this.mensajeFinal="GANASTE",this.user.datos?.id&&(this.mensajeFinal=this.mensajeFinal+" "+e+" PUNTOS!!",this.user.datos.puntajeMaxAhorcado=e+this.user.datos.puntajeMaxAhorcado,this.db.actulizarPuntaje("puntajeMaxAhorcado",this.user.datos.id,this.user.datos.puntajeMaxAhorcado))}verificarLetra(e){let n=!1;e=="a"?n=this.palabra.some(t=>t==="a"||t==="\xE1"):e=="e"?n=this.palabra.some(t=>t==="e"||t==="\xE9"):e=="i"?n=this.palabra.some(t=>t==="i"||t==="\xED"):e=="o"?n=this.palabra.some(t=>t==="o"||t==="\xF3"):e=="u"?n=this.palabra.some(t=>t==="u"||t==="\xFA"||t==="\xFC"):n=this.palabra.includes(e),n||this.errores++}agregarLetra(e){this.letrasSeleccionadas.push(e),e=="a"&&this.letrasSeleccionadas.push("\xE1"),e=="e"&&this.letrasSeleccionadas.push("\xE9"),e=="i"&&this.letrasSeleccionadas.push("\xED"),e=="o"&&this.letrasSeleccionadas.push("\xF3"),e=="u"&&this.letrasSeleccionadas.push("\xFA","\xFC")}calcularVictoria(){return this.palabra.every(e=>this.letrasSeleccionadas.includes(e))}calcularDerrota(){return this.errores==6}Perder(){this.letrasSeleccionadas.push(...this.palabra),this.mostrarMensajeFinal=!0,this.mensajeFinal="PERDISTE!"}static \u0275fac=function(n){return new(n||a)(h(w),h(k))};static \u0275cmp=x({type:a,selectors:[["app-ahorcado"]],standalone:!0,features:[O],decls:9,vars:5,consts:[[1,"ahorcado-contenedor"],[1,"ahorcado-imagen"],["alt","ahorcado imagen",3,"src"],[1,"palabra-contenedor"],["class","mensaje",4,"ngIf"],["class","palabra-contenedor-letras",4,"ngFor","ngForOf"],[1,"contenedor-letras"],["class","letras-botones",3,"disabled","click",4,"ngFor","ngForOf"],["class","mensaje",3,"ngClass",4,"ngIf"],[1,"mensaje"],[1,"palabra-contenedor-letras"],[4,"ngIf"],[1,"letras-botones",3,"click","disabled"],[1,"mensaje",3,"ngClass"],[3,"click"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1),C(2,"img",2),o(),i(3,"div",3),d(4,N,2,0,"h2",4)(5,z,3,2,"div",5),o(),i(6,"div",6),d(7,V,2,2,"button",7),o(),d(8,U,5,5,"div",8),o()),n&2&&(r(2),s("src",t.imagenAhorcado[t.errores],v),r(2),s("ngIf",t.generandoPalabra),r(),s("ngForOf",t.palabra),r(2),s("ngForOf",t.abecedario),r(),s("ngIf",t.mostrarMensajeFinal))},dependencies:[A,y,S,j,E,F],styles:["[_nghost-%COMP%]{background-color:#000}.ahorcado-contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:85vh}.ahorcado-imagen[_ngcontent-%COMP%]{background-size:cover;background-position:center;margin-bottom:2vh}img[_ngcontent-%COMP%]{height:45vh;max-height:600px;width:100%}.contenedor-letras[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;max-width:600px}.letras-botones[_ngcontent-%COMP%]{align-items:end;justify-content:center;text-transform:uppercase;display:flex;font-size:5vmin;width:7vmin;height:7vmin;margin:5px;border:none;background-color:#2bb52b;color:#fff;text-align:center;cursor:pointer;border-radius:5px}.letras-botones[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}.palabra-contenedor[_ngcontent-%COMP%]{margin-top:20px;display:flex}.palabra-contenedor-letras[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:6vmin;width:5vmin;text-align:center;padding:2px;margin:0 2px}.button[_ngcontent-%COMP%]{display:inline-block;background-color:#f44336;color:#fff;border:none;padding:10px 20px;font-size:16px;text-align:center;cursor:pointer;border-radius:5px}.button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.button[_ngcontent-%COMP%]:active{background-color:#b71c1c}.mensaje[_ngcontent-%COMP%]{position:fixed;background-color:#445740;top:80%;left:50%;transform:translate(-50%,-50%);color:#fff;padding:20px;border-radius:5px;text-align:center;box-shadow:0 2px 6px #0000004d}.mensaje[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#000;border:none;padding:10px 20px;font-size:16px;text-align:center;cursor:pointer;border-radius:5px}.mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.mensaje.ganado[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mensaje.perdio[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}@media (max-height: 600px){.ahorcado-contenedor[_ngcontent-%COMP%]{flex-direction:row}.contenedor-letras[_ngcontent-%COMP%]{max-width:300px}.ahorcado-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70vh;min-width:30vw}}"]})};export{I as AhorcadoComponent};
